;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="4eabfbb5-e3b8-d104-3a49-e1d5d5d9262c")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,693241,e=>{"use strict";var t=e.i(478902),s=e.i(710483);let r=({resourceText:e,isFullPage:r=!1})=>{let a=()=>(0,t.jsx)(s.Admonition,{type:"warning",title:`You need additional permissions to ${e}`,description:"Contact your organization owner or administrator for assistance."});return r?(0,t.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,t.jsx)("div",{className:"max-w-lg",children:(0,t.jsx)(a,{})})}):(0,t.jsx)(a,{})};e.s(["NoPermission",0,r,"default",0,r])},216518,e=>{"use strict";let t=(0,e.i(388019).default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["default",()=>t])},890054,e=>{"use strict";var t=e.i(216518);e.s(["EyeOff",()=>t.default])},902780,e=>{"use strict";var t=e.i(478902),s=e.i(215261),r=e.i(837710),a=e.i(843778),i=e.i(710483);e.s(["UnknownInterface",0,({urlBack:e,fullHeight:n=!0})=>(0,t.jsx)("div",{className:(0,a.cn)("w-full flex items-center justify-center",n&&"h-full"),children:(0,t.jsx)(i.Admonition,{type:"note",className:"max-w-xl",title:"Looking for something?",description:"We couldn't find the page that you're looking for",children:(0,t.jsx)(r.Button,{asChild:!0,type:"default",className:"mt-2",children:(0,t.jsx)(s.default,{href:e,children:"Head back"})})})})])},167892,e=>{"use strict";var t=e.i(478902),s=e.i(389959),r=e.i(843778);let a="mx-auto w-full max-w-[1200px]",i="px-4 @lg:px-6 @xl:px-10",n=(0,s.forwardRef)(({className:e,bottomPadding:s,size:a="default",...n},l)=>(0,t.jsx)("div",{ref:l,...n,className:(0,r.cn)("mx-auto w-full @container",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[a],i,s&&"pb-16",e)})),l=(0,s.forwardRef)(({className:e,...s},a)=>(0,t.jsx)("header",{...s,ref:a,className:(0,r.cn)("w-full","flex-col gap-3 py-6",e)})),o=(0,s.forwardRef)(({className:e,...s},a)=>(0,t.jsx)("h1",{ref:a,...s,className:(0,r.cn)(e)})),c=(0,s.forwardRef)(({className:e,...s},a)=>(0,t.jsx)("p",{ref:a,...s,className:(0,r.cn)("text-sm text-foreground-light",e)})),d=(0,s.forwardRef)(({className:e,isFullWidth:s,topPadding:a,...i},n)=>(0,t.jsx)("div",{ref:n,...i,className:(0,r.cn)("flex flex-col first:pt-12 py-6",s?"w-full":"gap-3 @md:grid-cols-12 @lg:grid",e)})),u=(0,s.forwardRef)(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,...s,className:(0,r.cn)("w-full h-px bg-border shrink-0",e)})),m=(0,s.forwardRef)(({className:e,...s},a)=>(0,t.jsx)("h3",{ref:a,...s,className:(0,r.cn)("text-foreground text-xl",e)})),h=(0,s.forwardRef)(({className:e,...s},a)=>(0,t.jsx)("p",{ref:a,...s,className:(0,r.cn)("text-sm text-foreground-light",e)})),p=(0,s.forwardRef)(({className:e,children:s,title:a,...i},n)=>(0,t.jsxs)("div",{ref:n,...i,className:(0,r.cn)("col-span-4 xl:col-span-5 prose text-sm",e),children:[a&&(0,t.jsx)("h2",{children:a}),s]})),f=(0,s.forwardRef)(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,...s,className:(0,r.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",e)})),g=(0,s.forwardRef)(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,...s,className:(0,r.cn)("flex flex-col gap-3 items-center",e)})),x=(0,s.forwardRef)(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,...s,className:(0,r.cn)("flex w-full items-center",e)})),_=(0,s.forwardRef)(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,...s,className:(0,r.cn)("flex flex-row gap-3",e)})),b=(0,s.forwardRef)(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,...s,className:(0,r.cn)("flex flex-col gap-3","min-w-[420px]",e)})),v=(0,s.forwardRef)(({className:e,...s},n)=>(0,t.jsx)("div",{ref:n,...s,className:(0,r.cn)(a,i,"my-8 flex flex-col gap-8",e)}));l.displayName="ScaffoldHeader",o.displayName="ScaffoldTitle",c.displayName="ScaffoldDescription",n.displayName="ScaffoldContainer",u.displayName="ScaffoldDivider",d.displayName="ScaffoldSection",b.displayName="ScaffoldColumn",p.displayName="ScaffoldSectionDetail",f.displayName="ScaffoldSectionContent",g.displayName="ScaffoldFilterAndContent",x.displayName="ScaffoldActionsContainer",_.displayName="ScaffoldActionsGroup",v.displayName="ScaffoldContainerLegacy",m.displayName="ScaffoldSectionTitle",h.displayName="ScaffoldSectionDescription",e.s(["MAX_WIDTH_CLASSES",0,a,"PADDING_CLASSES",0,i,"ScaffoldActionsContainer",0,x,"ScaffoldActionsGroup",0,_,"ScaffoldColumn",0,b,"ScaffoldContainer",0,n,"ScaffoldContainerLegacy",0,v,"ScaffoldDescription",0,c,"ScaffoldDivider",0,u,"ScaffoldFilterAndContent",0,g,"ScaffoldHeader",0,l,"ScaffoldSection",0,d,"ScaffoldSectionContent",0,f,"ScaffoldSectionDescription",0,h,"ScaffoldSectionDetail",0,p,"ScaffoldSectionTitle",0,m,"ScaffoldTitle",0,o])},547723,e=>{"use strict";var t=e.i(478902),s=e.i(389959),r=e.i(843778);let a=(0,s.forwardRef)((e,s)=>(0,t.jsx)("nav",{ref:s,dir:"ltr",...e,className:(0,r.cn)("border-b",e.className),children:(0,t.jsx)("ul",{role:"menu",className:"flex gap-5",children:e.children})})),i=(0,s.forwardRef)(({children:e,className:s,active:a,...i},n)=>(0,t.jsx)("li",{ref:n,"aria-selected":a?"true":"false","data-state":a?"active":"inactive",className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap text-sm ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground text-foreground-lighter hover:text-foreground data-[state=active]:border-foreground border-b-2 border-transparent *:py-1.5",s),...i,children:e}));e.s(["NavMenu",0,a,"NavMenuItem",0,i])},79771,e=>{"use strict";var t=e.i(478902),s=e.i(215261),r=e.i(898452);e.i(128328);var a=e.i(158639),i=e.i(587433),n=e.i(837710),l=e.i(843778),o=e.i(547723),c=e.i(167892),d=e.i(954676),u=e.i(389959),m=e.i(3259);let h=({title:e,subtitle:r,icon:i,breadcrumbs:n=[],primaryActions:o,secondaryActions:h,className:p,isCompact:f=!1})=>{let{ref:g}=(0,a.useParams)(),x=f&&e?[...n,{label:e}]:n;return(0,t.jsxs)("div",{className:(0,l.cn)("space-y-4",p),children:[(x.length>0||f&&(e||o||h))&&(0,t.jsxs)("div",{className:(0,l.cn)("flex items-center gap-4",f?"justify-between":"mb-4"),children:[(0,t.jsx)("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:n.length>0?(0,t.jsx)(m.Breadcrumb,{className:(0,l.cn)("text-foreground-muted",f&&"text-base","min-w-0 flex-1"),children:(0,t.jsxs)(m.BreadcrumbList,{className:(0,l.cn)(f?"text-base":"text-xs","min-w-0"),children:[n.map((e,r)=>(0,t.jsxs)(u.Fragment,{children:[(0,t.jsx)(m.BreadcrumbItem,{children:e.element?e.element:e.href?(0,t.jsx)(m.BreadcrumbLink,{asChild:!0,className:"flex items-center gap-2",children:(0,t.jsxs)(s.default,{href:g?e.href.replace("[ref]",g):e.href,children:[1===n.length&&!f&&(0,t.jsx)(d.ChevronLeft,{size:16,strokeWidth:1.5}),e.label]})}):(0,t.jsxs)(m.BreadcrumbPage,{className:"flex items-center gap-2",children:[1===n.length&&(0,t.jsx)(d.ChevronLeft,{size:16,strokeWidth:1.5}),e.label]})}),r<n.length-1&&(0,t.jsx)(m.BreadcrumbSeparator,{})]},e.label||`breadcrumb-${r}`)),f&&e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.BreadcrumbSeparator,{}),(0,t.jsx)(m.BreadcrumbItem,{className:"min-w-0 flex-1",children:(0,t.jsx)(m.BreadcrumbPage,{className:"min-w-0",children:e})})]})]})}):f?(0,t.jsx)("div",{className:"min-w-0 flex-1",children:e}):null}),f&&(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[h&&(0,t.jsx)("div",{className:"flex items-center gap-2",children:h}),o&&(0,t.jsx)("div",{className:"flex items-center gap-2",children:o})]})]}),!f&&(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[i&&(0,t.jsx)("div",{className:"text-foreground-light",children:i}),(0,t.jsxs)("div",{className:"space-y-1",children:[e&&(0,t.jsx)(c.ScaffoldTitle,{children:e}),r&&(0,t.jsx)(c.ScaffoldDescription,{className:"text-sm text-foreground-light",children:r})]})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[h&&(0,t.jsx)("div",{className:"flex items-center gap-2",children:h}),o&&(0,t.jsx)("div",{className:"flex items-center gap-2",children:o})]})]})]})};e.s(["PageLayout",0,({children:e,title:d,subtitle:u,icon:m,breadcrumbs:p=[],primaryActions:f,secondaryActions:g,navigationItems:x=[],className:_,size:b="default",isCompact:v=!1})=>{let{ref:j}=(0,a.useParams)(),y=(0,r.useRouter)();return(0,t.jsxs)("div",{className:(0,l.cn)("w-full min-h-full flex flex-col items-stretch",_),children:[(0,t.jsxs)(c.ScaffoldContainer,{size:b,className:(0,l.cn)("w-full mx-auto","full"===b&&(v?"max-w-none !px-6 border-b pt-4":"max-w-none pt-6 !px-10 border-b"),"full"!==b&&(v?"pt-4":"pt-12"),0===x.length&&"full"===b&&(v?"pb-4":"pb-8")),children:[(d||u||f||g||p.length>0)&&(0,t.jsx)(h,{title:d,subtitle:u,icon:m,breadcrumbs:p,primaryActions:f,secondaryActions:g,isCompact:v}),x.length>0&&(0,t.jsx)(o.NavMenu,{className:(0,l.cn)(v?"mt-2":"mt-4","full"===b&&"border-none"),children:x.map(e=>{let r=void 0!==e.active?e.active:y.asPath.split("?")[0]===e.href;return(0,t.jsx)(o.NavMenuItem,{active:r,children:e.href?(0,t.jsxs)(s.default,{href:e.href.includes("[ref]")&&j?e.href.replace("[ref]",j):e.href,className:(0,l.cn)("inline-flex items-center gap-2",r&&"text-foreground"),onClick:e.onClick,children:[e.icon&&(0,t.jsx)("span",{children:e.icon}),e.label,e.badge&&(0,t.jsx)(i.Badge,{variant:"default",children:e.badge})]}):(0,t.jsxs)(n.Button,{type:"link",onClick:e.onClick,className:(0,l.cn)(r&&"text-foreground font-medium"),children:[e.icon&&(0,t.jsx)("span",{className:"mr-2",children:e.icon}),e.label,e.badge&&(0,t.jsx)(i.Badge,{variant:"default",children:e.badge})]})},e.label)})})]}),e]})}],79771)},441345,e=>{"use strict";var t=e.i(343563);e.s(["Form",()=>t.default])},460988,e=>{"use strict";var t=e.i(156054),s=e.i(55956),r=e.i(807162),a=e.i(228598),i=e.i(389959);e.i(128328);var n=e.i(86086),l=e.i(884892),o=e.i(857054),c=e.i(993394);let d=e=>s.default.utc(Number(e)/1e3).toISOString(),u=e=>{let t=16===String(e).length;return!Number.isNaN(Number(e))&&t},m=(e,t)=>Object.keys(e).filter(t=>e[t]).flatMap(s=>{let r=t?`${t}.${s}`:s;return"object"==typeof e[s]?m(e[s],r):[r]}),h=(e,t)=>{let s=Object.keys(t),a=c.SQL_FILTER_TEMPLATES[e],i=e=>{let s=a[e],i=(0,r.default)(t,e);if(void 0!==i&&"function"==typeof s)return s(i);if(void 0===s)if("string"==typeof i)return`${e} = '${i}'`;else return`${e} = ${i}`;return void 0===i&&"function"==typeof s?null:s&&!1===i?null:s},n=s.map(e=>{if(void 0===t[e]||"string"==typeof t[e]&&0===t[e].length)return null;if("object"==typeof t[e]){let s=m(t[e],e).map(i).filter(Boolean);return s.length>0?`(${s.join(" or ")})`:null}{let t=i(e);return null===t?null:`(${t})`}}).filter(Boolean).join(" and ");return n?"where "+n:""},p=e=>{switch(e){case"edge_logs":return`cross join unnest(metadata) as m
  cross join unnest(m.request) as request
  cross join unnest(m.response) as response`;case"pg_cron_logs":case"postgres_logs":return`cross join unnest(metadata) as m
  cross join unnest(m.parsed) as parsed`;case"function_logs":case"auth_logs":return"cross join unnest(metadata) as metadata";case"function_edge_logs":return`cross join unnest(metadata) as m
  cross join unnest(m.response) as response
  cross join unnest(m.request) as request`;case"supavisor_logs":return"cross join unnest(metadata) as m";default:return""}},f=n.IS_PLATFORM?"where ( parsed.application_name = 'pg_cron' or regexp_contains(event_message, 'cron job') )":"where ( parsed.application_name = 'pg_cron' or event_message::text LIKE '%cron job%' )",g=e=>{let t=e.reduce((e,t)=>{let s=x(t);return e[s]+=1,e},{second:0,minute:0,hour:0,day:0});return Object.keys(t).reduce((e,s)=>t[e]>t[s]?e:s)},x=e=>({0:"second",1:"minute",2:"hour",3:"day"})[["second","minute","hour"].map(t=>e.get(t)).reduce((e,t)=>(0===t&&(e+=1),e),0)];function _(e){let t=e.replace(/--.*$/gm,"").replace(/\/\*[\s\S]*?\*\//gm,"");return/\b(WITH)\b(?=(?:[^']*'[^']*')*[^']*$)/i.test(t)}function b(e){let t=e.replace(/--.*$/gm,"").replace(/\/\*[\s\S]*?\*\//gm,"");return/\b(ILIKE)\b(?=(?:[^']*'[^']*')*[^']*$)/i.test(t)}function v(e){let t=e?.[0]?.request?.[0]?.sb?.[0]?.jwt?.[0]?.apikey?.[0];if(!t)return;if(t.invalid)return"<invalid>";let s=t?.payload?.[0];return s&&"HS256"===s.algorithm&&"supabase"===s.issuer&&["anon","service_role"].includes(s.role)&&!s.subject?s.role:"<unrecognized>"}function j(e){let t=e?.[0]?.request?.[0]?.sb?.[0]?.apikey?.[0]?.apikey?.[0];if(t)return t.error?`${t.prefix}... <invalid: ${t.error}>`:`${t.prefix}...`}function y(e){let t=e?.[0]?.request?.[0]?.sb?.[0]?.jwt?.[0]?.authorization?.[0];if(!t||t.invalid)return;let s=t?.payload?.[0];if(s&&s.role)return s.role}e.s(["apiKey",()=>j,"checkForILIKEClause",()=>b,"checkForWithClause",()=>_,"fillTimeseries",0,(e,t,r,a,i,n,l=20,o)=>{let c;if(0===e.length&&!(i&&n))return[];if(e.length>l)return e.map(e=>{let r=e[t],a=u(r)?d(r):s.default.utc(r).toISOString();return e[t]=a,e});if(e.length<=1&&!(i&&n))return e;let m=e.map(e=>s.default.utc(e[t])),h=n?s.default.utc(n):s.default.utc(Math.max.apply(null,m)),p=i?s.default.utc(i):s.default.utc(Math.min.apply(null,m)),f=e.length>0?m:[p,h],x=1;if(o){let e=o.match(/^(\d+)(m|h|d|s)$/);e?(x=parseInt(e[1],10),c=({s:"second",m:"minute",h:"hour",d:"day"})[e[2]]):c=g(f)}else c=g(f);0!==e.length||o||(c="minute");let _=e.map(e=>{let a=e[t],i=u(a)?d(a):s.default.utc(a).toISOString();return Array.isArray(r)&&0===r.length?{[t]:i}:(e[t]=i,e)}),b=p;for(;b.isBefore(h)||b.isSame(h);){if(!m.find(e=>e.year()===b.year()&&e.month()===b.month()&&e.date()===b.date()&&e.hour()===b.hour()&&e.minute()===b.minute()&&e.second()===b.second())){let e=("string"==typeof r?[r]:r).reduce((e,t)=>({...e,[t]:a}),{});_.push({[t]:b.toISOString(),...e})}b=b.add(x,c)}return _},"genChartQuery",0,(e,t,r)=>{let a,i,n,l,o,d,[u,m]=(a=t.iso_timestamp_end?(0,s.default)(t.iso_timestamp_end):(0,s.default)(),i=t.iso_timestamp_start?(0,s.default)(t.iso_timestamp_start):(0,s.default)(),n="minute",l=360,o=a.diff(i,"minute"),d=a.diff(i,"hour"),o>720?(n="hour",l=120):d>72&&(n="day",l=7),[i.add(-l,n),n]),g=h(e,r),x=function(e){switch(e){case"edge_logs":case"function_edge_logs":return"response.status_code >= 500";case"postgres_logs":case"pg_cron_logs":return"parsed.error_severity IN ('ERROR', 'FATAL', 'PANIC')";case"auth_logs":return"metadata.level = 'error' OR SAFE_CAST(metadata.status AS INT64) >= 400";case"function_logs":return"metadata.level IN ('error', 'fatal')";default:return"false"}}(e),_=function(e){switch(e){case"edge_logs":case"function_edge_logs":return"response.status_code >= 400 AND response.status_code < 500";case"postgres_logs":return"parsed.error_severity IN ('WARNING')";case"auth_logs":return"metadata.level = 'warning'";case"function_logs":return"metadata.level IN ('warning')";default:return"false"}}(e);e===c.LogsTableName.PG_CRON&&(e=c.LogsTableName.POSTGRES,g=f);let b=p(e);return`
SELECT
-- log-event-chart
  timestamp_trunc(t.timestamp, ${m}) as timestamp,
  count(CASE WHEN NOT (${x} OR ${_}) THEN 1 END) as ok_count,
  count(CASE WHEN ${x} THEN 1 END) as error_count,
  count(CASE WHEN ${_} THEN 1 END) as warning_count,
FROM
  ${e} t
  ${b}
  ${g?g+` and t.timestamp > '${u.toISOString()}'`:`where t.timestamp > '${u.toISOString()}'`}
GROUP BY
timestamp
ORDER BY
  timestamp ASC
  `},"genCountQuery",0,(e,t)=>{let s=h(e,t);e===c.LogsTableName.PG_CRON&&(e=c.LogsTableName.POSTGRES,s=f);let r=p(e);return`SELECT count(*) as count FROM ${e} ${r} ${s}`},"genDefaultQuery",0,(e,t,s=100)=>{let r=h(e,t),a=p(e),i="order by timestamp desc";switch(e){case"edge_logs":if(!n.IS_PLATFORM)return`
-- local dev edge_logs query
select id, edge_logs.timestamp, event_message, request.method, request.path, request.search, response.status_code
from edge_logs
${a}
${r}
${i}
limit ${s};
`;return`select id, identifier, timestamp, event_message, request.method, request.path, request.search, response.status_code
  from ${e}
  ${a}
  ${r}
  ${i}
  limit ${s}
  `;case"postgres_logs":if(!n.IS_PLATFORM)return`
select postgres_logs.timestamp, id, event_message, parsed.error_severity, parsed.detail, parsed.hint
from postgres_logs
${a}
${r}
${i}
limit ${s}
  `;return`select identifier, postgres_logs.timestamp, id, event_message, parsed.error_severity, parsed.detail, parsed.hint from ${e}
  ${a}
  ${r}
  ${i}
  limit ${s}
  `;case"function_logs":return`select id, ${e}.timestamp, event_message, metadata.event_type, metadata.function_id, metadata.level from ${e}
  ${a}
  ${r}
  ${i}
  limit ${s}
    `;case"auth_logs":return`select id, ${e}.timestamp, event_message, metadata.level, metadata.status, metadata.path, metadata.msg as msg, metadata.error from ${e}
  ${a}
  ${r}
  ${i}
  limit ${s}
    `;case"function_edge_logs":if(!n.IS_PLATFORM)return`
select id, function_edge_logs.timestamp, event_message
from function_edge_logs
${i}
limit ${s}
`;return`select id, ${e}.timestamp, event_message, response.status_code, request.method, m.function_id, m.execution_time_ms, m.deployment_id, m.version from ${e}
  ${a}
  ${r}
  ${i}
  limit ${s}
  `;case"supavisor_logs":return`select id, ${e}.timestamp, event_message from ${e} ${a} ${r} ${i} limit ${s}`;case"pg_upgrade_logs":return`select id, ${e}.timestamp, event_message from ${e} ${a} ${r} ${i} limit 100`;default:return`select id, ${e}.timestamp, event_message from ${e}
  ${r}
  ${i}
  limit ${s}
  `;case"pg_cron_logs":let l=r?`${f} AND ${r.substring(6)}`:f;return`select id, postgres_logs.timestamp, event_message, parsed.error_severity, parsed.query
from postgres_logs
${a}
${l}
${i}
limit ${s}
`}},"genSingleLogQuery",0,(e,t)=>`select id, timestamp, event_message, metadata from ${e} where id = '${t}' limit 1`,"isDefaultLogPreviewFormat",0,e=>e&&e.timestamp&&e.event_message&&e.id,"isUnixMicro",0,u,"jwtAPIKey",()=>v,"maybeShowUpgradePrompt",0,(e,t)=>{let r=Math.abs((0,s.default)().diff((0,s.default)(e),"day"));return r>1&&"free"===t||r>7&&"pro"===t||r>28&&"team"===t||r>90&&"enterprise"===t},"maybeShowUpgradePromptIfNotEntitled",0,(e,t)=>!!t&&Math.abs((0,s.default)().diff((0,s.default)(e),"day"))>t,"role",()=>y,"unixMicroToIsoTimestamp",0,d,"useEditorHints",0,()=>{let e=(0,t.useMonaco)();(0,i.useEffect)(()=>{if(e){let t=e.languages.registerCompletionItemProvider("pgsql",{triggerCharacters:["`"," ","."],provideCompletionItems:function(t,s,r){let i=new l.default(t,s.column-2,s.lineNumber-1);if(i.isNextDQuote())return{suggestions:[]};let n=[],c=o.default.schemas.filter(e=>i._text.includes(e.reference));if(0===c.length&&(c=o.default.schemas),i.isNextPeriod()){let t=c.flatMap(e=>e.fields).flatMap(e=>{let[t,...s]=e.path.split(".");return s}).map(t=>({label:t,kind:e.languages.CompletionItemKind.Property,insertText:t}));n=n.concat(t)}if("`"===r.triggerCharacter||" "===r.triggerCharacter){let t=o.default.schemas.map(t=>({label:t.reference,kind:e.languages.CompletionItemKind.Class,insertText:t.reference})),s=c.flatMap(e=>e.fields).flatMap(e=>e.path.split(".").slice(0,-1)).map(t=>({label:t,kind:e.languages.CompletionItemKind.Property,insertText:t}));n=(n=n.concat(s)).concat(t)}return{suggestions:(0,a.default)(n,"label")}}});return()=>{t.dispose()}}},[e])}])},993394,e=>{"use strict";var t,s=e.i(55956),r=e.i(10429);e.i(128328);var a=e.i(86086);let i=`${r.DOCS_URL}/guides/platform/logs#querying-with-the-logs-explorer`,n=[{label:"Recent Errors",mode:"simple",searchString:"[Ee]rror|\\s[45][0-9][0-9]\\s",for:["api"]},{label:"Commits",mode:"simple",searchString:"COMMIT",for:["database"]},{label:"Commits By User",description:"Count of commits made by users on the database",mode:"custom",searchString:`select
  p.user_name,
  count(*) as count
from postgres_logs
  left join unnest(metadata) as m on true
  left join unnest(m.parsed) as p on true
where
  regexp_contains(event_message, 'COMMIT')
group by
  p.user_name
  `,for:["database"]},{label:"Metadata IP",description:"List all IP addresses that used the Supabase API",mode:"custom",searchString:`select
  cast(timestamp as datetime) as timestamp,
  h.x_real_ip
from edge_logs
  left join unnest(metadata) as m on true
  left join unnest(m.request) as r on true
  left join unnest(r.headers) as h on true
where h.x_real_ip is not null
`,for:["api"]},{label:"Requests by Geography",description:"List all ISO 3166-1 alpha-2 country codes that used the Supabase API",mode:"custom",searchString:`select
  cf.country,
  count(*) as count
from edge_logs
  left join unnest(metadata) as m on true
  left join unnest(m.request) as r on true
  left join unnest(r.cf) as cf on true
group by
  cf.country
order by
  count desc
`,for:["api"]},{label:"Slow Response Time",mode:"custom",description:"List all Supabase API requests that are slow",searchString:`select
  cast(timestamp as datetime) as timestamp,
  event_message,
  r.origin_time
from edge_logs
  cross join unnest(metadata) as m
  cross join unnest(m.response) as r
where
  r.origin_time > 1000
order by
  timestamp desc
limit 100
`,for:["api"]},{label:"500 Request Codes",description:"List all Supabase API requests that responded witha 5XX status code",mode:"custom",searchString:`select
  cast(timestamp as datetime) as timestamp,
  event_message,
  r.status_code
from edge_logs
  cross join unnest(metadata) as m
  cross join unnest(m.response) as r
where
  r.status_code >= 500
order by
  timestamp desc
limit 100
`,for:["api"]},{label:"Top Paths",description:"List the most requested Supabase API paths",mode:"custom",searchString:`select
  r.path as path,
  r.search as params,
  count(timestamp) as c
from edge_logs
  cross join unnest(metadata) as m
  cross join unnest(m.request) as r
group by
  path,
  params
order by
  c desc
limit 100
`,for:["api"]},{label:"REST Requests",description:"List all PostgREST requests",mode:"custom",searchString:`select
  cast(timestamp as datetime) as timestamp,
  event_message
from edge_logs
  cross join unnest(metadata) as m
  cross join unnest(m.request) as r
where
  path like '%rest/v1%'
order by
  timestamp desc
limit 100
`,for:["api"]},{label:"Errors",description:"List all Postgres error messages with ERROR, FATAL, or PANIC severity",mode:"custom",searchString:`select
  cast(t.timestamp as datetime) as timestamp,
  p.error_severity,
  event_message
from postgres_logs as t
  cross join unnest(metadata) as m
  cross join unnest(m.parsed) as p
where
  p.error_severity in ('ERROR', 'FATAL', 'PANIC')
order by
  timestamp desc
limit 100
`,for:["database"]},{label:"Error Count by User",description:"Count of errors by users",mode:"custom",searchString:`select
  count(t.timestamp) as count,
  p.user_name,
  p.error_severity
from postgres_logs as t
  cross join unnest(metadata) as m
  cross join unnest(m.parsed) as p
where
  p.error_severity in ('ERROR', 'FATAL', 'PANIC')
group by
  p.user_name,
  p.error_severity
order by
  count desc
limit 100
`,for:["database"]},{label:"Auth Endpoint Events",description:"Endpoint events filtered by path",mode:"custom",searchString:`select
  t.timestamp,
  event_message
from auth_logs as t
where
  regexp_contains(event_message,"level.{3}(info|warning||error|fatal)")
  -- and regexp_contains(event_message,"path.{3}(/token|/recover|/signup|/otp)")
limit 100
`,for:["database"]},{label:"Auth Audit Logs",description:"Audit logs for auth events",mode:"custom",searchString:`select
  cast(timestamp as datetime) as timestamp,
  event_message, metadata 
from auth_audit_logs 
limit 10
`,for:["database"]},{label:"Storage Object Requests",description:"Number of requests done on Storage Objects",mode:"custom",searchString:`select
  r.method as http_verb,
  r.path as filepath,
  count(*) as num_requests
from edge_logs
  cross join unnest(metadata) as m
  cross join unnest(m.request) AS r
  cross join unnest(r.headers) AS h
where
  path like '%storage/v1/object/%'
group by
  r.path, r.method
order by
  num_requests desc
limit 100
`,for:["api"]},{label:"Storage Egress Requests",description:"Check the number of requests done on Storage Affecting Egress",mode:"custom",searchString:`select
  request.method as http_verb,
  request.path as filepath,
  (responseHeaders.cf_cache_status = 'HIT') as cached,
  count(*) as num_requests
from
  edge_logs
  cross join unnest(metadata) as metadata
  cross join unnest(metadata.request) as request
  cross join unnest(metadata.response) as response
  cross join unnest(response.headers) as responseHeaders
where
  (path like '%storage/v1/object/%' or path like '%storage/v1/render/%')
  and request.method = 'GET'
group by 1, 2, 3
order by num_requests desc
limit 100;
`,for:["api"]},{label:"Storage Top Cache Misses",description:"The top Storage requests that miss caching",mode:"custom",searchString:`select
  r.path as path,
  r.search as search,
  count(id) as count
from edge_logs f
  cross join unnest(f.metadata) as m
  cross join unnest(m.request) as r
  cross join unnest(m.response) as res
  cross join unnest(res.headers) as h
where starts_with(r.path, '/storage/v1/object')
  and r.method = 'GET'
  and h.cf_cache_status in ('MISS', 'NONE/UNKNOWN', 'EXPIRED', 'BYPASS', 'DYNAMIC')
group by path, search
order by count desc
limit 100;
`,for:["api"]}],l={search_query:e=>`regexp_contains(event_message, '${e}')`},o={postgres_logs:{...l,database:e=>`identifier = '${e}'`,"severity.error":"parsed.error_severity in ('ERROR', 'FATAL', 'PANIC')","severity.noError":"parsed.error_severity not in ('ERROR', 'FATAL', 'PANIC')","severity.log":"parsed.error_severity = 'LOG'"},edge_logs:{...l,database:e=>`identifier = '${e}'`,"status_code.error":"response.status_code between 500 and 599","status_code.success":"response.status_code between 200 and 299","status_code.warning":"response.status_code between 400 and 499","product.database":"request.path like '/rest/%' or request.path like '/graphql/%'","product.storage":"request.path like '/storage/%'","product.auth":"request.path like '/auth/%'","product.realtime":"request.path like '/realtime/%'","method.get":"request.method = 'GET'","method.post":"request.method = 'POST'","method.put":"request.method = 'PUT'","method.patch":"request.method = 'PATCH'","method.delete":"request.method = 'DELETE'","method.options":"request.method = 'OPTIONS'"},function_edge_logs:{...l,"status_code.error":"response.status_code between 500 and 599","status_code.success":"response.status_code between 200 and 299","status_code.warning":"response.status_code between 400 and 499"},function_logs:{...l,"severity.error":"metadata.level = 'error'","severity.notError":"metadata.level != 'error'","severity.log":"metadata.level = 'log'","severity.info":"metadata.level = 'info'","severity.debug":"metadata.level = 'debug'","severity.warn":"metadata.level = 'warn'"},auth_logs:{...l,"severity.error":"metadata.level = 'error' or metadata.level = 'fatal'","severity.warning":"metadata.level = 'warning'","severity.info":"metadata.level = 'info'","status_code.server_error":"cast(metadata.status as int64) between 500 and 599","status_code.client_error":"cast(metadata.status as int64) between 400 and 499","status_code.redirection":"cast(metadata.status as int64) between 300 and 399","status_code.success":"cast(metadata.status as int64) between 200 and 299","endpoints.admin":'REGEXP_CONTAINS(metadata.path, "/admin")',"endpoints.signup":'REGEXP_CONTAINS(metadata.path, "/signup|/invite|/verify")',"endpoints.authentication":'REGEXP_CONTAINS(metadata.path, "/token|/authorize|/callback|/otp|/magiclink")',"endpoints.recover":'REGEXP_CONTAINS(metadata.path, "/recover")',"endpoints.user":'REGEXP_CONTAINS(metadata.path, "/user")',"endpoints.logout":'REGEXP_CONTAINS(metadata.path, "/logout")'},realtime_logs:{...l},storage_logs:{...l},postgrest_logs:{...l,database:e=>`identifier = '${e}'`},pgbouncer_logs:{...l},supavisor_logs:{...l,database:e=>`m.project like '${e}%'`},pg_upgrade_logs:{...l},pg_cron_logs:{...l},etl_replication_logs:{...l,pipeline_id:e=>`pipeline_id = ${e}`}};var c=((t={}).EDGE="edge_logs",t.POSTGRES="postgres_logs",t.FUNCTIONS="function_logs",t.FN_EDGE="function_edge_logs",t.AUTH="auth_logs",t.AUTH_AUDIT="auth_audit_logs",t.REALTIME="realtime_logs",t.STORAGE="storage_logs",t.POSTGREST="postgrest_logs",t.SUPAVISOR="supavisor_logs",t.PGBOUNCER="pgbouncer_logs",t.PG_UPGRADE="pg_upgrade_logs",t.PG_CRON="pg_cron_logs",t.ETL="etl_replication_logs",t);let d={postgres_logs:{severity:{label:"Severity",key:"severity",options:[{key:"error",label:"Error",description:"Show all events with ERROR, PANIC, or FATAL"},{key:"noError",label:"No Error",description:"Show all non-error events"},{key:"log",label:"Log",description:"Show all events that are log severity"}]}},edge_logs:{status_code:{label:"Status",key:"status_code",options:[{key:"error",label:"Error",description:"500 error codes"},{key:"success",label:"Success",description:"200 codes"},{key:"warning",label:"Warning",description:"400 codes"}]},product:{label:"Product",key:"product",options:[{key:"database",label:"Database",description:""},{key:"auth",label:"Auth",description:""},{key:"storage",label:"Storage",description:""},{key:"realtime",label:"Realtime",description:""}]},method:{label:"Method",key:"method",options:[{key:"get",label:"GET",description:""},{key:"options",label:"OPTIONS",description:""},{key:"put",label:"PUT",description:""},{key:"post",label:"POST",description:""},{key:"patch",label:"PATCH",description:""},{key:"delete",label:"DELETE",description:""}]}},...a.IS_PLATFORM?{function_edge_logs:{status_code:{label:"Status",key:"status_code",options:[{key:"error",label:"Error",description:"500 error codes"},{key:"success",label:"Success",description:"200 codes"},{key:"warning",label:"Warning",description:"400 codes"}]}}}:{},function_logs:{severity:{label:"Severity",key:"severity",options:[{key:"error",label:"Error",description:'Show all events that are "error" severity'},{key:"warn",label:"Warning",description:'Show all events that are "warn" severity'},{key:"info",label:"Info",description:'Show all events that are "info" severity'},{key:"debug",label:"Debug",description:'Show all events that are "debug" severity'},{key:"log",label:"Log",description:'Show all events that are "log" severity'}]}},auth_logs:{severity:{label:"Severity",key:"severity",options:[{key:"error",label:"Error",description:"Show all events that have error or fatal severity"},{key:"warning",label:"Warning",description:"Show all events that have warning severity"},{key:"info",label:"Info",description:"Show all events that have info severity"}]},status_code:{label:"Status Code",key:"status_code",options:[{key:"server_error",label:"Server Error",description:"Show all requests with 5XX status code"},{key:"client_error",label:"Client Error",description:"Show all requests with 4XX status code"},{key:"redirection",label:"Redirection",description:"Show all requests that have 3XX status code"},{key:"success",label:"Success",description:"Show all requests that have 2XX status code"}]},endpoints:{label:"Endpoints",key:"endpoints",options:[{key:"admin",label:"Admin",description:"Show all admin requests"},{key:"signup",label:"Sign up",description:"Show all signup and authorization requests"},{key:"recover",label:"Password Recovery",description:"Show all password recovery requests"},{key:"authentication",label:"Authentication",description:"Show all authentication flow requests (login, otp, and Oauth2)"},{key:"user",label:"User",description:"Show all user data requests"},{key:"logout",label:"Logout",description:"Show all logout requests"}]}}},u=[{text:"Last 15 minutes",calcFrom:()=>(0,s.default)().subtract(15,"minute").toISOString(),calcTo:()=>""},{text:"Last 30 minutes",calcFrom:()=>(0,s.default)().subtract(30,"minute").toISOString(),calcTo:()=>""},{text:"Last hour",calcFrom:()=>(0,s.default)().subtract(1,"hour").toISOString(),calcTo:()=>"",default:!0},{text:"Last 3 hours",calcFrom:()=>(0,s.default)().subtract(3,"hour").toISOString(),calcTo:()=>""},{text:"Last 24 hours",calcFrom:()=>(0,s.default)().subtract(1,"day").toISOString(),calcTo:()=>""},{text:"Last 2 days",calcFrom:()=>(0,s.default)().subtract(2,"day").toISOString(),calcTo:()=>""},{text:"Last 3 days",calcFrom:()=>(0,s.default)().subtract(3,"day").toISOString(),calcTo:()=>""},{text:"Last 5 days",calcFrom:()=>(0,s.default)().subtract(5,"day").toISOString(),calcTo:()=>""}],m=[{text:"Last hour",calcFrom:()=>(0,s.default)().subtract(1,"hour").toISOString(),calcTo:()=>"",default:!0},{text:"Last 3 hours",calcFrom:()=>(0,s.default)().subtract(3,"hour").toISOString(),calcTo:()=>""},{text:"Last 24 hours",calcFrom:()=>(0,s.default)().subtract(1,"day").toISOString(),calcTo:()=>""},{text:"Last 3 days",calcFrom:()=>(0,s.default)().subtract(3,"day").toISOString(),calcTo:()=>""},{text:"Last 7 days",calcFrom:()=>(0,s.default)().subtract(7,"day").toISOString(),calcTo:()=>""}];e.s(["EXPLORER_DATEPICKER_HELPERS",0,m,"FILTER_OPTIONS",0,d,"LOGS_EXPLORER_DOCS_URL",0,i,"LOGS_LARGE_DATE_RANGE_DAYS_THRESHOLD",0,2,"LOGS_SOURCE_DESCRIPTION",0,{edge_logs:"Logs obtained from the network edge, containing all API requests",postgres_logs:"Database logs obtained directly from Postgres",function_logs:"Function logs generated from runtime execution",function_edge_logs:"Function call logs, containing the request and response",auth_logs:"Errors, warnings, and performance details from the auth service",auth_audit_logs:"Audit records of user signups, logins, and account changes",realtime_logs:"Realtime server for Postgres logical replication broadcasting",storage_logs:"Object storage logs",postgrest_logs:"RESTful API web server logs",supavisor_logs:"Shared connection pooler logs for PostgreSQL",pgbouncer_logs:"Dedicated connection pooler for PostgreSQL",pg_upgrade_logs:"Logs generated by the Postgres version upgrade process",pg_cron_logs:"Postgres logs from pg_cron cron jobs",etl_replication_logs:"Logs from the replication process"},"LOGS_TABLES",0,{api:"edge_logs",database:"postgres_logs",functions:"function_logs",fn_edge:"function_edge_logs",auth:"auth_logs",realtime:"realtime_logs",storage:"storage_logs",postgrest:"postgrest_logs",supavisor:"supavisor_logs",pg_upgrade:"pg_upgrade_logs",pg_cron:"postgres_logs",pgbouncer:"pgbouncer_logs",etl:"etl_replication_logs"},"LOG_ROUTES_WITH_REPLICA_SUPPORT",0,["/project/[ref]/logs/edge-logs","/project/[ref]/logs/pooler-logs","/project/[ref]/logs/postgres-logs","/project/[ref]/logs/postgrest-logs"],"LogsTableName",()=>c,"PREVIEWER_DATEPICKER_HELPERS",0,u,"SQL_FILTER_TEMPLATES",0,o,"TEMPLATES",0,n,"TIER_QUERY_LIMITS",0,{FREE:{text:"1 day",value:1,unit:"day",promptUpgrade:!0},PRO:{text:"7 days",value:7,unit:"day",promptUpgrade:!0},PAYG:{text:"7 days",value:7,unit:"day",promptUpgrade:!0},TEAM:{text:"28 days",value:28,unit:"day",promptUpgrade:!0},ENTERPRISE:{text:"90 days",value:90,unit:"day",promptUpgrade:!1},PLATFORM:{text:"1 day",value:1,unit:"day",promptUpgrade:!1}},"getDefaultHelper",0,e=>e.find(e=>e.default)||e[0]])},884892,e=>{"use strict";let t=class{_line;_text;_lines;model;offset;lineNumber;constructor(e,t,s){this.model=e,this.offset=t,this.lineNumber=s,this._text=e.getValue(),this._lines=this._text.split(/\r?\n/g),this._line=this._lines[s]}hasNext(){return this.lineNumber>=0||this.offset>=0}isFowardDQuote(){return!!this.hasForward()&&34===this.peekForward()}isNextDQuote(){return!!this.hasNext()&&34===this.peekNext()}isNextPeriod(){return!!this.hasNext()&&46===this.peekNext()}peekNext(){return this.offset<0?10*(this.lineNumber>0):this._line.charCodeAt(this.offset)}hasForward(){return this.lineNumber<this._lines.length||this.offset<this._line.length}peekForward(){return this.offset===this._line.length?10*(this.lineNumber!==this._lines.length):this._line.charCodeAt(this.offset+1)}next(){if(this.offset<0)return this.lineNumber>0?(this.lineNumber--,this._line=this._lines[this.lineNumber],this.offset=this._line.length-1,10):(this.lineNumber=-1,0);let e=this._line.charCodeAt(this.offset);return this.offset--,e}readArguments(){let e=0,t=0,s=0,r=0;for(;this.hasNext();){let a=this.next();switch(a){case 40:if(--e<0)return r;break;case 41:e++;break;case 123:s--;break;case 125:s++;break;case 91:t--;break;case 93:t++;break;case 34:case 39:for(;this.hasNext()&&a!==this.next(););break;case 44:!e&&!t&&!s&&r++}}return -1}readIdent(){let e=!1,t=!1,s="";for(;this.hasNext();){let r=this.peekNext();if(e&&!t&&!this._isIdentPart(r))break;if(r=this.next(),!e&&t&&34===r){e=!0;continue}if(e||32!==r&&9!==r&&10!=r){if(!e&&(34===r||this._isIdentPart(r)))e=!0,t=34===r,s=String.fromCharCode(r)+s;else if(e)if(t){if(0===r||(s=String.fromCharCode(r)+s,34===r))break}else s=String.fromCharCode(r)+s}}return s}readIdents(e){let t=[];for(;e>0;){e--;let s=this.readIdent();if(!s||(t.push(s),!this.isNextPeriod()))break}return t.reverse()}_isIdentPart(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57}};e.s(["default",0,t])},841183,261348,e=>{"use strict";var t=e.i(478902),s=e.i(370589);e.s(["format",()=>s.default],261348);var s=s,r=e.i(613851),a=e.i(389959),i=e.i(460988);let n=(0,e.i(843778).cn)("w-6 p-0 text-center text-xs text-foreground outline-none cursor-text","ring-0 focus:ring-0 ring-none border-none bg-transparent");e.s(["TimeSplitInput",0,({type:e,time:l,setTime:o,setStartTime:c,setEndTime:d,startTime:u,endTime:m,startDate:h,endDate:p})=>{let[f,g]=(0,a.useState)(!1);function x(){1===l.HH.length&&(l.HH="0"+l.HH),1===l.mm.length&&(l.mm="0"+l.mm),1===l.ss.length&&(l.ss="0"+l.ss),l.HH||(l.HH="00"),l.mm||(l.mm="00"),l.ss||(l.ss="00");let t=!1,r=!1;(0,s.default)(new Date(h),"dd/mm/yyyy")==(0,s.default)(new Date(p),"dd/mm/yyyy")&&("start"===e&&(l.HH&&Number(l.HH)>Number(m.HH)&&(m.HH=l.HH,t=!0),l.HH&&Number(l.HH)>=Number(m.HH)&&l.mm&&Number(l.mm)>Number(m.mm)&&(m.mm=l.mm,t=!0),l.HH&&Number(l.HH)>=Number(m.HH)&&l.mm&&Number(l.mm)>=Number(m.mm)&&l.ss&&Number(l.ss)>Number(m.ss)&&(m.ss=l.ss,t=!0)),"end"===e&&(l.HH&&Number(l.HH)<Number(u.HH)&&(u.HH=l.HH,r=!0),l.HH&&Number(l.HH)<=Number(u.HH)&&l.mm&&Number(l.mm)<Number(u.mm)&&(u.mm=l.mm,r=!0),l.HH&&Number(l.HH)<=Number(u.HH)&&l.mm&&Number(l.mm)<=Number(u.mm)&&l.ss&&Number(l.ss)<Number(u.ss)&&(u.ss=l.ss,r=!0))),o({...l}),t&&d({...m}),r&&c({...u}),g(!1)}function _(e,t){let s={HH:l.HH,mm:l.mm,ss:l.ss};if(!(e.length>2)){switch(t){case"HH":if(e&&Number(e)>23)return;break;case"mm":case"ss":if(e&&Number(e)>59)return}s[t]=e,o({...s})}}let b=e=>{e.target.select(),g(!0),e.stopPropagation()},v=e=>{e.stopPropagation()},j=e=>{/^[0-9]$/.test(e.key)||["Backspace","Delete","ArrowLeft","ArrowRight","Tab","Enter"].includes(e.key)||e.preventDefault(),e.stopPropagation()},y=e=>{e.stopPropagation()};function S(t){t.preventDefault(),t.stopPropagation(),navigator.clipboard.readText().then(t=>{let s=null;isNaN((s=new Date((0,i.isUnixMicro)(t)?(0,i.unixMicroToIsoTimestamp)(t):Number(t))).getTime())?console.warn("Invalid date or timestamp in clipboard"):s&&("start"===e&&s.setSeconds(s.getSeconds()-1),"end"===e&&s.setSeconds(s.getSeconds()+1),o({HH:s.getHours().toString().padStart(2,"0"),mm:s.getMinutes().toString().padStart(2,"0"),ss:s.getSeconds().toString().padStart(2,"0")}))})}return(0,a.useEffect)(()=>(document.addEventListener("paste",S),()=>document.removeEventListener("paste",S)),[h,p]),(0,t.jsxs)("div",{className:`
        flex h-7 items-center justify-center
        gap-0 rounded border border-strong bg-surface-100 text-xs text-foreground-light
        ${f&&" border-stronger outline outline-2 outline-border"}
        hover:border-stronger transition-colors
    `,children:[(0,t.jsx)("div",{className:"mr-1 text-foreground-lighter",children:(0,t.jsx)(r.Clock,{size:14,strokeWidth:1.5})}),(0,t.jsx)("input",{type:"text",onBlur:()=>x(),onFocus:b,onClick:v,onKeyDown:j,onInput:y,pattern:"[0-23]*",placeholder:"00",onChange:e=>_(e.target.value,"HH"),"aria-label":"Hours",className:n,value:l.HH}),(0,t.jsx)("span",{className:"text-foreground-lighter",children:":"}),(0,t.jsx)("input",{type:"text",onBlur:()=>x(),onFocus:b,onClick:v,onKeyDown:j,onInput:y,pattern:"[0-59]*",placeholder:"00",onChange:e=>_(e.target.value,"mm"),"aria-label":"Minutes",className:n,value:l.mm}),(0,t.jsx)("span",{className:"text-foreground-lighter",children:":"}),(0,t.jsx)("input",{type:"text",onBlur:()=>x(),onFocus:b,onClick:v,onKeyDown:j,onInput:y,pattern:"[0-59]*",placeholder:"00",onChange:e=>_(e.target.value,"ss"),"aria-label":"Seconds",className:n,value:l.ss})]})}],841183)},848616,(e,t,s)=>{var r=e.r(730007);t.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},984427,e=>{"use strict";var t=e.i(478902),s=e.i(172650),r=e.i(848616),a=e.i(389959),i=e.i(753515),n=e.i(440401),l=e.i(701823),o=e.i(938933),c=e.i(843778),d=e.i(140449);let u=(0,a.createContext)({onChange:e=>{},selected:void 0});var m=e.i(370410);function h({children:e,className:m,buttonClassName:h,descriptionText:p,error:f,icon:g,id:x="",name:_="",label:b,labelOptional:v,layout:j,value:y,onChange:S,onFocus:N,onBlur:w,style:E,size:A="medium",defaultValue:C,validation:k,disabled:T,optionsWidth:I}){let[R,P]=(0,a.useState)(void 0),[L,O]=(0,a.useState)({}),D=(0,o.default)("listbox"),M=(0,a.useRef)(null),{formContextOnChange:$,values:H,errors:F,handleBlur:B,touched:U,fieldLevelValidation:q}=(0,d.useFormContext)();H&&!y&&(y=H[x||_],C=H[x||_]),f||(F&&!f&&(f=F[x||_]),f=U&&U[x||_]?f:void 0),(0,a.useEffect)(()=>{void 0!==y&&P(y)},[y]),(0,a.useEffect)(()=>{function e(){document.documentElement.style.setProperty("--width-listbox",`${I||M.current?.offsetWidth}px`)}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{let t=(0,r.default)(e);function s(e){return t.find(t=>t.props.value===e)}if(y){P(y);let e=s(y);O(e?.props?e.props:void 0);return}if(R){let e=s(R);O(e?.props?e.props:void 0);return}if(!C)return void O(t[0]?.props);{P(C);let e=s(R);O(e?.props?e.props:void 0);return}},[R]);let G=[D.container,D.base,h],z=[D.addOnBefore];return f&&G.push(D.variants.error),f||G.push(D.variants.standard),g&&z.push(D.with_icon[A]),A&&G.push(D.size[A]),T&&G.push(D.disabled),(0,t.jsx)(i.FormLayout,{label:b,labelOptional:v,layout:j,id:x,error:f,descriptionText:p,className:m,style:E,size:A,children:(0,t.jsxs)(s.Root,{children:[(0,t.jsx)(s.Trigger,{asChild:!0,disabled:T,children:(0,t.jsxs)("button",{"data-size":A,ref:M,className:(0,c.cn)(G),onBlur:function(e){B&&B(e),w&&w(e)},onFocus:N,name:_,id:x,children:[(0,t.jsxs)("span",{className:(0,c.cn)(z),children:[g&&(0,t.jsx)(l.default,{size:A,icon:g}),L?.addOnBefore&&(0,t.jsx)(L.addOnBefore,{}),(0,t.jsx)("span",{className:D.label,children:L?.label})]}),(0,t.jsx)("span",{className:D.chevron_container,children:(0,t.jsx)("svg",{className:D.chevron,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),f&&(0,t.jsx)("div",{className:D.actions_container,children:f&&(0,t.jsx)(n.default,{size:A})})]})}),(0,t.jsx)(s.Content,{sideOffset:6,loop:!0,side:"bottom",align:"center",className:D.options_container,children:(0,t.jsx)("div",{children:(0,t.jsx)(u.Provider,{value:{onChange:function(e){S&&S(e),P(e);let t={};t.target={type:"select",name:_,id:x,value:e,checked:void 0},$&&$(t),k&&q(x,k(e))},selected:R},children:e})})})]})})}h.Option=function({id:e,value:r,label:a,disabled:i=!1,children:n,className:l="",addOnBefore:d}){let h=(0,o.default)("listbox");return(0,t.jsx)(u.Consumer,{children:({onChange:a,selected:o})=>{let u=o===r;return(0,t.jsxs)(s.Item,{className:(0,c.cn)(h.option,u?h.option_active:" ",i?h.option_disabled:" ",l),onSelect:()=>i?{}:a(r),children:[(0,t.jsxs)("div",{className:h.option_inner,children:[d&&d({active:u,selected:o}),(0,t.jsx)("span",{children:"function"==typeof n?n({active:u,selected:o}):n})]}),u?(0,t.jsx)("span",{className:(0,c.cn)(h.option_check,u?h.option_check_active:""),children:(0,t.jsx)(m.Check,{className:h.option_check_icon,"aria-hidden":"true"})}):null]},e)}})},e.s(["default",0,h],984427)},331077,e=>{"use strict";var t=e.i(984427);e.s(["Listbox",()=>t.default])},971687,e=>{"use strict";let t=(0,e.i(388019).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],971687)},457065,e=>{"use strict";var t=e.i(478902),s=e.i(585102),r=e.i(389959),a=e.i(753515),i=e.i(938933),n=e.i(140449);e.s(["default",0,function({disabled:e,id:l="",name:o="",layout:c="flex",error:d,descriptionText:u,label:m,afterLabel:h,beforeLabel:p,labelOptional:f,onChange:g,onBlur:x,defaultChecked:_,checked:b,className:v,align:j="left",size:y="medium",validation:S,labelLayout:N,...w}){let E=(0,i.default)("toggle"),{formContextOnChange:A,values:C,errors:k,handleBlur:T,touched:I,fieldLevelValidation:R}=(0,n.useFormContext)();C&&!b&&(b=C[l||o]);let[P,L]=(0,r.useState)((_||b)??!1),O=b??P;(0,r.useEffect)(()=>{L(O)},[]),d||(k&&!d&&(d=k[l||o]),d=I&&I[l||o]?d:void 0);let D=[E.base,E.handle_container[y]];O&&D.push(E.active);let M=[E.handle.base,E.handle[y]];return O&&M.push(E.handle_active[y]),(0,t.jsx)(a.FormLayout,{className:v,label:m,afterLabel:h,beforeLabel:p,labelOptional:f,layout:c,id:l,error:d,align:j,descriptionText:u,size:y,labelLayout:N,nonBoxInput:!0,children:(0,t.jsx)("button",{type:"button",id:l,name:o,className:(0,s.default)(...D,e&&"opacity-50 cursor-default"),onClick:function(){g&&g(!O),L(!P);let e={};e.target={type:"checkbox",name:o,id:l,value:!O,checked:!O},A&&A(e),S&&R(l,S(!P))},disabled:e,onBlur:function(e){setTimeout(()=>{T&&T(e)},100),x&&x(e)},...w,children:(0,t.jsx)("span",{"aria-hidden":"true",className:M.join(" ")})})})}])},905596,e=>{"use strict";var t=e.i(457065);e.s(["Toggle",()=>t.default])},744061,418638,e=>{"use strict";var t=e.i(478902),s=e.i(938933),r=e.i(843778);function a({children:e,className:s,tag:r="div",style:a}){let i=`${r}`;return(0,t.jsx)(i,{style:a,children:e})}a.Title=function({className:e,level:s=1,children:r,style:a}){let i=`h${s}`;return(0,t.jsx)(i,{style:a,children:r})},a.Text=function({className:e,children:s,style:r,type:a,disabled:i,mark:n,code:l,keyboard:o,underline:c,strikethrough:d,strong:u,small:m}){return l?(0,t.jsx)("code",{style:r,children:s}):n?(0,t.jsx)("mark",{style:r,children:s}):o?(0,t.jsx)("kbd",{style:r,children:s}):u?(0,t.jsx)("strong",{style:r,children:s}):(0,t.jsx)("span",{style:r,children:s})},a.Link=function({children:e,target:s="_blank",href:r,className:a,onClick:i,style:n}){return(0,t.jsx)("a",{onClick:i,href:r,target:s,rel:"noopener noreferrer",style:n,children:e})},e.s(["default",0,a],418638);var i=e.i(389959);let n=(0,i.createContext)({type:"text"}),l=e=>{let{type:s}=e;return(0,t.jsx)(n.Provider,{value:{type:s},children:e.children})},o=()=>{let e=(0,i.useContext)(n);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function c({children:e,className:s,ulClassName:r,style:a,type:i="text"}){return(0,t.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:s,style:a,children:(0,t.jsx)(l,{type:i,children:(0,t.jsx)("ul",{className:r,children:e})})})}c.Item=function({children:e,icon:a,active:i,rounded:n,onClick:l,doNotCloseOverlay:c=!1,showActiveBar:d=!1,style:u}){let m=(0,s.default)("menu"),{type:h}=o(),p=[m.item.base];p.push(m.item.variants[h].base),i?p.push(m.item.variants[h].active):p.push(m.item.variants[h].normal);let f=[m.item.content.base];i?f.push(m.item.content.active):f.push(m.item.content.normal);let g=[m.item.icon.base];return i?g.push(m.item.icon.active):g.push(m.item.icon.normal),(0,t.jsxs)("li",{role:"menuitem",className:(0,r.cn)("outline-none",p),style:u,onClick:l,"aria-current":i?"page":void 0,children:[a&&(0,t.jsx)("div",{className:`${g.join(" ")} min-w-fit`,children:a}),(0,t.jsx)("span",{className:f.join(" "),children:e})]})},c.Group=function({children:e,icon:r,title:a}){let i=(0,s.default)("menu"),{type:n}=o();return(0,t.jsxs)("div",{className:[i.group.base,i.group.variants[n]].join(" "),children:[r&&(0,t.jsx)("span",{className:i.group.icon,children:r}),(0,t.jsx)("span",{className:i.group.content,children:a}),e]})},c.Misc=function({children:e}){return(0,t.jsx)("div",{children:(0,t.jsx)(a.Text,{children:(0,t.jsx)("span",{children:e})})})},e.s(["default",0,c],744061)},862326,e=>{"use strict";var t=e.i(744061);e.s(["Menu",()=>t.default])},388147,799793,e=>{"use strict";var t=e.i(478902),s=e.i(587433),r=e.i(862326),a=e.i(215261),i=e.i(837710);let n=({name:e="",isActive:n,isExternal:l,icon:o,rightIcon:c,url:d="",target:u="_self",onClick:m,textClassName:h="",hoverText:p="",label:f})=>{let g=(0,t.jsx)(r.Menu.Item,{icon:o,rounded:!0,active:n,onClick:m,children:(0,t.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 min-w-0 flex-1",title:p||("string"==typeof e?e:""),children:[(0,t.jsx)("span",{className:"truncate flex-1 min-w-0",children:e}),void 0!==f&&(0,t.jsx)(s.Badge,{variant:"new"===f.toLowerCase()?"success":"warning",className:"flex-shrink-0",children:f})]}),c&&(0,t.jsx)("div",{children:c})]})});return d?l?(0,t.jsx)(i.Button,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:o,children:(0,t.jsx)(a.default,{href:d,target:"_blank",rel:"noreferrer",children:e})}):(0,t.jsx)(a.default,{href:d,className:"block",target:u,children:g}):g};e.s(["default",0,n],799793),e.s(["ProductMenu",0,({page:e,menu:a})=>(0,t.jsx)("div",{className:"flex flex-col space-y-8",children:(0,t.jsx)(r.Menu,{type:"pills",children:a.map((i,l)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"my-6 space-y-8",children:(0,t.jsxs)("div",{className:"mx-3",children:[(0,t.jsx)(r.Menu.Group,{title:i.title?(0,t.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,t.jsx)("span",{children:i.title}),i.isPreview&&(0,t.jsx)(s.Badge,{variant:"warning",children:"Not production ready"})]}):null}),(0,t.jsx)("div",{children:i.items.map(s=>{let r=s.pages?s.pages.includes(e??""):e===s.key;return(0,t.jsx)(n,{url:s.url,name:s.name,icon:s.icon,rightIcon:s.rightIcon,isActive:r,isExternal:s.isExternal,target:s.isExternal?"_blank":"_self",label:s.label},s.key)})})]})}),l!==a.length-1&&(0,t.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},i.key||i.title))})})],388147)},3259,100387,e=>{"use strict";var t=e.i(478902),s=e.i(153545),r=e.i(933505);e.s(["ChevronRightIcon",()=>r.default],100387);var r=r,a=e.i(389959),i=e.i(843778);let n=a.forwardRef(({...e},s)=>(0,t.jsx)("nav",{ref:s,"aria-label":"breadcrumb",...e}));n.displayName="Breadcrumb";let l=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("ol",{ref:r,className:(0,i.cn)("flex flex-wrap items-center gap-0.5 break-words text-sm text-muted-foreground sm:gap-1.5",e),...s}));l.displayName="BreadcrumbList";let o=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("li",{ref:r,className:(0,i.cn)("inline-flex text-foreground-lighter items-center gap-1.5 leading-5",e),...s}));o.displayName="BreadcrumbItem";let c=a.forwardRef(({asChild:e,className:r,...a},n)=>{let l=e?s.Slot:"a";return(0,t.jsx)(l,{ref:n,className:(0,i.cn)("transition-colors underline lg:no-underline hover:text-foreground",r),...a})});c.displayName="BreadcrumbLink";let d=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:(0,i.cn)("no-underline text-foreground",e),...s}));d.displayName="BreadcrumbPage";let u=({children:e,className:s,...a})=>(0,t.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,i.cn)("[&>svg]:size-3.5 text-foreground-muted",s),...a,children:e??(0,t.jsx)(r.default,{})});u.displayName="BreadcrumbSeparator";let m=({className:e,...s})=>(0,t.jsxs)("span",{className:(0,i.cn)("flex h-4 w-4 items-center justify-center",e),...s,children:[(0,t.jsx)("svg",{role:"presentation","aria-hidden":"true",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),(0,t.jsx)("span",{className:"sr-only",children:"More"})]});m.displayName="BreadcrumbEllipsis",e.s(["Breadcrumb",()=>n,"BreadcrumbEllipsis",()=>m,"BreadcrumbItem",()=>o,"BreadcrumbLink",()=>c,"BreadcrumbList",()=>l,"BreadcrumbPage",()=>d,"BreadcrumbSeparator",()=>u],3259)},127739,e=>{"use strict";var t=e.i(478902),s=e.i(709520),r=e.i(389959),a=e.i(843778);let i=(0,s.cva)(["mx-auto w-full @container px-6 xl:px-10"],{variants:{size:{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}},defaultVariants:{size:"default"}}),n=(0,r.forwardRef)(({className:e,size:s,...r},n)=>(0,t.jsx)("div",{ref:n,...r,className:(0,a.cn)(i({size:s}),e)}));n.displayName="PageContainer",e.s(["PageContainer",0,n])},14703,e=>{"use strict";var t=e.i(242882),s=e.i(356003),r=e.i(234745),a=e.i(10429),i=e.i(389959),n=e.i(294285);async function l({projectRef:e},t){if(!e)throw Error("projectRef is required");let{data:s,error:a}=await (0,r.get)("/platform/auth/{ref}/config",{params:{path:{ref:e}},signal:t});return a&&(0,r.handleError)(a),s}e.s(["getProjectAuthConfig",()=>l,"useAuthConfigPrefetch",0,({projectRef:e})=>{let t=(0,s.useQueryClient)();return(0,i.useCallback)(()=>{e&&t.prefetchQuery({queryKey:n.authKeys.authConfig(e),queryFn:({signal:t})=>l({projectRef:e},t)})},[t,e])},"useAuthConfigQuery",0,({projectRef:e},{enabled:s=!0,...r}={})=>(0,t.useQuery)({queryKey:n.authKeys.authConfig(e),queryFn:({signal:t})=>l({projectRef:e},t),enabled:s&&a.IS_PLATFORM&&void 0!==e,...r})])},785951,e=>{"use strict";var t=e.i(478902),s=e.i(898452);e.i(128328);var r=e.i(657588),a=e.i(158639),i=e.i(388147),n=e.i(14703),l=e.i(912793),o=e.i(951138),c=e.i(825713),d=e.i(887902);let u=()=>{let e=(0,s.useRouter)(),{ref:o="default"}=(0,a.useParams)(),c=(0,r.useFlag)("authOverviewPage"),u=(0,r.useFlag)("EnableOAuth21"),{authenticationSignInProviders:m,authenticationRateLimits:h,authenticationEmails:p,authenticationMultiFactor:f,authenticationAttackProtection:g,authenticationPerformance:x}=(0,l.useIsFeatureEnabled)(["authentication:sign_in_providers","authentication:rate_limits","authentication:emails","authentication:multi_factor","authentication:attack_protection","authentication:performance"]);(0,n.useAuthConfigPrefetch)({projectRef:o});let _=e.pathname.split("/")[4];return(0,t.jsx)(i.ProductMenu,{page:_,menu:(0,d.generateAuthMenu)(o,{authenticationSignInProviders:m,authenticationRateLimits:h,authenticationEmails:p,authenticationMultiFactor:f,authenticationAttackProtection:g,authenticationShowOverview:c,authenticationOauth21:u,authenticationPerformance:x})})},m=(0,o.withAuth)(({children:e})=>(0,t.jsx)(c.ProjectLayout,{title:"Authentication",product:"Authentication",productMenu:(0,t.jsx)(u,{}),isBlocking:!1,children:e}));e.s(["default",0,m])},309233,e=>{"use strict";var t=e.i(38429),s=e.i(356003),r=e.i(355901),a=e.i(234745),i=e.i(915993),n=e.i(294285);async function l({projectRef:e,config:t}){let{data:s,error:r}=await (0,a.patch)("/platform/auth/{ref}/config",{params:{path:{ref:e}},body:{...t}});return r&&(0,a.handleError)(r),s}e.s(["useAuthConfigUpdateMutation",0,({onSuccess:e,onError:a,...o}={})=>{let c=(0,s.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>l(e),async onSuccess(t,s,r){let{projectRef:a}=s;await Promise.all([c.invalidateQueries({queryKey:n.authKeys.authConfig(a)}),c.invalidateQueries({queryKey:i.lintKeys.lint(a)})]),await e?.(t,s,r)},async onError(e,t,s){void 0===a?r.toast.error(`Failed to update auth configuration: ${e.message}`):a(e,t,s)},...o})}])},967074,e=>{"use strict";var t=e.i(334277),s=e.i(408891);function r(e,r,a){return void 0===r&&(r={}),void 0===a&&(a={}),function(i,n,l){try{return Promise.resolve(function(s,o){try{var c=(r.context,Promise.resolve(e["sync"===a.mode?"validateSync":"validate"](i,Object.assign({abortEarly:!1},r,{context:n}))).then(function(e){return l.shouldUseNativeValidation&&(0,t.validateFieldsNatively)({},l),{values:a.raw?i:e,errors:{}}}))}catch(e){return o(e)}return c&&c.then?c.then(void 0,o):c}(0,function(e){var r;if(!e.inner)throw e;return{values:{},errors:(0,t.toNestErrors)((r=!l.shouldUseNativeValidation&&"all"===l.criteriaMode,(e.inner||[]).reduce(function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),r){var a=e[t.path].types,i=a&&a[t.type];e[t.path]=(0,s.appendErrors)(t.path,r,e,t.type,i?[].concat(i,t.message):t.message)}return e},{})),l)}}))}catch(e){return Promise.reject(e)}}}e.s(["yupResolver",()=>r])},332263,e=>{"use strict";var t=e.i(478902),s=e.i(389959),r=e.i(753515),a=e.i(440401),i=e.i(701823),n=e.i(938933),l=e.i(140449);e.s(["default",0,function({defaultValue:e,descriptionText:o,error:c,icon:d,inputRef:u,label:m,afterLabel:h,beforeLabel:p,labelOptional:f,layout:g,value:x,actions:_,size:b="medium",validation:v,id:j="",name:y="",...S}){let N=(0,n.default)("inputNumber"),{formContextOnChange:w,values:E,errors:A,handleBlur:C,touched:k,fieldLevelValidation:T}=(0,l.useFormContext)();E&&!x&&(x=E[j||y]),c||(A&&!c&&(c=A[j||y]),c=k&&k[j||y]?c:void 0),(0,s.useEffect)(()=>{v&&T(j,v(x))},[]);let I=[N.base];return c&&I.push(N.variants.error),c||I.push(N.variants.standard),d&&I.push(N.with_icon[b]),b&&I.push(N.size[b]),S.disabled&&I.push(N.disabled),(0,t.jsx)("div",{className:S.className,children:(0,t.jsx)(r.FormLayout,{label:m,afterLabel:h,beforeLabel:p,labelOptional:f,layout:g,id:j,error:c,descriptionText:o,style:S.style,size:b,children:(0,t.jsxs)("div",{className:N.container,children:[(0,t.jsx)("input",{"data-size":b,id:j,name:y,onChange:function(e){S.onChange&&S.onChange(e),w&&w(e),v&&T(j,v(e.target.value))},onBlur:function(e){C&&C(e),S.onBlur&&S.onBlur(e)},type:"number",ref:u,value:x,className:I.join(" "),...S}),d&&(0,t.jsx)(i.default,{size:b,icon:d}),c||_?(0,t.jsxs)("div",{className:N.actions_container,children:[c&&(0,t.jsx)(a.default,{size:b}),_&&_]}):null]})})})}])},47603,e=>{"use strict";var t=e.i(332263);e.s(["InputNumber",()=>t.default])},548760,e=>{"use strict";var t=e.i(478902),s=e.i(389959),r=e.i(627069);let a=(0,s.forwardRef)(({children:e,className:s,...a},i)=>(0,t.jsx)(r.Card,{ref:i,className:"overflow-hidden",...a,children:(0,t.jsx)("div",{className:s,children:e})}));a.displayName="ResourceList",e.s(["ResourceList",0,a])},856613,e=>{"use strict";var t=e.i(478902),s=e.i(416050),r=e.i(471998),a=e.i(389959),i=e.i(837710),n=e.i(627069),l=e.i(843778),o=e.i(874311);let c=(0,a.forwardRef)(({media:e,meta:a,onClick:c,children:d,className:u,actions:m,...h},p)=>(0,t.jsxs)(n.CardContent,{ref:p,className:(0,l.cn)("flex items-center justify-between text-sm gap-4","!border-b-0",c&&"cursor-pointer hover:bg-surface-200",u),onClick:c,...h,children:[e&&(0,t.jsx)("div",{className:"text-foreground-light flex items-center justify-center",children:e}),(0,t.jsx)("div",{className:"flex-1",children:d}),a&&(0,t.jsx)("div",{children:a}),m&&m.length>0?(0,t.jsxs)(o.DropdownMenu,{children:[(0,t.jsx)(o.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(i.Button,{type:"text",className:"px-1",icon:(0,t.jsx)(r.MoreVertical,{size:16}),onClick:e=>{e.stopPropagation()}})}),(0,t.jsx)(o.DropdownMenuContent,{align:"end",children:m.map(e=>(0,t.jsx)(o.DropdownMenuItem,{onClick:t=>{t.stopPropagation(),e.onClick()},children:e.label},e.label))})]}):c&&(0,t.jsx)(s.ChevronRight,{strokeWidth:1.5,size:16})]}));c.displayName="ResourceItem",e.s(["ResourceItem",0,c])},42081,e=>{"use strict";let t="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;e.s(["DEBUG_BUILD",()=>t])},53798,e=>{"use strict";var t=e.i(478902);e.s(["HorizontalShimmerWithIcon",0,()=>(0,t.jsxs)("div",{className:"flex w-full flex-row items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,t.jsx)("div",{className:"shimmering-loader h-6 w-6 rounded-full"}),(0,t.jsx)("div",{className:"shimmering-loader h-2 w-32 rounded"})]}),(0,t.jsx)("div",{className:"shimmering-loader h-6 w-20 rounded"})]})])},529727,e=>{"use strict";var t=e.i(478902);e.i(128328);var s=e.i(158639),r=e.i(79771),a=e.i(902780),i=e.i(912793),n=e.i(785951);e.s(["AuthProvidersLayout",0,({children:e})=>{let{ref:l}=(0,s.useParams)(),{authenticationSignInProviders:o,authenticationThirdPartyAuth:c}=(0,i.useIsFeatureEnabled)(["authentication:sign_in_providers","authentication:third_party_auth"]),d=[{label:"Supabase Auth",href:`/project/${l}/auth/providers`},...c?[{label:"Third-Party Auth",href:`/project/${l}/auth/third-party`}]:[]];return(0,t.jsx)(n.default,{children:o?(0,t.jsx)(r.PageLayout,{title:"Sign In / Providers",subtitle:"Configure authentication providers and login methods for your users",navigationItems:d,children:e}):(0,t.jsx)(a.UnknownInterface,{urlBack:`/project/${l}/auth/users`})})}])},672296,e=>{"use strict";function t(e){return e.split("#")[0]}function s(e,t={}){let{maxDepth:r=3,redaction:a="[REDACTED]",truncationNotice:i="[REDACTED: max depth reached]",sensitiveKeys:n=[]}=t,l=new Set(["password","passwd","pwd","pass","secret","token","id_token","access_token","refresh_token","apikey","api_key","api-key","apiKey","key","privatekey","private_key","client_secret","clientSecret","auth","authorization","ssh_key","sshKey","bearer","session","cookie","csrf","xsrf","ip","ip_address","ipAddress","aws_access_key_id","aws_secret_access_key","gcp_service_account_key",...n].map(e=>e.toLowerCase())),o=[{re:/\b(?:(?:25[0-5]|2[0-4]\d|1?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|1?\d?\d)\b/g,reason:"ip"},{re:/\b(?:[A-Fa-f0-9]{1,4}:){2,7}[A-Fa-f0-9]{1,4}\b/g,reason:"ip6"},{re:/\b(AKI|ASI)A[0-9A-Z]{16}\b/g,reason:"aws_access_key_id"},{re:/\b[0-9A-Za-z/+]{40}\b/g,reason:"aws_secret_access_key_like"},{re:/\bBearer\s+[A-Za-z0-9\-._~+/]+=*\b/g,reason:"bearer"},{re:/\b[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\b/g,reason:"jwt_like"},{re:/\b[A-Za-z0-9_\-]{24,64}\b/g,reason:"long_token"}],c=new WeakMap;function d(e){let t=e;for(let{re:e}of o)t=t.replace(e,a);return t}function u(e){return l.has(String(e).toLowerCase())}return e.map(e=>(function e(t,s){if(null==t||"number"==typeof t||"boolean"==typeof t||"bigint"==typeof t)return t;if("string"==typeof t)return d(t);if("function"==typeof t)return"[Function]";if(t instanceof Date)return t.toISOString();if(t instanceof RegExp)return t.toString();if(ArrayBuffer.isView(t)&&!(t instanceof DataView))return`[TypedArray byteLength=${t.byteLength}]`;if(t instanceof ArrayBuffer)return`[ArrayBuffer byteLength=${t.byteLength}]`;if(s>=r)return i;if("object"==typeof t){if(c.has(t))return"[Circular]";if(Array.isArray(t)){let r=[];c.set(t,r);for(let a=0;a<t.length;a++)r[a]=e(t[a],s+1);return r}if(function(e){if(null===e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}(t)){let r={};for(let[i,n]of(c.set(t,r),Object.entries(t)))u(i)?r[i]=a:r[i]=e(n,s+1);return r}if(t instanceof Map){let r=[];for(let[i,n]of(c.set(t,r),t.entries())){let t=u(i)?a:e(i,s+1),l=u(i)?a:e(n,s+1);r.push([t,l])}return r}if(t instanceof Set){let r=[];for(let a of(c.set(t,r),t.values()))r.push(e(a,s+1));return r}if(t instanceof URL)return t.toString();if(t instanceof Error){let e={name:t.name,message:d(t.message),stack:i};return c.set(t,e),e}try{return d(String(t))}catch{return d(Object.prototype.toString.call(t))}}return d(String(t))})(e,0))}e.s(["sanitizeArrayOfObjects",()=>s,"sanitizeUrlHashParams",()=>t])},612925,e=>{"use strict";var t=e.i(478902),s=e.i(261348),r=e.i(55956),a=e.i(710377),i=e.i(971687),n=e.i(389959),l=e.i(837710),o=e.i(299863),c=e.i(463783),d=e.i(793912),u=e.i(135144),m=e.i(689805),h=e.i(841183);let p=new Date,f=new Date,g={HH:"00",mm:"00",ss:"00"},x={HH:"23",mm:"59",ss:"59"};function _({to:e,from:_,onChange:b,triggerButtonType:v="default",triggerButtonClassName:j="",triggerButtonTitle:y,triggerButtonSize:S,contentSide:N="bottom",minDate:w,maxDate:E,hideTime:A=!1,hideClear:C=!1,selectsRange:k=!0,renderFooter:T=()=>null,children:I}){let[R,P]=(0,n.useState)(!1),[L,O]=(0,n.useState)(null),[D,M]=(0,n.useState)(null),[$,H]=(0,n.useState)(p),[F,B]=(0,n.useState)(f),[U,q]=(0,n.useState)(g),[G,z]=(0,n.useState)(x),X=(0,n.useMemo)(()=>((e,t)=>{let s=[];if(e&&s.push({before:(0,r.default)(e).startOf("day").toDate()}),t&&s.push({after:(0,r.default)(t).endOf("day").toDate()}),0!==s.length)return 1===s.length?s[0]:s})(w,E),[w,E]),K=(0,n.useCallback)(e=>{if(!e)return e;let t=e;return w&&(0,r.default)(t).isBefore(w,"day")&&(t=(0,r.default)(w).toDate()),E&&(0,r.default)(t).isAfter(E,"day")&&(t=(0,r.default)(E).toDate()),t},[w,E]);function W(e){if(e)if(e instanceof Date)H(e),B(e);else{let[t,s]=e;H(t),B(s)}else H(null),B(null)}return(0,n.useEffect)(()=>{(w||E)&&(H(e=>{if(!e)return e;let t=K(e);return(0,r.default)(t).isSame(e)?e:t}),B(e=>{if(!e)return e;let t=K(e);return(0,r.default)(t).isSame(e)?e:t}),O(e=>{if(!e)return e;let t=K(e);return(0,r.default)(t).isSame(e)?e:t}),M(e=>{if(!e)return e;let t=K(e);return(0,r.default)(t).isSame(e)?e:t}))},[w,E,K]),(0,n.useEffect)(()=>{if(_){if(_!==L?.toISOString()){let e=(0,r.default)(_),t=e.toDate();O(t),H(t),q({HH:e.format("HH"),mm:e.format("mm"),ss:e.format("ss")})}}else O(null);if(e){if(e!==D?.toISOString()){let t=(0,r.default)(e),s=t.toDate();M(s),B(s),z({HH:t.format("HH"),mm:t.format("mm"),ss:t.format("ss")})}}else M(null)},[e,_]),(0,t.jsxs)(m.Popover_Shadcn_,{modal:!0,open:R,onOpenChange:P,children:[(0,t.jsx)(u.PopoverTrigger_Shadcn_,{asChild:!0,children:(0,t.jsx)(l.Button,{title:y,type:v,icon:(0,t.jsx)(i.Calendar,{}),size:S,className:j,children:void 0!==I?I:(0,t.jsx)(t.Fragment,{children:k&&L&&D&&L!==D?(0,t.jsxs)(t.Fragment,{children:[(0,s.format)(new Date(L),"dd MMM")," -"," ",(0,s.format)(new Date(D),"dd MMM")]}):L||D?(0,s.format)(new Date(L||D),"dd MMM"):"Custom"})})}),(0,t.jsx)(d.PopoverContent_Shadcn_,{align:"center",side:N,className:"p-0",children:(0,t.jsxs)(t.Fragment,{children:[A?null:(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"flex items-stretch justify-between p-2",children:[k?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex grow flex-col gap-1",children:(0,t.jsx)(h.TimeSplitInput,{type:"start",startTime:U,endTime:G,time:U,setTime:q,setStartTime:q,setEndTime:z,startDate:$,endDate:F})}),(0,t.jsx)("div",{className:"flex items-center justify-center w-12 text-foreground-lighter",children:(0,t.jsx)(a.ArrowRight,{strokeWidth:1.5,size:14})})]}):null,(0,t.jsx)("div",{className:"flex grow flex-col gap-1",children:(0,t.jsx)(h.TimeSplitInput,{type:"end",startTime:U,endTime:G,time:G,setTime:z,setStartTime:q,setEndTime:z,startDate:$,endDate:F})})]})}),(0,t.jsx)("div",{className:"p-2",children:k?(0,t.jsx)(o.Calendar,{mode:"range",disabled:X,selected:{from:$??void 0,to:F??void 0},onSelect:e=>{W([e?.from??null,e?.to??null])}}):(0,t.jsx)(o.Calendar,{mode:"single",disabled:X,selected:F??void 0,onSelect:e=>{W(e??null)}})}),T({from:$?.toISOString()||null,to:F?.toISOString()||null}),(0,t.jsx)(c.Popover.Separator,{}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2 py-2 px-3 pb-4",children:[!C&&(0,t.jsx)(l.Button,{type:"default",onClick:()=>void(P(!1),H(p),B(f),q(g),z(x),O(null),M(null),b&&b({from:null,to:null})),children:"Clear"}),(0,t.jsx)(l.Button,{onClick:()=>{let e;return P(!1),O($),M(F),e={from:(0,r.default)($).second(Number(U.ss)).minute(Number(U.mm)).hour(Number(U.HH)).toISOString(),to:(0,r.default)(F||$).second(Number(G.ss)).minute(Number(G.mm)).hour(Number(G.HH)).toISOString()},void(b&&b(e))},children:"Apply"})]})]})})]})}e.s(["DatePicker",()=>_])},768288,e=>{"use strict";var t=e.i(478902),s=e.i(17203),r=e.i(215261);e.i(128328);var a=e.i(158639),i=e.i(567558),n=e.i(548760),l=e.i(53798),o=e.i(14703),c=e.i(178527),d=e.i(206413),u=e.i(592360),m=e.i(837710),h=e.i(877555),p=e.i(228027),f=e.i(441730),g=e.i(902858),x=e.i(370410),_=e.i(4196),b=e.i(389959),v=e.i(329541),j=e.i(355901),y=e.i(896975),S=e.i(592383),N=e.i(215312),w=e.i(513826),E=e.i(856613),A=e.i(309233),C=e.i(377451),k=e.i(71005),T=e.i(2579),I=e.i(265735),R=e.i(10429),P=e.i(441345),L=e.i(171997),O=e.i(725137),D=e.i(710483),M=e.i(713629);let $=({title:e,isHookSendSMSEnabled:i})=>{let{ref:n}=(0,a.useParams)();switch(e){case"Slack (Deprecated)":return(0,t.jsxs)(c.Alert_Shadcn_,{variant:"warning",children:[(0,t.jsx)(h.WarningIcon,{}),(0,t.jsx)(u.AlertTitle_Shadcn_,{children:"Slack (Deprecated) Provider"}),(0,t.jsxs)(d.AlertDescription_Shadcn_,{children:["Recently, Slack has updated their OAuth API. Please use the new Slack (OIDC) provider below. Developers using this provider should move over to the new provider. Please refer to our"," ",(0,t.jsx)("a",{href:`${R.DOCS_URL}/guides/auth/social-login/auth-slack`,className:"underline",target:"_blank",children:"documentation"})," ","for more details."]})]});case"Phone":return i&&(0,t.jsxs)(c.Alert_Shadcn_,{children:[(0,t.jsx)(h.WarningIcon,{}),(0,t.jsx)(u.AlertTitle_Shadcn_,{children:"SMS provider settings are disabled while the SMS hook is enabled."}),(0,t.jsxs)(d.AlertDescription_Shadcn_,{className:"flex flex-col gap-y-3",children:[(0,t.jsx)("p",{children:"The SMS hook will be used in place of the SMS provider configured"}),(0,t.jsx)(m.Button,{asChild:!0,type:"default",className:"w-min",icon:(0,t.jsx)(s.ExternalLink,{}),children:(0,t.jsx)(r.default,{href:`/project/${n}/auth/hooks`,children:"View auth hooks"})})]})]});default:return null}};var H=e.i(55956),F=e.i(543851),B=e.i(890054),U=e.i(612925),q=e.i(47603),G=e.i(331077),z=e.i(905596),X=e.i(252387);function K(e){return(0,H.default)(e).format("dddd, MMMM D, YYYY HH:mm:ss Z")}let W=({name:e,properties:s,formValues:r,disabled:a=!1,setFieldValue:i})=>{let[n,l]=(0,b.useState)(!!s.isSecret),[o,c]=(0,b.useState)(r[e]?K(new Date(r[e])):"");if((0,b.useEffect)(()=>{s.show&&s.show.key&&!r[s.show.key]&&(i(e,""),c(""))},[s.show&&s.show.key&&!r[s.show.key]]),s.show){if(s.show.matches){if(!s.show.matches.includes(r[s.show.key]))return null}else if(!r[s.show.key])return null}switch(s.type){case"datetime":return(0,t.jsx)(L.Input,{size:"small",layout:"vertical",id:e,name:e,type:"text",value:o,readOnly:!0,label:s.title,labelOptional:s.descriptionOptional?(0,t.jsx)(v.default,{unwrapDisallowed:!0,disallowedElements:["p"],children:s.descriptionOptional}):null,descriptionText:s.description?(0,t.jsx)(v.default,{unwrapDisallowed:!0,disallowedElements:["p"],children:s.description}):null,actions:(0,t.jsx)(U.DatePicker,{selectsRange:!1,minDate:new Date,from:r[e],to:r[e],onChange:t=>{t&&t.to?(i(e,t.to),c(K(new Date(t.to)))):(c(""),i(e,""))},children:(0,t.jsx)("span",{children:"Pick"})})});case"string":return(0,t.jsx)(L.Input,{size:"small",layout:"vertical",id:e,name:e,disabled:a,type:n?"password":"text",label:s.title,labelOptional:s.descriptionOptional?(0,t.jsx)(S.Markdown,{content:s.descriptionOptional,className:"text-foreground-lighter"}):null,descriptionText:s.description?(0,t.jsx)(S.Markdown,{content:s.description,className:"text-foreground-lighter"}):null,actions:s.isSecret?(0,t.jsx)(m.Button,{icon:n?(0,t.jsx)(F.Eye,{}):(0,t.jsx)(B.EyeOff,{}),type:"default",onClick:()=>l(!n)}):(0,t.jsx)("span",{className:"mr-3 text-foreground-lighter",children:s.units?(0,t.jsx)(v.default,{unwrapDisallowed:!0,disallowedElements:["p"],children:s.units}):null})});case"multiline-string":return(0,t.jsx)(L.Input.TextArea,{size:"small",layout:"vertical",id:e,name:e,disabled:a,type:n?"password":"text",label:s.title,labelOptional:s.descriptionOptional?(0,t.jsx)(v.default,{unwrapDisallowed:!0,disallowedElements:["p"],children:s.descriptionOptional}):void 0,descriptionText:s.description?(0,t.jsx)(S.Markdown,{content:s.description,className:"text-foreground-lighter"}):null,actions:s.isSecret?(0,t.jsx)(m.Button,{icon:n?(0,t.jsx)(F.Eye,{}):(0,t.jsx)(B.EyeOff,{}),type:"default",onClick:()=>l(!n)}):(0,t.jsx)("span",{className:"mr-3 text-scale-900",children:s.units?(0,t.jsx)(v.default,{unwrapDisallowed:!0,disallowedElements:["p"],children:s.units}):null})});case"number":return(0,t.jsx)(q.InputNumber,{size:"small",layout:"vertical",id:e,name:e,disabled:a,label:s.title,labelOptional:s.descriptionOptional?(0,t.jsx)(v.default,{unwrapDisallowed:!0,disallowedElements:["p"],children:s.descriptionOptional}):null,descriptionText:s.description?(0,t.jsx)(S.Markdown,{content:s.description,className:"text-foreground-lighter"}):null,actions:(0,t.jsx)("span",{className:"mr-3 text-foreground-lighter",children:s.units?(0,t.jsx)(v.default,{unwrapDisallowed:!0,disallowedElements:["p"],children:s.units}):null})});case"boolean":return(0,t.jsx)(z.Toggle,{size:"small",id:e,name:e,disabled:a,label:(0,t.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,t.jsx)("span",{children:s.title}),s.link&&(0,t.jsx)("a",{href:s.link,target:"_blank",rel:"noreferrer noopener",children:(0,t.jsx)(X.InfoTooltip,{side:"bottom",children:"Documentation"})})]}),descriptionText:s.description?(0,t.jsx)(S.Markdown,{content:s.description}):null});case"select":return(0,t.jsx)(G.Listbox,{size:"small",name:e,disabled:a,label:s.title,descriptionText:s.description?(0,t.jsx)(v.default,{unwrapDisallowed:!0,disallowedElements:["p"],className:"form-field-markdown",children:s.description}):null,defaultValue:s.enum[0],children:s.enum.map(e=>(0,t.jsx)(G.Listbox.Option,{id:e.value,label:e.label,value:e.value,addOnBefore:()=>e.icon?(0,t.jsx)("img",{className:"h-6 w-6",src:`${R.BASE_PATH}/img/icons/${e.icon}`}):null,children:e.label},e.value))})}return null},Q=["SMS_AUTOCONFIRM"],Y=({config:e,provider:s,isActive:r})=>{let i,{resolvedTheme:n}=(0,y.useTheme)(),{ref:l}=(0,a.useParams)(),{data:o}=(0,I.useSelectedOrganizationQuery)(),[c,d]=(0,_.useQueryState)("provider",{defaultValue:""}),[u,h]=(0,b.useState)(!1),{mutate:p,isPending:f}=(0,A.useAuthConfigUpdateMutation)(),{can:H}=(0,T.useAsyncCheckPermissions)(g.PermissionAction.UPDATE,"custom_config_gotrue"),F=o?.plan.id==="free",{data:B}=(0,C.useProjectSettingsV2Query)({projectRef:l}),U=B?.app_config?.protocol??"https",q=B?.app_config?.endpoint,G=`${U}://${q}`,{data:z}=(0,k.useCustomDomainsQuery)({projectRef:l}),X=(i={},Object.keys(s.properties).forEach(t=>{let r=Q.includes(t);if("SAML 2.0"===s.title){let r=e[t];i[t]=r||"boolean"!==s.properties[t].type&&""}else if(r)i[t]=!e[t];else{let r=e[t];i[t]=r||"boolean"!==s.properties[t].type&&""}}),i);return(0,b.useEffect)(()=>{h(c.toLowerCase()===s.title.toLowerCase())},[c,s.title]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.ResourceItem,{onClick:()=>d(s.title),media:(0,t.jsx)("img",{src:`${R.BASE_PATH}/img/icons/${s.misc.iconKey}${s.misc.hasLightIcon&&!n?.includes("dark")?"-light":""}.svg`,width:18,height:18,alt:`${s.title} auth icon`}),meta:r?(0,t.jsxs)("div",{className:"flex items-center gap-1 rounded-full border border-brand-400 bg-brand-200 py-1 px-1 text-xs text-brand",children:[(0,t.jsx)("span",{className:"rounded-full bg-brand p-0.5 text-xs text-brand-200",children:(0,t.jsx)(x.Check,{strokeWidth:2,size:12})}),(0,t.jsx)("span",{className:"px-1",children:"Enabled"})]}):(0,t.jsx)("div",{className:"rounded-md border border-strong bg-surface-100 py-1 px-3 text-xs text-foreground-lighter",children:"Disabled"}),children:s.title}),(0,t.jsx)(O.Sheet,{open:u,onOpenChange:e=>{e||d(null)},children:(0,t.jsxs)(O.SheetContent,{className:"flex flex-col gap-0",children:[(0,t.jsxs)(O.SheetHeader,{className:"shrink-0 flex items-center gap-4",children:[(0,t.jsx)("img",{src:`${R.BASE_PATH}/img/icons/${s.misc.iconKey}${s.misc.hasLightIcon&&!n?.includes("dark")?"-light":""}.svg`,width:18,height:18,alt:`${s.title} auth icon`}),(0,t.jsx)(O.SheetTitle,{children:s.title})]}),(0,t.jsx)(P.Form,{id:`provider-${s.title}-form`,name:`provider-${s.title}-form`,initialValues:X,validationSchema:s.validationSchema,onSubmit:(e,{resetForm:t})=>{let s={...e};Object.keys(e).map(t=>{Q.includes(t)&&(s[t]=!e[t]),""===s[t]&&(s[t]=null)}),s.PASSWORD_REQUIRED_CHARACTERS===M.NO_REQUIRED_CHARACTERS&&(s.PASSWORD_REQUIRED_CHARACTERS=""),p({projectRef:l,config:s},{onSuccess:()=>{t({values:{...e},initialValues:{...e}}),h(!1),d(null),j.toast.success("Successfully updated settings")}})},className:"flex-1 overflow-hidden flex flex-col",children:({handleReset:r,initialValues:a,values:i,setFieldValue:n})=>{let c=JSON.stringify(a)===JSON.stringify(i);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex-1 overflow-y-auto group py-6 px-4 md:px-6 text-foreground",children:(0,t.jsxs)("div",{className:"mx-auto max-w-lg space-y-6",children:[(0,t.jsx)($,{title:s.title,isHookSendSMSEnabled:e.HOOK_SEND_SMS_ENABLED}),Object.keys(s.properties).map(r=>{let a,c=s.properties[r].description;c&&l&&(c=c.replace(/\(\.\.\/auth\/(.*?)\)/g,`(/project/${l}/auth/$1)`));let d={...s.properties[r],description:s.properties[r].isPaid&&F?`${c} Only available on [Pro plan](/org/${o.slug}/billing?panel=subscriptionPlan) and above.`:c},u=d.isPaid&&F;return(0,t.jsx)(W,{name:r,setFieldValue:n,properties:d,formValues:i,disabled:(a=e.HOOK_SEND_SMS_ENABLED&&r.startsWith("SMS_")&&!["SMS_AUTOCONFIRM","SMS_OTP_EXP","SMS_OTP_LENGTH","SMS_OTP_LENGTH","SMS_TEMPLATE","SMS_TEST_OTP","SMS_TEST_OTP_VALID_UNTIL"].includes(r),["EXTERNAL_SLACK_CLIENT_ID","EXTERNAL_SLACK_SECRET"].includes(r)||a||!H||u)},r)}),s?.misc?.alert&&(0,t.jsx)(D.Admonition,{type:"warning",title:s.misc.alert.title,description:(0,t.jsx)(v.default,{children:s.misc.alert.description})}),s.misc.requiresRedirect&&(0,t.jsx)(L.Input,{copy:!0,readOnly:!0,disabled:!0,label:"Callback URL (for OAuth)",value:z?.customDomain?.status==="active"?`https://${z.customDomain?.hostname}/auth/v1/callback`:`${G}/auth/v1/callback`,descriptionText:(0,t.jsx)(S.Markdown,{content:s.misc.helper,className:"text-foreground-lighter"})})]})}),(0,t.jsx)(O.SheetFooter,{className:"shrink-0",children:(0,t.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,t.jsx)(w.DocsButton,{href:s.link}),(0,t.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,t.jsx)(m.Button,{type:"default",htmlType:"reset",onClick:()=>{r(),h(!1),d(null)},disabled:f,children:"Cancel"}),(0,t.jsx)(N.ButtonTooltip,{htmlType:"submit",loading:f,disabled:f||!H||c,tooltip:{content:{side:"bottom",text:H?void 0:"You need additional permissions to update provider settings"}},children:"Save"})]})]})})]})}})]})})]})},V=()=>{let{ref:e}=(0,a.useParams)(),{data:g,error:x,isPending:_,isError:b,isSuccess:v}=(0,o.useAuthConfigQuery)({projectRef:e});return(0,t.jsxs)(p.PageSection,{children:[(0,t.jsx)(p.PageSectionMeta,{children:(0,t.jsxs)(p.PageSectionSummary,{children:[(0,t.jsx)(p.PageSectionTitle,{children:"Auth Providers"}),(0,t.jsx)(p.PageSectionDescription,{children:"Authenticate your users through a suite of providers and login methods"})]})}),(0,t.jsx)(p.PageSectionContent,{children:b?(0,t.jsx)(i.default,{error:x,subject:"Failed to retrieve auth configuration for hooks"}):(0,t.jsxs)("div",{className:"-space-y-px",children:[g?.EXTERNAL_EMAIL_ENABLED&&g?.MAILER_OTP_EXP>3600&&(0,t.jsxs)(c.Alert_Shadcn_,{className:"flex w-full items-center justify-between my-3",variant:"warning",children:[(0,t.jsx)(h.WarningIcon,{}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.AlertTitle_Shadcn_,{children:"OTP expiry exceeds recommended threshold"}),(0,t.jsxs)(d.AlertDescription_Shadcn_,{className:"flex flex-col gap-y-3",children:[(0,t.jsx)("p",{children:"We have detected that you have enabled the email provider with the OTP expiry set to more than an hour. It is recommended to set this value to less than an hour."}),(0,t.jsx)(m.Button,{asChild:!0,type:"default",className:"w-min",icon:(0,t.jsx)(s.ExternalLink,{}),children:(0,t.jsx)(r.default,{href:"https://supabase.com/docs/guides/platform/going-into-prod#security",children:"View security recommendations"})})]})]})]}),(0,t.jsxs)(n.ResourceList,{children:[_&&f.PROVIDERS_SCHEMAS.map(e=>(0,t.jsx)("div",{className:"py-4 px-6 border-b last:border-b-none",children:(0,t.jsx)(l.HorizontalShimmerWithIcon,{})},`provider_${e.title}`)),v&&f.PROVIDERS_SCHEMAS.map(e=>{let s="Phone"===e.title?{...e,validationSchema:(0,f.getPhoneProviderValidationSchema)(g)}:e,r=!1;return r="SAML 2.0"===s.title?g&&g.SAML_ENABLED:"LinkedIn (OIDC)"===s.title?g&&g.EXTERNAL_LINKEDIN_OIDC_ENABLED:"Slack (OIDC)"===s.title?g&&g.EXTERNAL_SLACK_OIDC_ENABLED:s.title.includes("Web3")?g&&g.EXTERNAL_WEB3_SOLANA_ENABLED:s.title.includes("X / Twitter (OAuth 2.0)")?g&&g.EXTERNAL_X_ENABLED:g&&g[`EXTERNAL_${s.title.toUpperCase()}_ENABLED`],(0,t.jsx)(Y,{config:g,provider:s,isActive:r},`provider_${s.title}`)})]})]})})]})};var Z=e.i(967074),J=e.i(408891),ee=e.i(26746),et=e.i(937942),es=e.i(693241),er=e.i(912793),ea=e.i(627069),ei=e.i(24315),en=e.i(61863),el=e.i(428353),eo=e.i(290811),ec=e.i(538482),ed=e.i(108151);let eu=(0,ee.object)({DISABLE_SIGNUP:(0,ee.boolean)().required(),EXTERNAL_ANONYMOUS_USERS_ENABLED:(0,ee.boolean)().required(),SECURITY_MANUAL_LINKING_ENABLED:(0,ee.boolean)().required(),MAILER_AUTOCONFIRM:(0,ee.boolean)().required(),SITE_URL:(0,ee.string)().required("Must have a Site URL")}),em=()=>{let{ref:e}=(0,a.useParams)(),n=(0,er.useIsFeatureEnabled)("authentication:show_manual_linking"),{data:l,error:f,isError:x,isSuccess:_,isPending:v}=(0,o.useAuthConfigQuery)({projectRef:e}),{mutate:y,isPending:S}=(0,A.useAuthConfigUpdateMutation)(),{can:N,isSuccess:w}=(0,T.useAsyncCheckPermissions)(g.PermissionAction.READ,"custom_config_gotrue"),{can:E}=(0,T.useAsyncCheckPermissions)(g.PermissionAction.UPDATE,"custom_config_gotrue"),C=(0,J.useForm)({resolver:(0,Z.yupResolver)(eu),defaultValues:{DISABLE_SIGNUP:!0,EXTERNAL_ANONYMOUS_USERS_ENABLED:!1,SECURITY_MANUAL_LINKING_ENABLED:!1,MAILER_AUTOCONFIRM:!0,SITE_URL:""}});return(0,b.useEffect)(()=>{l&&C.reset({DISABLE_SIGNUP:!l.DISABLE_SIGNUP,EXTERNAL_ANONYMOUS_USERS_ENABLED:l.EXTERNAL_ANONYMOUS_USERS_ENABLED,SECURITY_MANUAL_LINKING_ENABLED:l.SECURITY_MANUAL_LINKING_ENABLED,MAILER_AUTOCONFIRM:!l.MAILER_AUTOCONFIRM,SITE_URL:l.SITE_URL})},[l]),(0,t.jsxs)(p.PageSection,{children:[(0,t.jsx)(p.PageSectionMeta,{children:(0,t.jsx)(p.PageSectionSummary,{children:(0,t.jsx)(p.PageSectionTitle,{children:"User Signups"})})}),(0,t.jsxs)(p.PageSectionContent,{children:[x&&(0,t.jsx)(i.default,{error:f,subject:"Failed to retrieve auth configuration for hooks"}),w&&!N&&(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsx)(es.default,{resourceText:"view auth configuration settings"})}),v&&(0,t.jsxs)(ea.Card,{children:[(0,t.jsx)(ea.CardContent,{className:"py-6",children:(0,t.jsx)(ed.ShimmeringLoader,{})}),(0,t.jsx)(ea.CardContent,{className:"py-6",children:(0,t.jsx)(ed.ShimmeringLoader,{})}),(0,t.jsx)(ea.CardContent,{className:"py-6",children:(0,t.jsx)(ed.ShimmeringLoader,{})}),(0,t.jsx)(ea.CardContent,{className:"py-7",children:(0,t.jsx)(ed.ShimmeringLoader,{})}),(0,t.jsx)(ea.CardContent,{className:"py-7"})]}),_&&(0,t.jsx)(el.Form_Shadcn_,{...C,children:(0,t.jsx)("form",{onSubmit:C.handleSubmit(t=>{let s={...t};s.DISABLE_SIGNUP=!t.DISABLE_SIGNUP,s.PASSWORD_REQUIRED_CHARACTERS===M.NO_REQUIRED_CHARACTERS&&(s.PASSWORD_REQUIRED_CHARACTERS=""),s.MAILER_AUTOCONFIRM=!t.MAILER_AUTOCONFIRM,y({projectRef:e,config:s},{onError:e=>{j.toast.error(`Failed to update settings: ${e?.message}`)},onSuccess:()=>{j.toast.success("Successfully updated settings")}})}),className:"space-y-4",children:(0,t.jsxs)(ea.Card,{children:[(0,t.jsx)(ea.CardContent,{children:(0,t.jsx)(en.FormField_Shadcn_,{control:C.control,name:"DISABLE_SIGNUP",render:({field:e})=>(0,t.jsx)(ec.FormItemLayout,{layout:"flex-row-reverse",label:"Allow new users to sign up",description:"If this is disabled, new users will not be able to sign up to your application",children:(0,t.jsx)(ei.FormControl_Shadcn_,{children:(0,t.jsx)(eo.Switch,{checked:e.value,onCheckedChange:e.onChange,disabled:!E})})})})}),n&&(0,t.jsx)(ea.CardContent,{children:(0,t.jsx)(en.FormField_Shadcn_,{control:C.control,name:"SECURITY_MANUAL_LINKING_ENABLED",render:({field:e})=>(0,t.jsx)(ec.FormItemLayout,{layout:"flex-row-reverse",label:"Allow manual linking",description:(0,t.jsxs)(t.Fragment,{children:["Enable"," ",(0,t.jsx)(et.InlineLink,{className:"text-foreground-light hover:text-foreground",href:`${R.DOCS_URL}/guides/auth/auth-identity-linking#manual-linking-beta`,children:"manual linking APIs"})," ","for your project"]}),children:(0,t.jsx)(ei.FormControl_Shadcn_,{children:(0,t.jsx)(eo.Switch,{checked:e.value,onCheckedChange:e.onChange,disabled:!E})})})})}),(0,t.jsxs)(ea.CardContent,{children:[(0,t.jsx)(en.FormField_Shadcn_,{control:C.control,name:"EXTERNAL_ANONYMOUS_USERS_ENABLED",render:({field:e})=>(0,t.jsx)(ec.FormItemLayout,{layout:"flex-row-reverse",label:"Allow anonymous sign-ins",description:(0,t.jsxs)(t.Fragment,{children:["Enable"," ",(0,t.jsx)(et.InlineLink,{className:"text-foreground-light hover:text-foreground",href:`${R.DOCS_URL}/guides/auth/auth-anonymous`,children:"anonymous sign-ins"})," ","for your project"]}),children:(0,t.jsx)(ei.FormControl_Shadcn_,{children:(0,t.jsx)(eo.Switch,{checked:e.value,onCheckedChange:e.onChange,disabled:!E})})})}),C.watch("EXTERNAL_ANONYMOUS_USERS_ENABLED")&&(0,t.jsxs)(c.Alert_Shadcn_,{className:"flex w-full items-center justify-between mt-4",variant:"warning",children:[(0,t.jsx)(h.WarningIcon,{}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(u.AlertTitle_Shadcn_,{children:["Anonymous users will use the"," ",(0,t.jsx)("code",{className:"text-code-inline",children:"authenticated"})," role when signing in"]}),(0,t.jsxs)(d.AlertDescription_Shadcn_,{className:"flex flex-col gap-y-3",children:[(0,t.jsxs)("p",{children:["As a result, anonymous users will be subjected to RLS policies that apply to the ",(0,t.jsx)("code",{className:"text-code-inline",children:"public"})," and"," ",(0,t.jsx)("code",{className:"text-code-inline",children:"authenticated"})," roles. We strongly advise"," ",(0,t.jsx)(r.default,{href:`/project/${e}/auth/policies`,className:"text-foreground underline",children:"reviewing your RLS policies"})," ","to ensure that access to your data is restricted where required."]}),(0,t.jsx)(m.Button,{asChild:!0,type:"default",className:"w-min",icon:(0,t.jsx)(s.ExternalLink,{}),children:(0,t.jsx)(r.default,{href:`${R.DOCS_URL}/guides/auth/auth-anonymous#access-control`,children:"View access control docs"})})]})]})]}),!l?.SECURITY_CAPTCHA_ENABLED&&C.watch("EXTERNAL_ANONYMOUS_USERS_ENABLED")&&(0,t.jsxs)(c.Alert_Shadcn_,{className:"mt-4",children:[(0,t.jsx)(h.WarningIcon,{}),(0,t.jsxs)(u.AlertTitle_Shadcn_,{children:["We highly recommend"," ",(0,t.jsx)(et.InlineLink,{href:`/project/${e}/auth/protection`,children:"enabling captcha"})," ","for anonymous sign-ins"]}),(0,t.jsx)(d.AlertDescription_Shadcn_,{children:"This will prevent potential abuse on sign-ins which may bloat your database and incur costs for monthly active users (MAU)"})]})]}),(0,t.jsx)(ea.CardContent,{children:(0,t.jsx)(en.FormField_Shadcn_,{control:C.control,name:"MAILER_AUTOCONFIRM",render:({field:e})=>(0,t.jsx)(ec.FormItemLayout,{layout:"flex-row-reverse",label:"Confirm email",description:"Users will need to confirm their email address before signing in for the first time",children:(0,t.jsx)(ei.FormControl_Shadcn_,{children:(0,t.jsx)(eo.Switch,{checked:e.value,onCheckedChange:e.onChange,disabled:!E})})})})}),(0,t.jsxs)(ea.CardFooter,{className:"justify-end space-x-2",children:[C.formState.isDirty&&(0,t.jsx)(m.Button,{type:"default",onClick:()=>C.reset(),children:"Cancel"}),(0,t.jsx)(m.Button,{type:"primary",htmlType:"submit",disabled:!E||S||!C.formState.isDirty,loading:S,children:"Save changes"})]})]})})})]})]})};var eh=e.i(529727),ep=e.i(448710),ef=e.i(127739);let eg=()=>{let e=(0,er.useIsFeatureEnabled)("authentication:show_providers");return(0,t.jsxs)(ef.PageContainer,{size:"default",children:[(0,t.jsx)(em,{}),e&&(0,t.jsx)(V,{})]})};eg.getLayout=e=>(0,t.jsx)(ep.default,{children:(0,t.jsx)(eh.AuthProvidersLayout,{children:e})}),e.s(["default",0,eg],768288)},348834,(e,t,s)=>{let r="/project/[ref]/auth/providers";(window.__NEXT_P=window.__NEXT_P||[]).push([r,()=>e.r(768288)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([r])})},111410,e=>{e.v(t=>Promise.all(["static/chunks/a428d2b7e6671266.js","static/chunks/92a7c4be60dd12e3.js"].map(t=>e.l(t))).then(()=>t(677146)))},883471,e=>{e.v(t=>Promise.all(["static/chunks/69b2faaedd35af23.js"].map(t=>e.l(t))).then(()=>t(518769)))},587525,e=>{e.v(t=>Promise.all(["static/chunks/da2f61ca91d09b7f.js"].map(t=>e.l(t))).then(()=>t(127351)))},168845,e=>{e.v(t=>Promise.all(["static/chunks/99714db866f77205.js"].map(t=>e.l(t))).then(()=>t(238625)))},591393,e=>{e.v(t=>Promise.all(["static/chunks/e9ad074e72197584.js"].map(t=>e.l(t))).then(()=>t(217383)))},379416,e=>{e.v(t=>Promise.all(["static/chunks/d690909a90d04a2e.js"].map(t=>e.l(t))).then(()=>t(931066)))},15732,e=>{e.v(t=>Promise.all(["static/chunks/0d5256e667945be4.js"].map(t=>e.l(t))).then(()=>t(760545)))},957083,e=>{e.v(t=>Promise.all(["static/chunks/e7d07ff1ae210964.js"].map(t=>e.l(t))).then(()=>t(667558)))},207969,e=>{e.v(t=>Promise.all(["static/chunks/8dd7282c22f923f6.js"].map(t=>e.l(t))).then(()=>t(427328)))},992842,e=>{e.v(t=>Promise.all(["static/chunks/d064a48a1c7cf778.js"].map(t=>e.l(t))).then(()=>t(793794)))},239573,e=>{e.v(t=>Promise.all(["static/chunks/edc5d84148401903.js"].map(t=>e.l(t))).then(()=>t(210246)))},963685,e=>{e.v(t=>Promise.all(["static/chunks/92b20126e5ca0919.js"].map(t=>e.l(t))).then(()=>t(983756)))},665811,e=>{e.v(t=>Promise.all(["static/chunks/e37e25f8b82619ef.js"].map(t=>e.l(t))).then(()=>t(544836)))},369256,e=>{e.v(t=>Promise.all(["static/chunks/8296dc618dae72f0.js"].map(t=>e.l(t))).then(()=>t(930239)))},16037,e=>{e.v(t=>Promise.all(["static/chunks/3251b4bc539a554b.js"].map(t=>e.l(t))).then(()=>t(397698)))},616788,e=>{e.v(t=>Promise.all(["static/chunks/c6b81ab43a1d5d23.js"].map(t=>e.l(t))).then(()=>t(7346)))},315750,e=>{e.v(t=>Promise.all(["static/chunks/32c236321136eb7c.js"].map(t=>e.l(t))).then(()=>t(531289)))},460510,e=>{e.v(t=>Promise.all(["static/chunks/d91062943e6a7c30.js"].map(t=>e.l(t))).then(()=>t(276898)))},550265,e=>{e.v(t=>Promise.all(["static/chunks/75ff0e62b8a31d26.js"].map(t=>e.l(t))).then(()=>t(259714)))},830960,e=>{e.v(t=>Promise.all(["static/chunks/b44aa26556fee7df.js"].map(t=>e.l(t))).then(()=>t(882885)))},336744,e=>{e.v(t=>Promise.all(["static/chunks/2b0767b5c008139a.js"].map(t=>e.l(t))).then(()=>t(955268)))},63631,e=>{e.v(t=>Promise.all(["static/chunks/21a4706e1f02d90b.js"].map(t=>e.l(t))).then(()=>t(853630)))},912072,e=>{e.v(t=>Promise.all(["static/chunks/c17c80e5efc43419.js"].map(t=>e.l(t))).then(()=>t(311301)))},730314,e=>{e.v(t=>Promise.all(["static/chunks/dcadd9d46d72282e.js","static/chunks/eb1cdb6b4f8e674c.js","static/chunks/82dddbda1a808189.js","static/chunks/d3a06a9a43f3833e.js","static/chunks/87b9766a4d16d1da.js","static/chunks/cc8130a84ee9bc2c.css"].map(t=>e.l(t))).then(()=>t(686651)))}]);

//# debugId=4eabfbb5-e3b8-d104-3a49-e1d5d5d9262c
//# sourceMappingURL=27b11251d59bdf25.js.map