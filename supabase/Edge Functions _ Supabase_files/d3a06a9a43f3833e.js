;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="c7c9d2af-13f7-6f10-4100-141d474ad2d8")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,986276,(e,t,r)=>{var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,a=/\n/g,s=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,u=/^\s+|\s+$/g;function d(e){return e?e.replace(u,""):""}t.exports=function(e,t){if("string"!=typeof e)throw TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,u=1;function h(e){var t=e.match(a);t&&(r+=t.length);var n=e.lastIndexOf("\n");u=~n?e.length-n:u+e.length}function p(){var e={line:r,column:u};return function(t){return t.position=new m(e),E(s),t}}function m(e){this.start=e,this.end={line:r,column:u},this.source=t.source}m.prototype.content=e;var f=[];function g(n){var a=Error(t.source+":"+r+":"+u+": "+n);if(a.reason=n,a.filename=t.source,a.line=r,a.column=u,a.source=e,t.silent)f.push(a);else throw a}function E(t){var r=t.exec(e);if(r){var n=r[0];return h(n),e=e.slice(n.length),r}}function T(e){var t;for(e=e||[];t=_();)!1!==t&&e.push(t);return e}function _(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var r=2;""!=e.charAt(r)&&("*"!=e.charAt(r)||"/"!=e.charAt(r+1));)++r;if(r+=2,""===e.charAt(r-1))return g("End of comment missing");var n=e.slice(2,r-2);return u+=2,h(n),e=e.slice(r),u+=2,t({type:"comment",comment:n})}}E(s);var A,C=[];for(T(C);A=function(){var e=p(),t=E(i);if(t){if(_(),!E(o))return g("property missing ':'");var r=E(l),a=e({type:"declaration",property:d(t[0].replace(n,"")),value:r?d(r[0].replace(n,"")):""});return E(c),a}}();)!1!==A&&(C.push(A),T(C));return C}},386257,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){var r=null;if(!e||"string"!=typeof e)return r;var n=(0,a.default)(e),s="function"==typeof t;return n.forEach(function(e){if("declaration"===e.type){var n=e.property,a=e.value;s?t(n,a,e):a&&((r=r||{})[n]=a)}}),r};var a=n(e.r(986276))},163749,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,a=/-([a-z])/g,s=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,l=function(e,t){return t.toUpperCase()},c=function(e,t){return"".concat(t,"-")};r.camelCase=function(e,t){var r;return(void 0===t&&(t={}),!(r=e)||s.test(r)||n.test(r))?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(o,c):e.replace(i,c)).replace(a,l))}},407249,(e,t,r)=>{"use strict";var n=(e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(e.r(386257)),a=e.r(163749);function s(e,t){var r={};return e&&"string"==typeof e&&(0,n.default)(e,function(e,n){e&&n&&(r[(0,a.camelCase)(e,t)]=n)}),r}s.default=s,t.exports=s},390724,e=>{"use strict";var t=e.i(217332),r=e.i(321665);function n({defaultOrigin:e="",allowedLinkPrefixes:t=[],allowedImagePrefixes:n=[],blockedImageClass:a="inline-block bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 px-3 py-1 rounded text-sm",blockedLinkClass:s="text-gray-500"}){let i=t.length&&!t.every(e=>"*"===e),o=n.length&&!n.every(e=>"*"===e);if(!e&&(i||o))throw Error("defaultOrigin is required when allowedLinkPrefixes or allowedImagePrefixes are provided");return i=>{let o=l(e,t,n,a,s);(0,r.visit)(i,o)}}function a(e,t){if("string"!=typeof e)return null;try{return new URL(e)}catch{if(t)try{return new URL(e,t)}catch{}return null}}let s=new Set(["https:","http:","irc:","ircs:","mailto:","xmpp:"]);function i(e,t,r){if(!e)return null;let n=a(e,r);if(!n||!s.has(n.protocol))return null;let i="string"==typeof e&&e.startsWith("/"),o=a(e,r);return o&&t.some(e=>{let t=a(e,r);return!!t&&t.origin===o.origin&&o.href.startsWith(t.href)})?i?o.pathname+o.search+o.hash:o.href:t.includes("*")?"https:"!==n.protocol&&"http:"!==n.protocol?null:i?n.pathname+n.search+n.hash:n.href:null}let o=Symbol("node-seen"),l=(e,n,a,s,l)=>{let c=(u,d,h)=>{if("element"!==u.type||u[o])return t.CONTINUE;if("a"===u.tagName){let a=i(u.properties.href,n,e);return null===a?(u[o]=!0,(0,r.visit)(u,c),h&&"number"==typeof d&&(h.children[d]={type:"element",tagName:"span",properties:{title:"Blocked URL: "+String(u.properties.href),class:l},children:[...u.children,{type:"text",value:" [blocked]"}]}),t.SKIP):(u.properties.href=a,u.properties.target="_blank",u.properties.rel="noopener noreferrer",t.CONTINUE)}if("img"===u.tagName){let n=i(u.properties.src,a,e);if(null===n)return u[o]=!0,(0,r.visit)(u,c),h&&"number"==typeof d&&(h.children[d]={type:"element",tagName:"span",properties:{class:s},children:[{type:"text",value:"[Image blocked: "+String(u.properties.alt||"No description")+"]"}]}),t.SKIP;u.properties.src=n}return t.CONTINUE};return c};e.s(["harden",()=>n])},262236,(e,t,r)=>{"use strict";var n=e.e&&e.e.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=e.e&&e.e.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},s=e.e&&e.e.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return function(t){var r=t.defaultOrigin,l=t.allowedLinkPrefixes,c=t.allowedImagePrefixes,u=t.rehypePlugins,d=a(t,["defaultOrigin","allowedLinkPrefixes","allowedImagePrefixes","rehypePlugins"]);return(0,i.jsx)(e,n({},d,{rehypePlugins:s([[o.harden,{defaultOrigin:r,allowedLinkPrefixes:l,allowedImagePrefixes:c}]],null!=u?u:[],!0)}))}};var i=e.r(478902),o=e.r(390724)},531275,e=>{"use strict";let t,r,n,a,s;var i,o,l,c,u,d,h,p,m,f,g,E,T,_,A,C,N,b,y,k,S,I,R,L,D,O,w,M,x,P,v,B,F,U,H=e.i(389959),G=e.i(130568),$=e.i(358403),j=e.i(512291),Y=e.i(767955);class q{constructor(e,t){this.attribute=t,this.property=e}}q.prototype.attribute="",q.prototype.booleanish=!1,q.prototype.boolean=!1,q.prototype.commaOrSpaceSeparated=!1,q.prototype.commaSeparated=!1,q.prototype.defined=!1,q.prototype.mustUseProperty=!1,q.prototype.number=!1,q.prototype.overloadedBoolean=!1,q.prototype.property="",q.prototype.spaceSeparated=!1,q.prototype.space=void 0;let W=0,z=ee(),V=ee(),Q=ee(),X=ee(),K=ee(),J=ee(),Z=ee();function ee(){return 2**++W}e.s(["boolean",0,z,"booleanish",0,V,"commaOrSpaceSeparated",0,Z,"commaSeparated",0,J,"number",0,X,"overloadedBoolean",0,Q,"spaceSeparated",0,K],258287);var et=e.i(258287);let er=Object.keys(et);class en extends q{constructor(e,t,r,n){let a=-1;if(super(e,t),function(e,t,r){r&&(e[t]=r)}(this,"space",n),"number"==typeof r)for(;++a<er.length;){const e=er[a];!function(e,t,r){r&&(e[t]=r)}(this,er[a],(r&et[e])===et[e])}}}function ea(e){return e.toLowerCase()}en.prototype.defined=!0;let es=/[A-Z]/g,ei=/-[a-z]/g,eo=/^data[-\w.:]+$/i;function el(e,t){let r=ea(t),n=t,a=q;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&"data"===r.slice(0,4)&&eo.test(t)){if("-"===t.charAt(4)){let e=t.slice(5).replace(ei,eu);n="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{let e=t.slice(4);if(!ei.test(e)){let r=e.replace(es,ec);"-"!==r.charAt(0)&&(r="-"+r),t="data"+r}}a=en}return new a(n,t)}function ec(e){return"-"+e.toLowerCase()}function eu(e){return e.charAt(1).toUpperCase()}let ed={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};class eh{constructor(e,t,r){this.normal=t,this.property=e,r&&(this.space=r)}}function ep(e,t){let r={},n={};for(let t of e)Object.assign(r,t.property),Object.assign(n,t.normal);return new eh(r,n,t)}function em(e){let t={},r={};for(let[n,a]of Object.entries(e.properties)){let s=new en(n,e.transform(e.attributes||{},n),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),t[n]=s,r[ea(n)]=n,r[ea(s.attribute)]=n}return new eh(t,r,e.space)}eh.prototype.normal={},eh.prototype.property={},eh.prototype.space=void 0;let ef=em({properties:{ariaActiveDescendant:null,ariaAtomic:V,ariaAutoComplete:null,ariaBusy:V,ariaChecked:V,ariaColCount:X,ariaColIndex:X,ariaColSpan:X,ariaControls:K,ariaCurrent:null,ariaDescribedBy:K,ariaDetails:null,ariaDisabled:V,ariaDropEffect:K,ariaErrorMessage:null,ariaExpanded:V,ariaFlowTo:K,ariaGrabbed:V,ariaHasPopup:null,ariaHidden:V,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:K,ariaLevel:X,ariaLive:null,ariaModal:V,ariaMultiLine:V,ariaMultiSelectable:V,ariaOrientation:null,ariaOwns:K,ariaPlaceholder:null,ariaPosInSet:X,ariaPressed:V,ariaReadOnly:V,ariaRelevant:null,ariaRequired:V,ariaRoleDescription:K,ariaRowCount:X,ariaRowIndex:X,ariaRowSpan:X,ariaSelected:V,ariaSetSize:X,ariaSort:null,ariaValueMax:X,ariaValueMin:X,ariaValueNow:X,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function eg(e,t){return t in e?e[t]:t}function eE(e,t){return eg(e,t.toLowerCase())}let eT=em({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:J,acceptCharset:K,accessKey:K,action:null,allow:null,allowFullScreen:z,allowPaymentRequest:z,allowUserMedia:z,alt:null,as:null,async:z,autoCapitalize:null,autoComplete:K,autoFocus:z,autoPlay:z,blocking:K,capture:null,charSet:null,checked:z,cite:null,className:K,cols:X,colSpan:null,content:null,contentEditable:V,controls:z,controlsList:K,coords:X|J,crossOrigin:null,data:null,dateTime:null,decoding:null,default:z,defer:z,dir:null,dirName:null,disabled:z,download:Q,draggable:V,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:z,formTarget:null,headers:K,height:X,hidden:z,high:X,href:null,hrefLang:null,htmlFor:K,httpEquiv:K,id:null,imageSizes:null,imageSrcSet:null,inert:z,inputMode:null,integrity:null,is:null,isMap:z,itemId:null,itemProp:K,itemRef:K,itemScope:z,itemType:K,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:z,low:X,manifest:null,max:null,maxLength:X,media:null,method:null,min:null,minLength:X,multiple:z,muted:z,name:null,nonce:null,noModule:z,noValidate:z,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:z,optimum:X,pattern:null,ping:K,placeholder:null,playsInline:z,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:z,referrerPolicy:null,rel:K,required:z,reversed:z,rows:X,rowSpan:X,sandbox:K,scope:null,scoped:z,seamless:z,selected:z,shadowRootClonable:z,shadowRootDelegatesFocus:z,shadowRootMode:null,shape:null,size:X,sizes:null,slot:null,span:X,spellCheck:V,src:null,srcDoc:null,srcLang:null,srcSet:null,start:X,step:null,style:null,tabIndex:X,target:null,title:null,translate:null,type:null,typeMustMatch:z,useMap:null,value:V,width:X,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:K,axis:null,background:null,bgColor:null,border:X,borderColor:null,bottomMargin:X,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:z,declare:z,event:null,face:null,frame:null,frameBorder:null,hSpace:X,leftMargin:X,link:null,longDesc:null,lowSrc:null,marginHeight:X,marginWidth:X,noResize:z,noHref:z,noShade:z,noWrap:z,object:null,profile:null,prompt:null,rev:null,rightMargin:X,rules:null,scheme:null,scrolling:V,standby:null,summary:null,text:null,topMargin:X,valueType:null,version:null,vAlign:null,vLink:null,vSpace:X,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:z,disableRemotePlayback:z,prefix:null,property:null,results:X,security:null,unselectable:null},space:"html",transform:eE}),e_=em({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Z,accentHeight:X,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:X,amplitude:X,arabicForm:null,ascent:X,attributeName:null,attributeType:null,azimuth:X,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:X,by:null,calcMode:null,capHeight:X,className:K,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:X,diffuseConstant:X,direction:null,display:null,dur:null,divisor:X,dominantBaseline:null,download:z,dx:null,dy:null,edgeMode:null,editable:null,elevation:X,enableBackground:null,end:null,event:null,exponent:X,externalResourcesRequired:null,fill:null,fillOpacity:X,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:J,g2:J,glyphName:J,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:X,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:X,horizOriginX:X,horizOriginY:X,id:null,ideographic:X,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:X,k:X,k1:X,k2:X,k3:X,k4:X,kernelMatrix:Z,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:X,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:X,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:X,overlineThickness:X,paintOrder:null,panose1:null,path:null,pathLength:X,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:K,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:X,pointsAtY:X,pointsAtZ:X,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Z,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Z,rev:Z,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Z,requiredFeatures:Z,requiredFonts:Z,requiredFormats:Z,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:X,specularExponent:X,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:X,strikethroughThickness:X,string:null,stroke:null,strokeDashArray:Z,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:X,strokeOpacity:X,strokeWidth:null,style:null,surfaceScale:X,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Z,tabIndex:X,tableValues:null,target:null,targetX:X,targetY:X,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Z,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:X,underlineThickness:X,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:X,values:null,vAlphabetic:X,vMathematical:X,vectorEffect:null,vHanging:X,vIdeographic:X,version:null,vertAdvY:X,vertOriginX:X,vertOriginY:X,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:X,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:eg}),eA=em({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),eC=em({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:eE}),eN=em({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),eb=ep([ef,eT,eA,eC,eN],"html"),ey=ep([ef,e_,eA,eC,eN],"svg");var ek=e.i(54764),eS=e.i(407249),eI=e.i(714407),eR=e.i(102312);let eL={}.hasOwnProperty,eD=new Map,eO=/[A-Z]/g,ew=new Set(["table","tbody","thead","tfoot","tr"]),eM=new Set(["td","th"]),ex="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function eP(e,t,r){var n,a,s,i,o,l,c,u,d;let h,p,m,f,g,E,T,_,A,C,N;return"element"===t.type?(n=e,a=t,s=r,p=h=n.schema,"svg"===a.tagName.toLowerCase()&&"html"===h.space&&(n.schema=ey),n.ancestors.push(a),m=eU(n,a.tagName,!1),f=function(e,t){let r,n,a={};for(n in t.properties)if("children"!==n&&eL.call(t.properties,n)){let s=function(e,t,r){let n=el(e.schema,t);if(!(null==r||"number"==typeof r&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?(0,$.stringify)(r):(0,ek.stringify)(r)),"style"===n.property){let t="object"==typeof r?r:function(e,t){try{return(0,eS.default)(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};let t=new eR.VFileMessage("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw t.file=e.filePath||void 0,t.url=ex+"#cannot-parse-style-attribute",t}}(e,String(r));return"css"===e.stylePropertyNameCase&&(t=function(e){let t,r={};for(t in e)eL.call(e,t)&&(r[function(e){let t=e.replace(eO,eG);return"ms-"===t.slice(0,3)&&(t="-"+t),t}(t)]=e[t]);return r}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&n.space?ed[n.property]||n.property:n.attribute,r]}}(e,n,t.properties[n]);if(s){let[n,i]=s;e.tableCellAlignToStyle&&"align"===n&&"string"==typeof i&&eM.has(t.tagName)?r=i:a[n]=i}}return r&&((a.style||(a.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r),a}(n,a),g=eF(n,a),ew.has(a.tagName)&&(g=g.filter(function(e){return"string"!=typeof e||!(0,Y.whitespace)(e)})),ev(n,f,m,a),eB(f,g),n.ancestors.pop(),n.schema=h,n.create(a,m,f,s)):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){let r=t.data.estree.body[0];return(0,G.ok)("ExpressionStatement"===r.type),e.evaluater.evaluateExpression(r.expression)}eH(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?(i=e,o=t,l=r,T=E=i.schema,"svg"===o.name&&"html"===E.space&&(i.schema=ey),i.ancestors.push(o),_=null===o.name?i.Fragment:eU(i,o.name,!0),A=function(e,t){let r={};for(let n of t.attributes)if("mdxJsxExpressionAttribute"===n.type)if(n.data&&n.data.estree&&e.evaluater){let t=n.data.estree.body[0];(0,G.ok)("ExpressionStatement"===t.type);let a=t.expression;(0,G.ok)("ObjectExpression"===a.type);let s=a.properties[0];(0,G.ok)("SpreadElement"===s.type),Object.assign(r,e.evaluater.evaluateExpression(s.argument))}else eH(e,t.position);else{let a,s=n.name;if(n.value&&"object"==typeof n.value)if(n.value.data&&n.value.data.estree&&e.evaluater){let t=n.value.data.estree.body[0];(0,G.ok)("ExpressionStatement"===t.type),a=e.evaluater.evaluateExpression(t.expression)}else eH(e,t.position);else a=null===n.value||n.value;r[s]=a}return r}(i,o),C=eF(i,o),ev(i,A,_,o),eB(A,C),i.ancestors.pop(),i.schema=E,i.create(o,_,A,l)):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);eH(e,t.position)}(e,t):"root"===t.type?(c=e,u=t,d=r,eB(N={},eF(c,u)),c.create(u,c.Fragment,N,d)):"text"===t.type?t.value:void 0}function ev(e,t,r,n){"string"!=typeof r&&r!==e.Fragment&&e.passNode&&(t.node=n)}function eB(e,t){if(t.length>0){let r=t.length>1?t:t[0];r&&(e.children=r)}}function eF(e,t){let r=[],n=-1,a=e.passKeys?new Map:eD;for(;++n<t.children.length;){let s,i=t.children[n];if(e.passKeys){let e="element"===i.type?i.tagName:"mdxJsxFlowElement"===i.type||"mdxJsxTextElement"===i.type?i.name:void 0;if(e){let t=a.get(e)||0;s=e+"-"+t,a.set(e,t+1)}}let o=eP(e,i,s);void 0!==o&&r.push(o)}return r}function eU(e,t,r){let n;if(r)if(t.includes(".")){let e,r=t.split("."),a=-1;for(;++a<r.length;){let t=(0,j.name)(r[a])?{type:"Identifier",name:r[a]}:{type:"Literal",value:r[a]};e=e?{type:"MemberExpression",object:e,property:t,computed:!!(a&&"Literal"===t.type),optional:!1}:t}(0,G.ok)(e,"always a result"),n=e}else n=(0,j.name)(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else n={type:"Literal",value:t};if("Literal"===n.type){let t=n.value;return eL.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(n);eH(e)}function eH(e,t){let r=new eR.VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=ex+"#cannot-handle-mdx-estrees-without-createevaluater",r}function eG(e){return"-"+e.toLowerCase()}var e$=e.i(295337),ej=e.i(478902),eY=e.i(795561),eq=e.i(556074),eW=e.i(61418),ez=e.i(321665),eV=e.i(805253);let eQ=[],eX={allowDangerousHtml:!0},eK=/^(https?|ircs?|mailto|xmpp)$/i,eJ=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function eZ(e){let t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),a=e.indexOf("/");return -1===t||-1!==a&&t>a||-1!==r&&t>r||-1!==n&&t>n||eK.test(e.slice(0,t))?e:""}var e0=e.i(782303);let e1=/[#.]/g;var e2=e.i(657541),e3=e.i(209067);let e5=new Set(["button","menu","reset","submit"]),e8={}.hasOwnProperty;function e4(e,t,r){let n=r&&function(e){let t={},r=-1;for(;++r<e.length;)t[e[r].toLowerCase()]=e[r];return t}(r);return function(r,a,...s){let i,o=-1;if(null==r)i={type:"root",children:[]},s.unshift(a);else{var l,c;if((i=function(e,t){let r,n,a=e||"",s={},i=0;for(;i<a.length;){e1.lastIndex=i;let e=e1.exec(a),t=a.slice(i,e?e.index:a.length);t&&(r?"#"===r?s.id=t:Array.isArray(s.className)?s.className.push(t):s.className=[t]:n=t,i+=t.length),e&&(r=e[0],i++)}return{type:"element",tagName:n||t||"div",properties:s,children:[]}}(r,t)).tagName=i.tagName.toLowerCase(),n&&e8.call(n,i.tagName)&&(i.tagName=n[i.tagName]),l=a,c=i.tagName,!(null==l||"object"!=typeof l||Array.isArray(l))&&("input"===c||!l.type||"string"!=typeof l.type||!("children"in l&&Array.isArray(l.children))&&("button"===c?e5.has(l.type.toLowerCase()):!("value"in l)))){let t;for(t in a)e8.call(a,t)&&function(e,t,r,n){let a,s=(0,e2.find)(e,r),i=-1;if(null!=n){if("number"==typeof n){if(Number.isNaN(n))return;a=n}else a="boolean"==typeof n?n:"string"==typeof n?s.spaceSeparated?(0,ek.parse)(n):s.commaSeparated?(0,$.parse)(n):s.commaOrSpaceSeparated?(0,ek.parse)((0,$.parse)(n).join(" ")):e6(s,s.property,n):Array.isArray(n)?n.concat():"style"===s.property?function(e){let t,r=[];for(t in e)e8.call(e,t)&&r.push([t,e[t]].join(": "));return r.join("; ")}(n):String(n);if(Array.isArray(a)){let e=[];for(;++i<a.length;){let t=e6(s,s.property,a[i]);e[i]=t}a=e}if("className"===s.property&&Array.isArray(t.className)){let e=a;a=t.className.concat(e)}t[s.property]=a}}(e,i.properties,t,a[t])}else s.unshift(a)}for(;++o<s.length;)!function e(t,r){let n=-1;if(null==r);else if("string"==typeof r||"number"==typeof r)t.push({type:"text",value:String(r)});else if(Array.isArray(r))for(;++n<r.length;)e(t,r[n]);else if("object"==typeof r&&"type"in r)"root"===r.type?e(t,r.children):t.push(r);else throw Error("Expected node, nodes, or string, got `"+r+"`")}(i.children,s[o]);return"element"===i.type&&"template"===i.tagName&&(i.content={type:"root",children:i.children},i.children=[]),i}}function e6(e,t,r){if("string"==typeof r){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(""===r||(0,e3.normalize)(r)===(0,e3.normalize)(t)))return!0}return r}let e9=e4(e0.html,"div"),e7=e4(e0.svg,"g",["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"]),te={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tt(e,t){let r=function(e,t){switch(e.nodeType){case 1:return function(e,t){let r=e.namespaceURI,n=r===te.svg?e7:e9,a=r===te.html?e.tagName.toLowerCase():e.tagName,s=r===te.html&&"template"===a?e.content:e,i=e.getAttributeNames(),o={},l=-1;for(;++l<i.length;)o[i[l]]=e.getAttribute(i[l])||"";return n(a,o,tr(s,t))}(e,t);case 3:return{type:"text",value:e.nodeValue||""};case 8:return{type:"comment",value:e.nodeValue||""};case 9:case 11:return function(e,t){return{type:"root",children:tr(e,t)}}(e,t);case 10:return{type:"doctype"};default:return}}(e,t);return r&&t.afterTransform&&t.afterTransform(e,r),r}function tr(e,t){let r=e.childNodes,n=[],a=-1;for(;++a<r.length;){let e=tt(r[a],t);void 0!==e&&n.push(e)}return n}let tn=new DOMParser;var ta=e.i(678244);let ts=function(e,t,r){let n=(0,ta.convert)(r);if(!e||!e.type||!e.children)throw Error("Expected parent node");if("number"==typeof t){if(t<0||t===1/0)throw Error("Expected positive finite number as index")}else if((t=e.children.indexOf(t))<0)throw Error("Expected child node or index");for(;++t<e.children.length;)if(n(e.children[t],t,e))return e.children[t]},ti=function(e){if(null==e)return tl;if("string"==typeof e){var t;return t=e,to(function(e){return e.tagName===t})}if("object"==typeof e){var r=e;let t=[],n=-1;for(;++n<r.length;)t[n]=ti(r[n]);return to(function(...e){let r=-1;for(;++r<t.length;)if(t[r].apply(this,e))return!0;return!1})}if("function"==typeof e)return to(e);throw Error("Expected function, string, or array as `test`")};function to(e){return function(t,r,n){var a;return!!(null!==(a=t)&&"object"==typeof a&&"type"in a&&"tagName"in a&&e.call(this,t,"number"==typeof r?r:void 0,n||void 0))}}function tl(e){return!!(e&&"object"==typeof e&&"type"in e&&"element"===e.type&&"tagName"in e&&"string"==typeof e.tagName)}let tc=/\n/g,tu=/[\t ]+/g,td=ti("br"),th=ti(function(e){return"td"===e.tagName||"th"===e.tagName}),tp=ti("p"),tm=ti("tr"),tf=ti(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",function(e){return!!(e.properties||{}).hidden},function(e){return"dialog"===e.tagName&&!(e.properties||{}).open}]),tg=ti(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function tE(e,t){let r,n=String(e.value),a=[],s=[],i=0;for(;i<=n.length;){tc.lastIndex=i;let e=tc.exec(n),r=e&&"index"in e?e.index:n.length;a.push(function(e,t,r){let n,a=[],s=0;for(;s<e.length;){tu.lastIndex=s;let r=tu.exec(e);n=r?r.index:e.length,s||n||!r||t||a.push(""),s!==n&&a.push(e.slice(s,n)),s=r?n+r[0].length:n}return s===n||r||a.push(""),a.join(" ")}(n.slice(i,r).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),0!==i||t.breakBefore,r!==n.length||t.breakAfter)),i=r+1}let o=-1;for(;++o<a.length;)8203===a[o].charCodeAt(a[o].length-1)||o<a.length-1&&8203===a[o+1].charCodeAt(0)?(s.push(a[o]),r=void 0):a[o]?("number"==typeof r&&s.push(r),s.push(a[o]),r=0):(0===o||o===a.length-1)&&s.push(0);return s}function tT(e,t){if("element"===e.type){let r=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}var t_=e.i(66317),tA=e.i(217332);let tC=[];var tN=e.i(961512);let tb=/\r?\n|\r/g,ty={}.hasOwnProperty,tk=Object.prototype;function tS(e,t){let r;switch(t.nodeName){case"#comment":return r={type:"comment",value:t.data},tR(e,t,r),r;case"#document":case"#document-fragment":{let n="mode"in t&&("quirks"===t.mode||"limited-quirks"===t.mode);if(r={type:"root",children:tI(e,t.childNodes),data:{quirksMode:n}},e.file&&e.location){let t=String(e.file),n=function(e){let t=String(e),r=[];for(tb.lastIndex=0;tb.test(t);)r.push(tb.lastIndex);return r.push(t.length+1),{toPoint:function(e){let t=-1;if("number"==typeof e&&e>-1&&e<r[r.length-1]){for(;++t<r.length;)if(r[t]>e)return{line:t+1,column:e-(t>0?r[t-1]:0)+1,offset:e}}},toOffset:function(e){let t=e&&e.line,n=e&&e.column;if("number"==typeof t&&"number"==typeof n&&!Number.isNaN(t)&&!Number.isNaN(n)&&t-1 in r){let e=(r[t-2]||0)+n-1||0;if(e>-1&&e<r[r.length-1])return e}}}}(t),a=n.toPoint(0),s=n.toPoint(t.length);(0,G.ok)(a,"expected `start`"),(0,G.ok)(s,"expected `end`"),r.position={start:a,end:s}}return r}case"#documentType":return tR(e,t,r={type:"doctype"}),r;case"#text":return r={type:"text",value:t.value},tR(e,t,r),r;default:return function(e,t){let r=e.schema;e.schema=t.namespaceURI===te.svg?e0.svg:e0.html;let n=-1,a={};for(;++n<t.attrs.length;){let e=t.attrs[n],r=(e.prefix?e.prefix+":":"")+e.name;ty.call(tk,r)||(a[r]=e.value)}let s=("svg"===e.schema.space?e7:e9)(t.tagName,a,tI(e,t.childNodes));if(tR(e,t,s),"template"===s.tagName){let r=t.sourceCodeLocation,n=r&&r.startTag&&tL(r.startTag),a=r&&r.endTag&&tL(r.endTag),i=tS(e,t.content);n&&a&&e.file&&(i.position={start:n.end,end:a.start}),s.content=i}return e.schema=r,s}(e,t)}}function tI(e,t){let r=-1,n=[];for(;++r<t.length;){let a=tS(e,t[r]);n.push(a)}return n}function tR(e,t,r){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){let n=function(e,t,r){let n=tL(r);if("element"===t.type){let a=t.children[t.children.length-1];if(n&&!r.endTag&&a&&a.position&&a.position.end&&(n.end=Object.assign({},a.position.end)),e.verbose){let n,a={};if(r.attrs)for(n in r.attrs)ty.call(r.attrs,n)&&(a[(0,e2.find)(e.schema,n).property]=tL(r.attrs[n]));(0,G.ok)(r.startTag,"a start tag should exist");let s=tL(r.startTag),i=r.endTag?tL(r.endTag):void 0,o={opening:s};i&&(o.closing=i),o.properties=a,t.data={position:o}}}return n}(e,r,t.sourceCodeLocation);n&&(e.location=!0,r.position=n)}}function tL(e){let t=tD({line:e.startLine,column:e.startCol,offset:e.startOffset}),r=tD({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||r?{start:t,end:r}:void 0}function tD(e){return e.line&&e.column?e:void 0}let tO={}.hasOwnProperty;function tw(e,t){let r=t||{};function n(t,...r){let a=n.invalid,s=n.handlers;if(t&&tO.call(t,e)){let r=String(t[e]);a=tO.call(s,r)?s[r]:n.unknown}if(a)return a.call(this,t,...r)}return n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}let tM={}.hasOwnProperty,tx=tw("type",{handlers:{root:function(e,t){let r={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return r.childNodes=tP(e.children,r,t),tv(e,r),r},element:function(e,t){var r,n;let a,s,i=t;"element"===e.type&&"svg"===e.tagName.toLowerCase()&&"html"===t.space&&(i=e0.svg);let o=[];if(e.properties){for(a in e.properties)if("children"!==a&&tM.call(e.properties,a)){let t=function(e,t,r){let n=(0,e2.find)(e,t);if(!1===r||null==r||"number"==typeof r&&Number.isNaN(r)||!r&&n.boolean)return;Array.isArray(r)&&(r=n.commaSeparated?(0,$.stringify)(r):(0,ek.stringify)(r));let a={name:n.attribute,value:!0===r?"":String(r)};if(n.space&&"html"!==n.space&&"svg"!==n.space){let e=a.name.indexOf(":");e<0?a.prefix="":(a.name=a.name.slice(e+1),a.prefix=n.attribute.slice(0,e)),a.namespace=te[n.space]}return a}(i,a,e.properties[a]);t&&o.push(t)}}let l=i.space;(0,G.ok)(l);let c={nodeName:e.tagName,tagName:e.tagName,attrs:o,namespaceURI:te[l],childNodes:[],parentNode:null};return c.childNodes=tP(e.children,c,i),tv(e,c),"template"===e.tagName&&e.content&&(r=e.content,n=i,(s={nodeName:"#document-fragment",childNodes:[]}).childNodes=tP(r.children,s,n),tv(r,s),c.content=s),c},text:function(e){let t={nodeName:"#text",value:e.value,parentNode:null};return tv(e,t),t},comment:function(e){let t={nodeName:"#comment",data:e.value,parentNode:null};return tv(e,t),t},doctype:function(e){let t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return tv(e,t),t}}});function tP(e,t,r){let n=-1,a=[];if(e)for(;++n<e.length;){let s=tx(e[n],r);s.parentNode=t,a.push(s)}return a}function tv(e,t){let r=e.position;r&&r.start&&r.end&&((0,G.ok)("number"==typeof r.start.offset),(0,G.ok)("number"==typeof r.end.offset),t.sourceCodeLocation={startLine:r.start.line,startCol:r.start.column,startOffset:r.start.offset,endLine:r.end.line,endCol:r.end.column,endOffset:r.end.offset})}let tB=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],tF=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);(i=y=y||(y={}))[i.EOF=-1]="EOF",i[i.NULL=0]="NULL",i[i.TABULATION=9]="TABULATION",i[i.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",i[i.LINE_FEED=10]="LINE_FEED",i[i.FORM_FEED=12]="FORM_FEED",i[i.SPACE=32]="SPACE",i[i.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",i[i.QUOTATION_MARK=34]="QUOTATION_MARK",i[i.NUMBER_SIGN=35]="NUMBER_SIGN",i[i.AMPERSAND=38]="AMPERSAND",i[i.APOSTROPHE=39]="APOSTROPHE",i[i.HYPHEN_MINUS=45]="HYPHEN_MINUS",i[i.SOLIDUS=47]="SOLIDUS",i[i.DIGIT_0=48]="DIGIT_0",i[i.DIGIT_9=57]="DIGIT_9",i[i.SEMICOLON=59]="SEMICOLON",i[i.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",i[i.EQUALS_SIGN=61]="EQUALS_SIGN",i[i.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",i[i.QUESTION_MARK=63]="QUESTION_MARK",i[i.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",i[i.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",i[i.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",i[i.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",i[i.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",i[i.GRAVE_ACCENT=96]="GRAVE_ACCENT",i[i.LATIN_SMALL_A=97]="LATIN_SMALL_A",i[i.LATIN_SMALL_F=102]="LATIN_SMALL_F",i[i.LATIN_SMALL_X=120]="LATIN_SMALL_X",i[i.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",i[i.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER";let tU="[CDATA[",tH="doctype",tG="script";function t$(e){return e>=55296&&e<=57343}function tj(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159}function tY(e){return e>=64976&&e<=65007||tF.has(e)}(o=k=k||(k={})).controlCharacterInInputStream="control-character-in-input-stream",o.noncharacterInInputStream="noncharacter-in-input-stream",o.surrogateInInputStream="surrogate-in-input-stream",o.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",o.endTagWithAttributes="end-tag-with-attributes",o.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",o.unexpectedSolidusInTag="unexpected-solidus-in-tag",o.unexpectedNullCharacter="unexpected-null-character",o.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",o.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",o.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",o.missingEndTagName="missing-end-tag-name",o.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",o.unknownNamedCharacterReference="unknown-named-character-reference",o.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",o.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",o.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",o.eofBeforeTagName="eof-before-tag-name",o.eofInTag="eof-in-tag",o.missingAttributeValue="missing-attribute-value",o.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",o.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",o.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",o.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",o.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",o.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",o.missingDoctypePublicIdentifier="missing-doctype-public-identifier",o.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",o.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",o.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",o.cdataInHtmlContent="cdata-in-html-content",o.incorrectlyOpenedComment="incorrectly-opened-comment",o.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",o.eofInDoctype="eof-in-doctype",o.nestedComment="nested-comment",o.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",o.eofInComment="eof-in-comment",o.incorrectlyClosedComment="incorrectly-closed-comment",o.eofInCdata="eof-in-cdata",o.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",o.nullCharacterReference="null-character-reference",o.surrogateCharacterReference="surrogate-character-reference",o.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",o.controlCharacterReference="control-character-reference",o.noncharacterCharacterReference="noncharacter-character-reference",o.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",o.missingDoctypeName="missing-doctype-name",o.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",o.duplicateAttribute="duplicate-attribute",o.nonConformingDoctype="non-conforming-doctype",o.missingDoctype="missing-doctype",o.misplacedDoctype="misplaced-doctype",o.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",o.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",o.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",o.openElementsLeftAfterEof="open-elements-left-after-eof",o.abandonedHeadElementChild="abandoned-head-element-child",o.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",o.nestedNoscriptInHead="nested-noscript-in-head",o.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text";class tq{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e){let{line:t,col:r,offset:n}=this;return{code:e,startLine:t,endLine:t,startCol:r,endCol:r,startOffset:n,endOffset:n}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){let t=this.html.charCodeAt(this.pos+1);if(t>=56320&&t<=57343)return this.pos++,this._addGap(),(e-55296)*1024+9216+t}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,y.EOF;return this._err(k.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let t=0;t<e.length;t++)if((32|this.html.charCodeAt(this.pos+t))!==e.charCodeAt(t))return!1;return!0}peek(e){let t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,y.EOF;let r=this.html.charCodeAt(t);return r===y.CARRIAGE_RETURN?y.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,y.EOF;let e=this.html.charCodeAt(this.pos);return e===y.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,y.LINE_FEED):e===y.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,t$(e)&&(e=this._processSurrogate(e)),null===this.handler.onParseError||e>31&&e<127||e===y.LINE_FEED||e===y.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){tj(e)?this._err(k.controlCharacterInInputStream):tY(e)&&this._err(k.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}function tW(e,t){for(let r=e.attrs.length-1;r>=0;r--)if(e.attrs[r].name===t)return e.attrs[r].value;return null}(l=S=S||(S={}))[l.CHARACTER=0]="CHARACTER",l[l.NULL_CHARACTER=1]="NULL_CHARACTER",l[l.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",l[l.START_TAG=3]="START_TAG",l[l.END_TAG=4]="END_TAG",l[l.COMMENT=5]="COMMENT",l[l.DOCTYPE=6]="DOCTYPE",l[l.EOF=7]="EOF",l[l.HIBERNATION=8]="HIBERNATION",e.s(["TokenType",()=>S,"getTokenAttr",()=>tW],698931);let tz=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;\ud835\udd04ravepha;acr;d;gpon;f;\ud835\udd38plyFunction;ingcsr;\ud835\udc9cign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;\ud835\udd05pf;\ud835\udd39eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;\ud835\udc9ep;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;\ud835\udd07afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;\ud835\udd3b;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;\ud835\udc9frok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;\ud835\udd08raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;\ud835\udd3csilon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;\ud835\udd09lled\0\0mallSquare;erySmallSquare;\0\0\0f;\ud835\udd3dAll;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;\ud835\udd0a;pf;\ud835\udd3eeaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;\ud835\udca2;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;\ud835\udd40a;cr;ilde;\0cy;lcfosuiyrc;;r;\ud835\udd0dpf;\ud835\udd41\0r;\ud835\udca5rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;\ud835\udd0epf;\ud835\udd42cr;\ud835\udca6JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;\ud835\udd0f;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;\ud835\udd43erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;\ud835\udd10nusPlus;pf;\ud835\udd44c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;\ud835\udd11Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;\ud835\udca9ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;\ud835\udd12raveaeicr;ga;cron;pf;\ud835\udd46enCurlyDQoubleQuote;uote;;clr;\ud835\udcaaashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;\ud835\udd13i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;\ud835\udcab;UfosOT"r;\ud835\udd14pf;cr;\ud835\udcacBEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;\ud835\udd16ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\ud835\udd4a\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;\ud835\udcaear;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;\ud835\udd17ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;\ud835\udd4bipleDot;ctr;\ud835\udcafrok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;\ud835\udd18raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;\ud835\udd4cADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;\ud835\udcb0ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;\ud835\udd19pf;\ud835\udd4dcr;\ud835\udcb1dash;cefosirc;dge;r;\ud835\udd1apf;\ud835\udd4ecr;\ud835\udcb2fiosr;\ud835\udd1b;pf;\ud835\udd4fcr;\ud835\udcb3AIUacfosucy;cy;cy;cuteiyrc;;r;\ud835\udd1cpf;\ud835\udd50cr;\ud835\udcb4ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\ud835\udcb5\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;\ud835\udd1eraveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;\ud835\udd52;Eaeiop;cir;;d;s;rox;eingctyr;\ud835\udcb6;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;\ud835\udd1fgcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;\ud835\udd53;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;\ud835\udcb7mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;\ud835\udd20ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;\ud835\udd54o;sr;aorr;ss;cur;\ud835\udcb8bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;\ud835\udd21arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;\ud835\udd55;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;\ud835\udcb9;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;\ud835\udd22;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;\ud835\udd56alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;\ud835\udd23lig;lig;fjaltt;ig;ns;of;\0f;\ud835\udd57ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;\ud835\udcbbEabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;\ud835\udd24;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;\ud835\udd58cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;\ud835\udd25sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;\ud835\udd59bar;cltr;\ud835\udcbdasrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;\ud835\udd26rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;\ud835\udd5aa;uestcir;\ud835\udcben;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;\ud835\udd27ath;pf;\ud835\udd5b\0r;\ud835\udcbfrcy;kcy;acfghjosppa;v;eydil;;r;\ud835\udd28reen;cy;cy;pf;\ud835\udd5ccr;\ud835\udcc0ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;\ud835\udd29;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;\ud835\udd5dus;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;\ud835\udcc1m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;\ud835\udd2ao;cdnro;acdsir;otus;bd;u;p;dpels;f;\ud835\udd5ectr;\ud835\udcc2pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;\ud835\udd2bEest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;\ud835\udd5f;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;\ud835\udcc3ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\ud835\udd2c\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;\ud835\udd60aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;\ud835\udd2dimo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;\ud835\udd61nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;\ud835\udcc5;ncsp;fiopsur;\ud835\udd2epf;\ud835\udd62rime;cr;\ud835\udcc6aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;\ud835\udd2faordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;\ud835\udd63us;imes;apr;gt;olint;arachqquo;r;\ud835\udcc7buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;o\ud835\udd30acoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;\ud835\udd64adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;\ud835\udcc8tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;\ud835\udd31eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;o\ud835\udd65rk;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;\ud835\udcc9;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;\ud835\udd32raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;\ud835\udd66adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;\ud835\udccadirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;\ud835\udd33trsubppf;\ud835\udd67rotrcur;\ud835\udccbbpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;\ud835\udd34pf;\ud835\udd68;eatcr;\ud835\udccc\0\0\0\0\0\0\0trr;\ud835\udd35Aarr;Aarrais;dptfl;\ud835\udd69imAarrcqr;\ud835\udccdptracefiosucuyte;iyrc;;nr;\ud835\udd36cy;pf;\ud835\udd6acr;\ud835\udccecmy;lacdefhioswcute;ayron;;ot;ettra;r;\ud835\udd37cy;grarr;pf;\ud835\udd6bcr;\ud835\udccfjn;j;'.split("").map(e=>e.charCodeAt(0))),tV=new Uint16Array("aglq	\x15\x18\x1b\x0f\0\0\x12p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0))),tQ=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),tX=null!=(I=String.fromCodePoint)?I:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)};function tK(e){return e>=R.ZERO&&e<=R.NINE}(c=R||(R={}))[c.NUM=35]="NUM",c[c.SEMI=59]="SEMI",c[c.EQUALS=61]="EQUALS",c[c.ZERO=48]="ZERO",c[c.NINE=57]="NINE",c[c.LOWER_A=97]="LOWER_A",c[c.LOWER_F=102]="LOWER_F",c[c.LOWER_X=120]="LOWER_X",c[c.LOWER_Z=122]="LOWER_Z",c[c.UPPER_A=65]="UPPER_A",c[c.UPPER_F=70]="UPPER_F",c[c.UPPER_Z=90]="UPPER_Z",(u=L||(L={}))[u.VALUE_LENGTH=49152]="VALUE_LENGTH",u[u.BRANCH_LENGTH=16256]="BRANCH_LENGTH",u[u.JUMP_TABLE=127]="JUMP_TABLE",(d=D||(D={}))[d.EntityStart=0]="EntityStart",d[d.NumericStart=1]="NumericStart",d[d.NumericDecimal=2]="NumericDecimal",d[d.NumericHex=3]="NumericHex",d[d.NamedEntity=4]="NamedEntity",(h=O||(O={}))[h.Legacy=0]="Legacy",h[h.Strict=1]="Strict",h[h.Attribute=2]="Attribute";class tJ{constructor(e,t,r){this.decodeTree=e,this.emitCodePoint=t,this.errors=r,this.state=D.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=O.Strict}startEntity(e){this.decodeMode=e,this.state=D.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case D.EntityStart:if(e.charCodeAt(t)===R.NUM)return this.state=D.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1);return this.state=D.NamedEntity,this.stateNamedEntity(e,t);case D.NumericStart:return this.stateNumericStart(e,t);case D.NumericDecimal:return this.stateNumericDecimal(e,t);case D.NumericHex:return this.stateNumericHex(e,t);case D.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===R.LOWER_X?(this.state=D.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=D.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,r,n){if(t!==r){let a=r-t;this.result=this.result*Math.pow(n,a)+parseInt(e.substr(t,a),n),this.consumed+=a}}stateNumericHex(e,t){let r=t;for(;t<e.length;){var n;let a=e.charCodeAt(t);if(!tK(a)&&(!((n=a)>=R.UPPER_A)||!(n<=R.UPPER_F))&&(!(n>=R.LOWER_A)||!(n<=R.LOWER_F)))return this.addToNumericResult(e,r,t,16),this.emitNumericEntity(a,3);t+=1}return this.addToNumericResult(e,r,t,16),-1}stateNumericDecimal(e,t){let r=t;for(;t<e.length;){let n=e.charCodeAt(t);if(!tK(n))return this.addToNumericResult(e,r,t,10),this.emitNumericEntity(n,2);t+=1}return this.addToNumericResult(e,r,t,10),-1}emitNumericEntity(e,t){var r,n,a;if(this.consumed<=t)return null==(r=this.errors)||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===R.SEMI)this.consumed+=1;else if(this.decodeMode===O.Strict)return 0;return this.emitCodePoint((n=this.result)>=55296&&n<=57343||n>1114111?65533:null!=(a=tQ.get(n))?a:n,this.consumed),this.errors&&(e!==R.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){let{decodeTree:r}=this,n=r[this.treeIndex],a=(n&L.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){let s=e.charCodeAt(t);if(this.treeIndex=t0(r,n,this.treeIndex+Math.max(1,a),s),this.treeIndex<0)return 0===this.result||this.decodeMode===O.Attribute&&(0===a||function(e){var t;return e===R.EQUALS||(t=e)>=R.UPPER_A&&t<=R.UPPER_Z||t>=R.LOWER_A&&t<=R.LOWER_Z||tK(t)}(s))?0:this.emitNotTerminatedNamedEntity();if(0!=(a=((n=r[this.treeIndex])&L.VALUE_LENGTH)>>14)){if(s===R.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==O.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return -1}emitNotTerminatedNamedEntity(){var e;let{result:t,decodeTree:r}=this,n=(r[t]&L.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,n,this.consumed),null==(e=this.errors)||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,r){let{decodeTree:n}=this;return this.emitCodePoint(1===t?n[e]&~L.VALUE_LENGTH:n[e+1],r),3===t&&this.emitCodePoint(n[e+2],r),r}end(){var e;switch(this.state){case D.NamedEntity:return 0!==this.result&&(this.decodeMode!==O.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case D.NumericDecimal:return this.emitNumericEntity(0,2);case D.NumericHex:return this.emitNumericEntity(0,3);case D.NumericStart:return null==(e=this.errors)||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case D.EntityStart:return 0}}}function tZ(e){let t="",r=new tJ(e,e=>t+=tX(e));return function(e,n){let a=0,s=0;for(;(s=e.indexOf("&",s))>=0;){t+=e.slice(a,s),r.startEntity(n);let i=r.write(e,s+1);if(i<0){a=s+r.end();break}a=s+i,s=0===i?a+1:a}let i=t+e.slice(a);return t="",i}}function t0(e,t,r,n){let a=(t&L.BRANCH_LENGTH)>>7,s=t&L.JUMP_TABLE;if(0===a)return 0!==s&&n===s?r:-1;if(s){let t=n-s;return t<0||t>=a?-1:e[r+t]-1}let i=r,o=i+a-1;for(;i<=o;){let t=i+o>>>1,r=e[t];if(r<n)i=t+1;else{if(!(r>n))return e[t+a];o=t-1}}return -1}tZ(tz),tZ(tV),(p=w=w||(w={})).HTML="http://www.w3.org/1999/xhtml",p.MATHML="http://www.w3.org/1998/Math/MathML",p.SVG="http://www.w3.org/2000/svg",p.XLINK="http://www.w3.org/1999/xlink",p.XML="http://www.w3.org/XML/1998/namespace",p.XMLNS="http://www.w3.org/2000/xmlns/",(m=M=M||(M={})).TYPE="type",m.ACTION="action",m.ENCODING="encoding",m.PROMPT="prompt",m.NAME="name",m.COLOR="color",m.FACE="face",m.SIZE="size",(f=x=x||(x={})).NO_QUIRKS="no-quirks",f.QUIRKS="quirks",f.LIMITED_QUIRKS="limited-quirks",(g=P=P||(P={})).A="a",g.ADDRESS="address",g.ANNOTATION_XML="annotation-xml",g.APPLET="applet",g.AREA="area",g.ARTICLE="article",g.ASIDE="aside",g.B="b",g.BASE="base",g.BASEFONT="basefont",g.BGSOUND="bgsound",g.BIG="big",g.BLOCKQUOTE="blockquote",g.BODY="body",g.BR="br",g.BUTTON="button",g.CAPTION="caption",g.CENTER="center",g.CODE="code",g.COL="col",g.COLGROUP="colgroup",g.DD="dd",g.DESC="desc",g.DETAILS="details",g.DIALOG="dialog",g.DIR="dir",g.DIV="div",g.DL="dl",g.DT="dt",g.EM="em",g.EMBED="embed",g.FIELDSET="fieldset",g.FIGCAPTION="figcaption",g.FIGURE="figure",g.FONT="font",g.FOOTER="footer",g.FOREIGN_OBJECT="foreignObject",g.FORM="form",g.FRAME="frame",g.FRAMESET="frameset",g.H1="h1",g.H2="h2",g.H3="h3",g.H4="h4",g.H5="h5",g.H6="h6",g.HEAD="head",g.HEADER="header",g.HGROUP="hgroup",g.HR="hr",g.HTML="html",g.I="i",g.IMG="img",g.IMAGE="image",g.INPUT="input",g.IFRAME="iframe",g.KEYGEN="keygen",g.LABEL="label",g.LI="li",g.LINK="link",g.LISTING="listing",g.MAIN="main",g.MALIGNMARK="malignmark",g.MARQUEE="marquee",g.MATH="math",g.MENU="menu",g.META="meta",g.MGLYPH="mglyph",g.MI="mi",g.MO="mo",g.MN="mn",g.MS="ms",g.MTEXT="mtext",g.NAV="nav",g.NOBR="nobr",g.NOFRAMES="noframes",g.NOEMBED="noembed",g.NOSCRIPT="noscript",g.OBJECT="object",g.OL="ol",g.OPTGROUP="optgroup",g.OPTION="option",g.P="p",g.PARAM="param",g.PLAINTEXT="plaintext",g.PRE="pre",g.RB="rb",g.RP="rp",g.RT="rt",g.RTC="rtc",g.RUBY="ruby",g.S="s",g.SCRIPT="script",g.SECTION="section",g.SELECT="select",g.SOURCE="source",g.SMALL="small",g.SPAN="span",g.STRIKE="strike",g.STRONG="strong",g.STYLE="style",g.SUB="sub",g.SUMMARY="summary",g.SUP="sup",g.TABLE="table",g.TBODY="tbody",g.TEMPLATE="template",g.TEXTAREA="textarea",g.TFOOT="tfoot",g.TD="td",g.TH="th",g.THEAD="thead",g.TITLE="title",g.TR="tr",g.TRACK="track",g.TT="tt",g.U="u",g.UL="ul",g.SVG="svg",g.VAR="var",g.WBR="wbr",g.XMP="xmp",(E=v=v||(v={}))[E.UNKNOWN=0]="UNKNOWN",E[E.A=1]="A",E[E.ADDRESS=2]="ADDRESS",E[E.ANNOTATION_XML=3]="ANNOTATION_XML",E[E.APPLET=4]="APPLET",E[E.AREA=5]="AREA",E[E.ARTICLE=6]="ARTICLE",E[E.ASIDE=7]="ASIDE",E[E.B=8]="B",E[E.BASE=9]="BASE",E[E.BASEFONT=10]="BASEFONT",E[E.BGSOUND=11]="BGSOUND",E[E.BIG=12]="BIG",E[E.BLOCKQUOTE=13]="BLOCKQUOTE",E[E.BODY=14]="BODY",E[E.BR=15]="BR",E[E.BUTTON=16]="BUTTON",E[E.CAPTION=17]="CAPTION",E[E.CENTER=18]="CENTER",E[E.CODE=19]="CODE",E[E.COL=20]="COL",E[E.COLGROUP=21]="COLGROUP",E[E.DD=22]="DD",E[E.DESC=23]="DESC",E[E.DETAILS=24]="DETAILS",E[E.DIALOG=25]="DIALOG",E[E.DIR=26]="DIR",E[E.DIV=27]="DIV",E[E.DL=28]="DL",E[E.DT=29]="DT",E[E.EM=30]="EM",E[E.EMBED=31]="EMBED",E[E.FIELDSET=32]="FIELDSET",E[E.FIGCAPTION=33]="FIGCAPTION",E[E.FIGURE=34]="FIGURE",E[E.FONT=35]="FONT",E[E.FOOTER=36]="FOOTER",E[E.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",E[E.FORM=38]="FORM",E[E.FRAME=39]="FRAME",E[E.FRAMESET=40]="FRAMESET",E[E.H1=41]="H1",E[E.H2=42]="H2",E[E.H3=43]="H3",E[E.H4=44]="H4",E[E.H5=45]="H5",E[E.H6=46]="H6",E[E.HEAD=47]="HEAD",E[E.HEADER=48]="HEADER",E[E.HGROUP=49]="HGROUP",E[E.HR=50]="HR",E[E.HTML=51]="HTML",E[E.I=52]="I",E[E.IMG=53]="IMG",E[E.IMAGE=54]="IMAGE",E[E.INPUT=55]="INPUT",E[E.IFRAME=56]="IFRAME",E[E.KEYGEN=57]="KEYGEN",E[E.LABEL=58]="LABEL",E[E.LI=59]="LI",E[E.LINK=60]="LINK",E[E.LISTING=61]="LISTING",E[E.MAIN=62]="MAIN",E[E.MALIGNMARK=63]="MALIGNMARK",E[E.MARQUEE=64]="MARQUEE",E[E.MATH=65]="MATH",E[E.MENU=66]="MENU",E[E.META=67]="META",E[E.MGLYPH=68]="MGLYPH",E[E.MI=69]="MI",E[E.MO=70]="MO",E[E.MN=71]="MN",E[E.MS=72]="MS",E[E.MTEXT=73]="MTEXT",E[E.NAV=74]="NAV",E[E.NOBR=75]="NOBR",E[E.NOFRAMES=76]="NOFRAMES",E[E.NOEMBED=77]="NOEMBED",E[E.NOSCRIPT=78]="NOSCRIPT",E[E.OBJECT=79]="OBJECT",E[E.OL=80]="OL",E[E.OPTGROUP=81]="OPTGROUP",E[E.OPTION=82]="OPTION",E[E.P=83]="P",E[E.PARAM=84]="PARAM",E[E.PLAINTEXT=85]="PLAINTEXT",E[E.PRE=86]="PRE",E[E.RB=87]="RB",E[E.RP=88]="RP",E[E.RT=89]="RT",E[E.RTC=90]="RTC",E[E.RUBY=91]="RUBY",E[E.S=92]="S",E[E.SCRIPT=93]="SCRIPT",E[E.SECTION=94]="SECTION",E[E.SELECT=95]="SELECT",E[E.SOURCE=96]="SOURCE",E[E.SMALL=97]="SMALL",E[E.SPAN=98]="SPAN",E[E.STRIKE=99]="STRIKE",E[E.STRONG=100]="STRONG",E[E.STYLE=101]="STYLE",E[E.SUB=102]="SUB",E[E.SUMMARY=103]="SUMMARY",E[E.SUP=104]="SUP",E[E.TABLE=105]="TABLE",E[E.TBODY=106]="TBODY",E[E.TEMPLATE=107]="TEMPLATE",E[E.TEXTAREA=108]="TEXTAREA",E[E.TFOOT=109]="TFOOT",E[E.TD=110]="TD",E[E.TH=111]="TH",E[E.THEAD=112]="THEAD",E[E.TITLE=113]="TITLE",E[E.TR=114]="TR",E[E.TRACK=115]="TRACK",E[E.TT=116]="TT",E[E.U=117]="U",E[E.UL=118]="UL",E[E.SVG=119]="SVG",E[E.VAR=120]="VAR",E[E.WBR=121]="WBR",E[E.XMP=122]="XMP";let t1=new Map([[P.A,v.A],[P.ADDRESS,v.ADDRESS],[P.ANNOTATION_XML,v.ANNOTATION_XML],[P.APPLET,v.APPLET],[P.AREA,v.AREA],[P.ARTICLE,v.ARTICLE],[P.ASIDE,v.ASIDE],[P.B,v.B],[P.BASE,v.BASE],[P.BASEFONT,v.BASEFONT],[P.BGSOUND,v.BGSOUND],[P.BIG,v.BIG],[P.BLOCKQUOTE,v.BLOCKQUOTE],[P.BODY,v.BODY],[P.BR,v.BR],[P.BUTTON,v.BUTTON],[P.CAPTION,v.CAPTION],[P.CENTER,v.CENTER],[P.CODE,v.CODE],[P.COL,v.COL],[P.COLGROUP,v.COLGROUP],[P.DD,v.DD],[P.DESC,v.DESC],[P.DETAILS,v.DETAILS],[P.DIALOG,v.DIALOG],[P.DIR,v.DIR],[P.DIV,v.DIV],[P.DL,v.DL],[P.DT,v.DT],[P.EM,v.EM],[P.EMBED,v.EMBED],[P.FIELDSET,v.FIELDSET],[P.FIGCAPTION,v.FIGCAPTION],[P.FIGURE,v.FIGURE],[P.FONT,v.FONT],[P.FOOTER,v.FOOTER],[P.FOREIGN_OBJECT,v.FOREIGN_OBJECT],[P.FORM,v.FORM],[P.FRAME,v.FRAME],[P.FRAMESET,v.FRAMESET],[P.H1,v.H1],[P.H2,v.H2],[P.H3,v.H3],[P.H4,v.H4],[P.H5,v.H5],[P.H6,v.H6],[P.HEAD,v.HEAD],[P.HEADER,v.HEADER],[P.HGROUP,v.HGROUP],[P.HR,v.HR],[P.HTML,v.HTML],[P.I,v.I],[P.IMG,v.IMG],[P.IMAGE,v.IMAGE],[P.INPUT,v.INPUT],[P.IFRAME,v.IFRAME],[P.KEYGEN,v.KEYGEN],[P.LABEL,v.LABEL],[P.LI,v.LI],[P.LINK,v.LINK],[P.LISTING,v.LISTING],[P.MAIN,v.MAIN],[P.MALIGNMARK,v.MALIGNMARK],[P.MARQUEE,v.MARQUEE],[P.MATH,v.MATH],[P.MENU,v.MENU],[P.META,v.META],[P.MGLYPH,v.MGLYPH],[P.MI,v.MI],[P.MO,v.MO],[P.MN,v.MN],[P.MS,v.MS],[P.MTEXT,v.MTEXT],[P.NAV,v.NAV],[P.NOBR,v.NOBR],[P.NOFRAMES,v.NOFRAMES],[P.NOEMBED,v.NOEMBED],[P.NOSCRIPT,v.NOSCRIPT],[P.OBJECT,v.OBJECT],[P.OL,v.OL],[P.OPTGROUP,v.OPTGROUP],[P.OPTION,v.OPTION],[P.P,v.P],[P.PARAM,v.PARAM],[P.PLAINTEXT,v.PLAINTEXT],[P.PRE,v.PRE],[P.RB,v.RB],[P.RP,v.RP],[P.RT,v.RT],[P.RTC,v.RTC],[P.RUBY,v.RUBY],[P.S,v.S],[P.SCRIPT,v.SCRIPT],[P.SECTION,v.SECTION],[P.SELECT,v.SELECT],[P.SOURCE,v.SOURCE],[P.SMALL,v.SMALL],[P.SPAN,v.SPAN],[P.STRIKE,v.STRIKE],[P.STRONG,v.STRONG],[P.STYLE,v.STYLE],[P.SUB,v.SUB],[P.SUMMARY,v.SUMMARY],[P.SUP,v.SUP],[P.TABLE,v.TABLE],[P.TBODY,v.TBODY],[P.TEMPLATE,v.TEMPLATE],[P.TEXTAREA,v.TEXTAREA],[P.TFOOT,v.TFOOT],[P.TD,v.TD],[P.TH,v.TH],[P.THEAD,v.THEAD],[P.TITLE,v.TITLE],[P.TR,v.TR],[P.TRACK,v.TRACK],[P.TT,v.TT],[P.U,v.U],[P.UL,v.UL],[P.SVG,v.SVG],[P.VAR,v.VAR],[P.WBR,v.WBR],[P.XMP,v.XMP]]);function t2(e){var t;return null!=(t=t1.get(e))?t:v.UNKNOWN}let t3=v,t5={[w.HTML]:new Set([t3.ADDRESS,t3.APPLET,t3.AREA,t3.ARTICLE,t3.ASIDE,t3.BASE,t3.BASEFONT,t3.BGSOUND,t3.BLOCKQUOTE,t3.BODY,t3.BR,t3.BUTTON,t3.CAPTION,t3.CENTER,t3.COL,t3.COLGROUP,t3.DD,t3.DETAILS,t3.DIR,t3.DIV,t3.DL,t3.DT,t3.EMBED,t3.FIELDSET,t3.FIGCAPTION,t3.FIGURE,t3.FOOTER,t3.FORM,t3.FRAME,t3.FRAMESET,t3.H1,t3.H2,t3.H3,t3.H4,t3.H5,t3.H6,t3.HEAD,t3.HEADER,t3.HGROUP,t3.HR,t3.HTML,t3.IFRAME,t3.IMG,t3.INPUT,t3.LI,t3.LINK,t3.LISTING,t3.MAIN,t3.MARQUEE,t3.MENU,t3.META,t3.NAV,t3.NOEMBED,t3.NOFRAMES,t3.NOSCRIPT,t3.OBJECT,t3.OL,t3.P,t3.PARAM,t3.PLAINTEXT,t3.PRE,t3.SCRIPT,t3.SECTION,t3.SELECT,t3.SOURCE,t3.STYLE,t3.SUMMARY,t3.TABLE,t3.TBODY,t3.TD,t3.TEMPLATE,t3.TEXTAREA,t3.TFOOT,t3.TH,t3.THEAD,t3.TITLE,t3.TR,t3.TRACK,t3.UL,t3.WBR,t3.XMP]),[w.MATHML]:new Set([t3.MI,t3.MO,t3.MN,t3.MS,t3.MTEXT,t3.ANNOTATION_XML]),[w.SVG]:new Set([t3.TITLE,t3.FOREIGN_OBJECT,t3.DESC]),[w.XLINK]:new Set,[w.XML]:new Set,[w.XMLNS]:new Set};function t8(e){return e===t3.H1||e===t3.H2||e===t3.H3||e===t3.H4||e===t3.H5||e===t3.H6}let t4=new Set([P.STYLE,P.SCRIPT,P.XMP,P.IFRAME,P.NOEMBED,P.NOFRAMES,P.PLAINTEXT]);function t6(e,t){return t4.has(e)||t&&e===P.NOSCRIPT}e.s(["ATTRS",()=>M,"DOCUMENT_MODE",()=>x,"NS",()=>w,"SPECIAL_ELEMENTS",0,t5,"TAG_ID",()=>v,"TAG_NAMES",()=>P,"getTagID",()=>t2,"hasUnescapedText",()=>t6,"isNumberedHeader",()=>t8],524527);let t9=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);(T=B||(B={}))[T.DATA=0]="DATA",T[T.RCDATA=1]="RCDATA",T[T.RAWTEXT=2]="RAWTEXT",T[T.SCRIPT_DATA=3]="SCRIPT_DATA",T[T.PLAINTEXT=4]="PLAINTEXT",T[T.TAG_OPEN=5]="TAG_OPEN",T[T.END_TAG_OPEN=6]="END_TAG_OPEN",T[T.TAG_NAME=7]="TAG_NAME",T[T.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",T[T.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",T[T.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",T[T.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",T[T.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",T[T.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",T[T.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",T[T.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",T[T.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",T[T.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",T[T.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",T[T.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",T[T.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",T[T.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",T[T.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",T[T.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",T[T.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",T[T.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",T[T.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",T[T.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",T[T.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",T[T.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",T[T.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",T[T.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",T[T.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",T[T.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",T[T.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",T[T.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",T[T.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",T[T.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",T[T.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",T[T.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",T[T.BOGUS_COMMENT=40]="BOGUS_COMMENT",T[T.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",T[T.COMMENT_START=42]="COMMENT_START",T[T.COMMENT_START_DASH=43]="COMMENT_START_DASH",T[T.COMMENT=44]="COMMENT",T[T.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",T[T.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",T[T.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",T[T.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",T[T.COMMENT_END_DASH=49]="COMMENT_END_DASH",T[T.COMMENT_END=50]="COMMENT_END",T[T.COMMENT_END_BANG=51]="COMMENT_END_BANG",T[T.DOCTYPE=52]="DOCTYPE",T[T.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",T[T.DOCTYPE_NAME=54]="DOCTYPE_NAME",T[T.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",T[T.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",T[T.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",T[T.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",T[T.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",T[T.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",T[T.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",T[T.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",T[T.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",T[T.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",T[T.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",T[T.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",T[T.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",T[T.CDATA_SECTION=68]="CDATA_SECTION",T[T.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",T[T.CDATA_SECTION_END=70]="CDATA_SECTION_END",T[T.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",T[T.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",T[T.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",T[T.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",T[T.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",T[T.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",T[T.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",T[T.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END";let t7={DATA:B.DATA,RCDATA:B.RCDATA,RAWTEXT:B.RAWTEXT,SCRIPT_DATA:B.SCRIPT_DATA,PLAINTEXT:B.PLAINTEXT,CDATA_SECTION:B.CDATA_SECTION};function re(e){return e>=y.DIGIT_0&&e<=y.DIGIT_9}function rt(e){return e>=y.LATIN_CAPITAL_A&&e<=y.LATIN_CAPITAL_Z}function rr(e){return e>=y.LATIN_SMALL_A&&e<=y.LATIN_SMALL_Z||rt(e)}function rn(e){return rr(e)||re(e)}function ra(e){return e>=y.LATIN_CAPITAL_A&&e<=y.LATIN_CAPITAL_F}function rs(e){return e>=y.LATIN_SMALL_A&&e<=y.LATIN_SMALL_F}function ri(e){return e===y.SPACE||e===y.LINE_FEED||e===y.TABULATION||e===y.FORM_FEED}function ro(e){return ri(e)||e===y.SOLIDUS||e===y.GREATER_THAN_SIGN}class rl{constructor(e,t){this.options=e,this.handler=t,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=B.DATA,this.returnState=B.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new tq(t),this.currentLocation=this.getCurrentLocation(-1)}_err(e){var t,r;null==(r=(t=this.handler).onParseError)||r.call(t,this.preprocessor.getError(e))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;let e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||null==e||e())}write(e,t,r){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||null==r||r()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(e){this.consumedAfterSnapshot-=e,this.preprocessor.retreat(e)}_reconsumeInState(e,t){this.state=e,this._callState(t)}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,t){return!!this.preprocessor.startsWith(e,t)&&(this._advanceBy(e.length-1),!0)}_createStartTagToken(){this.currentToken={type:S.START_TAG,tagName:"",tagID:v.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:S.END_TAG,tagName:"",tagID:v.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:S.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:S.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,t;let r=this.currentToken;null===tW(r,this.currentAttr.name)?(r.attrs.push(this.currentAttr),r.location&&this.currentLocation&&((null!=(e=(t=r.location).attrs)?e:t.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue())):this._err(k.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){let e=this.currentToken;this.prepareToken(e),e.tagID=t2(e.tagName),e.type===S.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(k.endTagWithAttributes),e.selfClosing&&this._err(k.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case S.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case S.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case S.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){let e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:S.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,t){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==e)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=t;return}this._createCharacterToken(e,t)}_emitCodePoint(e){let t=ri(e)?S.WHITESPACE_CHARACTER:e===y.NULL?S.NULL_CHARACTER:S.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(S.CHARACTER,e)}_matchNamedCharacterReference(e){let t=null,r=0,n=!1;for(let s=0,i=tz[0];s>=0&&!((s=t0(tz,i,s+1,e))<0);e=this._consume()){r+=1;let o=(i=tz[s])&L.VALUE_LENGTH;if(o){var a;let i=(o>>14)-1;if(e!==y.SEMICOLON&&this._isCharacterReferenceInAttribute()&&((a=this.preprocessor.peek(1))===y.EQUALS_SIGN||rn(a))?(t=[y.AMPERSAND],s+=i):(t=0===i?[tz[s]&~L.VALUE_LENGTH]:1===i?[tz[++s]]:[tz[++s],tz[++s]],r=0,n=e!==y.SEMICOLON),0===i){this._consume();break}}}return this._unconsume(r),n&&!this.preprocessor.endOfChunkHit&&this._err(k.missingSemicolonAfterCharacterReference),this._unconsume(1),t}_isCharacterReferenceInAttribute(){return this.returnState===B.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===B.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===B.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case B.DATA:this._stateData(e);break;case B.RCDATA:this._stateRcdata(e);break;case B.RAWTEXT:this._stateRawtext(e);break;case B.SCRIPT_DATA:this._stateScriptData(e);break;case B.PLAINTEXT:this._statePlaintext(e);break;case B.TAG_OPEN:this._stateTagOpen(e);break;case B.END_TAG_OPEN:this._stateEndTagOpen(e);break;case B.TAG_NAME:this._stateTagName(e);break;case B.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case B.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case B.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case B.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case B.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case B.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case B.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case B.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case B.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case B.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case B.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case B.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case B.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case B.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case B.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case B.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case B.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case B.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case B.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case B.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case B.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case B.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case B.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case B.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case B.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case B.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case B.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case B.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case B.BOGUS_COMMENT:this._stateBogusComment(e);break;case B.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case B.COMMENT_START:this._stateCommentStart(e);break;case B.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case B.COMMENT:this._stateComment(e);break;case B.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case B.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case B.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case B.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case B.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case B.COMMENT_END:this._stateCommentEnd(e);break;case B.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case B.DOCTYPE:this._stateDoctype(e);break;case B.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case B.DOCTYPE_NAME:this._stateDoctypeName(e);break;case B.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case B.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case B.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case B.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case B.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case B.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case B.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case B.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case B.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case B.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case B.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case B.CDATA_SECTION:this._stateCdataSection(e);break;case B.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case B.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case B.CHARACTER_REFERENCE:this._stateCharacterReference(e);break;case B.NAMED_CHARACTER_REFERENCE:this._stateNamedCharacterReference(e);break;case B.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;case B.NUMERIC_CHARACTER_REFERENCE:this._stateNumericCharacterReference(e);break;case B.HEXADEMICAL_CHARACTER_REFERENCE_START:this._stateHexademicalCharacterReferenceStart(e);break;case B.HEXADEMICAL_CHARACTER_REFERENCE:this._stateHexademicalCharacterReference(e);break;case B.DECIMAL_CHARACTER_REFERENCE:this._stateDecimalCharacterReference(e);break;case B.NUMERIC_CHARACTER_REFERENCE_END:this._stateNumericCharacterReferenceEnd(e);break;default:throw Error("Unknown state")}}_stateData(e){switch(e){case y.LESS_THAN_SIGN:this.state=B.TAG_OPEN;break;case y.AMPERSAND:this.returnState=B.DATA,this.state=B.CHARACTER_REFERENCE;break;case y.NULL:this._err(k.unexpectedNullCharacter),this._emitCodePoint(e);break;case y.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case y.AMPERSAND:this.returnState=B.RCDATA,this.state=B.CHARACTER_REFERENCE;break;case y.LESS_THAN_SIGN:this.state=B.RCDATA_LESS_THAN_SIGN;break;case y.NULL:this._err(k.unexpectedNullCharacter),this._emitChars("");break;case y.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case y.LESS_THAN_SIGN:this.state=B.RAWTEXT_LESS_THAN_SIGN;break;case y.NULL:this._err(k.unexpectedNullCharacter),this._emitChars("");break;case y.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case y.LESS_THAN_SIGN:this.state=B.SCRIPT_DATA_LESS_THAN_SIGN;break;case y.NULL:this._err(k.unexpectedNullCharacter),this._emitChars("");break;case y.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case y.NULL:this._err(k.unexpectedNullCharacter),this._emitChars("");break;case y.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateTagOpen(e){if(rr(e))this._createStartTagToken(),this.state=B.TAG_NAME,this._stateTagName(e);else switch(e){case y.EXCLAMATION_MARK:this.state=B.MARKUP_DECLARATION_OPEN;break;case y.SOLIDUS:this.state=B.END_TAG_OPEN;break;case y.QUESTION_MARK:this._err(k.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=B.BOGUS_COMMENT,this._stateBogusComment(e);break;case y.EOF:this._err(k.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(k.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=B.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(rr(e))this._createEndTagToken(),this.state=B.TAG_NAME,this._stateTagName(e);else switch(e){case y.GREATER_THAN_SIGN:this._err(k.missingEndTagName),this.state=B.DATA;break;case y.EOF:this._err(k.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(k.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=B.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){let t=this.currentToken;switch(e){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:this.state=B.BEFORE_ATTRIBUTE_NAME;break;case y.SOLIDUS:this.state=B.SELF_CLOSING_START_TAG;break;case y.GREATER_THAN_SIGN:this.state=B.DATA,this.emitCurrentTagToken();break;case y.NULL:this._err(k.unexpectedNullCharacter),t.tagName+="";break;case y.EOF:this._err(k.eofInTag),this._emitEOFToken();break;default:t.tagName+=String.fromCodePoint(rt(e)?e+32:e)}}_stateRcdataLessThanSign(e){e===y.SOLIDUS?this.state=B.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=B.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){rr(e)?(this.state=B.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=B.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();switch(this._createEndTagToken(),this.currentToken.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=B.BEFORE_ATTRIBUTE_NAME,!1;case y.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=B.SELF_CLOSING_START_TAG,!1;case y.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=B.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=B.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===y.SOLIDUS?this.state=B.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=B.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){rr(e)?(this.state=B.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=B.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=B.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case y.SOLIDUS:this.state=B.SCRIPT_DATA_END_TAG_OPEN;break;case y.EXCLAMATION_MARK:this.state=B.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=B.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){rr(e)?(this.state=B.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=B.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=B.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===y.HYPHEN_MINUS?(this.state=B.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=B.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===y.HYPHEN_MINUS?(this.state=B.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=B.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case y.HYPHEN_MINUS:this.state=B.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case y.LESS_THAN_SIGN:this.state=B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case y.NULL:this._err(k.unexpectedNullCharacter),this._emitChars("");break;case y.EOF:this._err(k.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case y.HYPHEN_MINUS:this.state=B.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case y.LESS_THAN_SIGN:this.state=B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case y.NULL:this._err(k.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_ESCAPED,this._emitChars("");break;case y.EOF:this._err(k.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=B.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case y.HYPHEN_MINUS:this._emitChars("-");break;case y.LESS_THAN_SIGN:this.state=B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case y.GREATER_THAN_SIGN:this.state=B.SCRIPT_DATA,this._emitChars(">");break;case y.NULL:this._err(k.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_ESCAPED,this._emitChars("");break;case y.EOF:this._err(k.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=B.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===y.SOLIDUS?this.state=B.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:rr(e)?(this._emitChars("<"),this.state=B.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){rr(e)?(this.state=B.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(tG,!1)&&ro(this.preprocessor.peek(tG.length))){this._emitCodePoint(e);for(let e=0;e<tG.length;e++)this._emitCodePoint(this._consume());this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case y.HYPHEN_MINUS:this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case y.LESS_THAN_SIGN:this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case y.NULL:this._err(k.unexpectedNullCharacter),this._emitChars("");break;case y.EOF:this._err(k.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case y.HYPHEN_MINUS:this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case y.LESS_THAN_SIGN:this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case y.NULL:this._err(k.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars("");break;case y.EOF:this._err(k.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case y.HYPHEN_MINUS:this._emitChars("-");break;case y.LESS_THAN_SIGN:this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case y.GREATER_THAN_SIGN:this.state=B.SCRIPT_DATA,this._emitChars(">");break;case y.NULL:this._err(k.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars("");break;case y.EOF:this._err(k.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===y.SOLIDUS?(this.state=B.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(tG,!1)&&ro(this.preprocessor.peek(tG.length))){this._emitCodePoint(e);for(let e=0;e<tG.length;e++)this._emitCodePoint(this._consume());this.state=B.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:break;case y.SOLIDUS:case y.GREATER_THAN_SIGN:case y.EOF:this.state=B.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case y.EQUALS_SIGN:this._err(k.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=B.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=B.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:case y.SOLIDUS:case y.GREATER_THAN_SIGN:case y.EOF:this._leaveAttrName(),this.state=B.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case y.EQUALS_SIGN:this._leaveAttrName(),this.state=B.BEFORE_ATTRIBUTE_VALUE;break;case y.QUOTATION_MARK:case y.APOSTROPHE:case y.LESS_THAN_SIGN:this._err(k.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case y.NULL:this._err(k.unexpectedNullCharacter),this.currentAttr.name+="";break;default:this.currentAttr.name+=String.fromCodePoint(rt(e)?e+32:e)}}_stateAfterAttributeName(e){switch(e){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:break;case y.SOLIDUS:this.state=B.SELF_CLOSING_START_TAG;break;case y.EQUALS_SIGN:this.state=B.BEFORE_ATTRIBUTE_VALUE;break;case y.GREATER_THAN_SIGN:this.state=B.DATA,this.emitCurrentTagToken();break;case y.EOF:this._err(k.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=B.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:break;case y.QUOTATION_MARK:this.state=B.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case y.APOSTROPHE:this.state=B.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case y.GREATER_THAN_SIGN:this._err(k.missingAttributeValue),this.state=B.DATA,this.emitCurrentTagToken();break;default:this.state=B.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case y.QUOTATION_MARK:this.state=B.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case y.AMPERSAND:this.returnState=B.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=B.CHARACTER_REFERENCE;break;case y.NULL:this._err(k.unexpectedNullCharacter),this.currentAttr.value+="";break;case y.EOF:this._err(k.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case y.APOSTROPHE:this.state=B.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case y.AMPERSAND:this.returnState=B.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=B.CHARACTER_REFERENCE;break;case y.NULL:this._err(k.unexpectedNullCharacter),this.currentAttr.value+="";break;case y.EOF:this._err(k.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:this._leaveAttrValue(),this.state=B.BEFORE_ATTRIBUTE_NAME;break;case y.AMPERSAND:this.returnState=B.ATTRIBUTE_VALUE_UNQUOTED,this.state=B.CHARACTER_REFERENCE;break;case y.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=B.DATA,this.emitCurrentTagToken();break;case y.NULL:this._err(k.unexpectedNullCharacter),this.currentAttr.value+="";break;case y.QUOTATION_MARK:case y.APOSTROPHE:case y.LESS_THAN_SIGN:case y.EQUALS_SIGN:case y.GRAVE_ACCENT:this._err(k.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case y.EOF:this._err(k.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:this._leaveAttrValue(),this.state=B.BEFORE_ATTRIBUTE_NAME;break;case y.SOLIDUS:this._leaveAttrValue(),this.state=B.SELF_CLOSING_START_TAG;break;case y.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=B.DATA,this.emitCurrentTagToken();break;case y.EOF:this._err(k.eofInTag),this._emitEOFToken();break;default:this._err(k.missingWhitespaceBetweenAttributes),this.state=B.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case y.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=B.DATA,this.emitCurrentTagToken();break;case y.EOF:this._err(k.eofInTag),this._emitEOFToken();break;default:this._err(k.unexpectedSolidusInTag),this.state=B.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){let t=this.currentToken;switch(e){case y.GREATER_THAN_SIGN:this.state=B.DATA,this.emitCurrentComment(t);break;case y.EOF:this.emitCurrentComment(t),this._emitEOFToken();break;case y.NULL:this._err(k.unexpectedNullCharacter),t.data+="";break;default:t.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch("--",!0)?(this._createCommentToken(3),this.state=B.COMMENT_START):this._consumeSequenceIfMatch(tH,!1)?(this.currentLocation=this.getCurrentLocation(tH.length+1),this.state=B.DOCTYPE):this._consumeSequenceIfMatch(tU,!0)?this.inForeignNode?this.state=B.CDATA_SECTION:(this._err(k.cdataInHtmlContent),this._createCommentToken(tU.length+1),this.currentToken.data="[CDATA[",this.state=B.BOGUS_COMMENT):this._ensureHibernation()||(this._err(k.incorrectlyOpenedComment),this._createCommentToken(2),this.state=B.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case y.HYPHEN_MINUS:this.state=B.COMMENT_START_DASH;break;case y.GREATER_THAN_SIGN:{this._err(k.abruptClosingOfEmptyComment),this.state=B.DATA;let e=this.currentToken;this.emitCurrentComment(e);break}default:this.state=B.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){let t=this.currentToken;switch(e){case y.HYPHEN_MINUS:this.state=B.COMMENT_END;break;case y.GREATER_THAN_SIGN:this._err(k.abruptClosingOfEmptyComment),this.state=B.DATA,this.emitCurrentComment(t);break;case y.EOF:this._err(k.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=B.COMMENT,this._stateComment(e)}}_stateComment(e){let t=this.currentToken;switch(e){case y.HYPHEN_MINUS:this.state=B.COMMENT_END_DASH;break;case y.LESS_THAN_SIGN:t.data+="<",this.state=B.COMMENT_LESS_THAN_SIGN;break;case y.NULL:this._err(k.unexpectedNullCharacter),t.data+="";break;case y.EOF:this._err(k.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){let t=this.currentToken;switch(e){case y.EXCLAMATION_MARK:t.data+="!",this.state=B.COMMENT_LESS_THAN_SIGN_BANG;break;case y.LESS_THAN_SIGN:t.data+="<";break;default:this.state=B.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===y.HYPHEN_MINUS?this.state=B.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=B.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===y.HYPHEN_MINUS?this.state=B.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=B.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==y.GREATER_THAN_SIGN&&e!==y.EOF&&this._err(k.nestedComment),this.state=B.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){let t=this.currentToken;switch(e){case y.HYPHEN_MINUS:this.state=B.COMMENT_END;break;case y.EOF:this._err(k.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=B.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){let t=this.currentToken;switch(e){case y.GREATER_THAN_SIGN:this.state=B.DATA,this.emitCurrentComment(t);break;case y.EXCLAMATION_MARK:this.state=B.COMMENT_END_BANG;break;case y.HYPHEN_MINUS:t.data+="-";break;case y.EOF:this._err(k.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--",this.state=B.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){let t=this.currentToken;switch(e){case y.HYPHEN_MINUS:t.data+="--!",this.state=B.COMMENT_END_DASH;break;case y.GREATER_THAN_SIGN:this._err(k.incorrectlyClosedComment),this.state=B.DATA,this.emitCurrentComment(t);break;case y.EOF:this._err(k.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--!",this.state=B.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:this.state=B.BEFORE_DOCTYPE_NAME;break;case y.GREATER_THAN_SIGN:this.state=B.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case y.EOF:{this._err(k.eofInDoctype),this._createDoctypeToken(null);let e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._err(k.missingWhitespaceBeforeDoctypeName),this.state=B.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(rt(e))this._createDoctypeToken(String.fromCharCode(e+32)),this.state=B.DOCTYPE_NAME;else switch(e){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:break;case y.NULL:this._err(k.unexpectedNullCharacter),this._createDoctypeToken(""),this.state=B.DOCTYPE_NAME;break;case y.GREATER_THAN_SIGN:{this._err(k.missingDoctypeName),this._createDoctypeToken(null);let e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=B.DATA;break}case y.EOF:{this._err(k.eofInDoctype),this._createDoctypeToken(null);let e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=B.DOCTYPE_NAME}}_stateDoctypeName(e){let t=this.currentToken;switch(e){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:this.state=B.AFTER_DOCTYPE_NAME;break;case y.GREATER_THAN_SIGN:this.state=B.DATA,this.emitCurrentDoctype(t);break;case y.NULL:this._err(k.unexpectedNullCharacter),t.name+="";break;case y.EOF:this._err(k.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.name+=String.fromCodePoint(rt(e)?e+32:e)}}_stateAfterDoctypeName(e){let t=this.currentToken;switch(e){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:break;case y.GREATER_THAN_SIGN:this.state=B.DATA,this.emitCurrentDoctype(t);break;case y.EOF:this._err(k.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._consumeSequenceIfMatch("public",!1)?this.state=B.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch("system",!1)?this.state=B.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(k.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){let t=this.currentToken;switch(e){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:this.state=B.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case y.QUOTATION_MARK:this._err(k.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case y.APOSTROPHE:this._err(k.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case y.GREATER_THAN_SIGN:this._err(k.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(t);break;case y.EOF:this._err(k.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(k.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){let t=this.currentToken;switch(e){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:break;case y.QUOTATION_MARK:t.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case y.APOSTROPHE:t.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case y.GREATER_THAN_SIGN:this._err(k.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(t);break;case y.EOF:this._err(k.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(k.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){let t=this.currentToken;switch(e){case y.QUOTATION_MARK:this.state=B.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case y.NULL:this._err(k.unexpectedNullCharacter),t.publicId+="";break;case y.GREATER_THAN_SIGN:this._err(k.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=B.DATA;break;case y.EOF:this._err(k.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){let t=this.currentToken;switch(e){case y.APOSTROPHE:this.state=B.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case y.NULL:this._err(k.unexpectedNullCharacter),t.publicId+="";break;case y.GREATER_THAN_SIGN:this._err(k.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=B.DATA;break;case y.EOF:this._err(k.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){let t=this.currentToken;switch(e){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:this.state=B.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case y.GREATER_THAN_SIGN:this.state=B.DATA,this.emitCurrentDoctype(t);break;case y.QUOTATION_MARK:this._err(k.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case y.APOSTROPHE:this._err(k.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case y.EOF:this._err(k.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(k.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){let t=this.currentToken;switch(e){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:break;case y.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=B.DATA;break;case y.QUOTATION_MARK:t.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case y.APOSTROPHE:t.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case y.EOF:this._err(k.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(k.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){let t=this.currentToken;switch(e){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:this.state=B.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case y.QUOTATION_MARK:this._err(k.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case y.APOSTROPHE:this._err(k.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case y.GREATER_THAN_SIGN:this._err(k.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(t);break;case y.EOF:this._err(k.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(k.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){let t=this.currentToken;switch(e){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:break;case y.QUOTATION_MARK:t.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case y.APOSTROPHE:t.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case y.GREATER_THAN_SIGN:this._err(k.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(t);break;case y.EOF:this._err(k.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(k.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){let t=this.currentToken;switch(e){case y.QUOTATION_MARK:this.state=B.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case y.NULL:this._err(k.unexpectedNullCharacter),t.systemId+="";break;case y.GREATER_THAN_SIGN:this._err(k.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=B.DATA;break;case y.EOF:this._err(k.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){let t=this.currentToken;switch(e){case y.APOSTROPHE:this.state=B.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case y.NULL:this._err(k.unexpectedNullCharacter),t.systemId+="";break;case y.GREATER_THAN_SIGN:this._err(k.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=B.DATA;break;case y.EOF:this._err(k.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){let t=this.currentToken;switch(e){case y.SPACE:case y.LINE_FEED:case y.TABULATION:case y.FORM_FEED:break;case y.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=B.DATA;break;case y.EOF:this._err(k.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(k.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){let t=this.currentToken;switch(e){case y.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=B.DATA;break;case y.NULL:this._err(k.unexpectedNullCharacter);break;case y.EOF:this.emitCurrentDoctype(t),this._emitEOFToken()}}_stateCdataSection(e){switch(e){case y.RIGHT_SQUARE_BRACKET:this.state=B.CDATA_SECTION_BRACKET;break;case y.EOF:this._err(k.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===y.RIGHT_SQUARE_BRACKET?this.state=B.CDATA_SECTION_END:(this._emitChars("]"),this.state=B.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case y.GREATER_THAN_SIGN:this.state=B.DATA;break;case y.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=B.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(e){e===y.NUMBER_SIGN?this.state=B.NUMERIC_CHARACTER_REFERENCE:rn(e)?(this.state=B.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(e)):(this._flushCodePointConsumedAsCharacterReference(y.AMPERSAND),this._reconsumeInState(this.returnState,e))}_stateNamedCharacterReference(e){let t=this._matchNamedCharacterReference(e);if(this._ensureHibernation());else if(t){for(let e=0;e<t.length;e++)this._flushCodePointConsumedAsCharacterReference(t[e]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(y.AMPERSAND),this.state=B.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(e){rn(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===y.SEMICOLON&&this._err(k.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,e))}_stateNumericCharacterReference(e){this.charRefCode=0,e===y.LATIN_SMALL_X||e===y.LATIN_CAPITAL_X?this.state=B.HEXADEMICAL_CHARACTER_REFERENCE_START:re(e)?(this.state=B.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(e)):(this._err(k.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(y.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(y.NUMBER_SIGN),this._reconsumeInState(this.returnState,e))}_stateHexademicalCharacterReferenceStart(e){re(e)||ra(e)||rs(e)?(this.state=B.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(e)):(this._err(k.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(y.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(y.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(e){ra(e)?this.charRefCode=16*this.charRefCode+e-55:rs(e)?this.charRefCode=16*this.charRefCode+e-87:re(e)?this.charRefCode=16*this.charRefCode+e-48:e===y.SEMICOLON?this.state=B.NUMERIC_CHARACTER_REFERENCE_END:(this._err(k.missingSemicolonAfterCharacterReference),this.state=B.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateDecimalCharacterReference(e){re(e)?this.charRefCode=10*this.charRefCode+e-48:e===y.SEMICOLON?this.state=B.NUMERIC_CHARACTER_REFERENCE_END:(this._err(k.missingSemicolonAfterCharacterReference),this.state=B.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateNumericCharacterReferenceEnd(e){if(this.charRefCode===y.NULL)this._err(k.nullCharacterReference),this.charRefCode=y.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(k.characterReferenceOutsideUnicodeRange),this.charRefCode=y.REPLACEMENT_CHARACTER;else if(t$(this.charRefCode))this._err(k.surrogateCharacterReference),this.charRefCode=y.REPLACEMENT_CHARACTER;else if(tY(this.charRefCode))this._err(k.noncharacterCharacterReference);else if(tj(this.charRefCode)||this.charRefCode===y.CARRIAGE_RETURN){this._err(k.controlCharacterReference);let e=t9.get(this.charRefCode);void 0!==e&&(this.charRefCode=e)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,e)}}let rc=new Set([v.DD,v.DT,v.LI,v.OPTGROUP,v.OPTION,v.P,v.RB,v.RP,v.RT,v.RTC]),ru=new Set([...rc,v.CAPTION,v.COLGROUP,v.TBODY,v.TD,v.TFOOT,v.TH,v.THEAD,v.TR]),rd=new Map([[v.APPLET,w.HTML],[v.CAPTION,w.HTML],[v.HTML,w.HTML],[v.MARQUEE,w.HTML],[v.OBJECT,w.HTML],[v.TABLE,w.HTML],[v.TD,w.HTML],[v.TEMPLATE,w.HTML],[v.TH,w.HTML],[v.ANNOTATION_XML,w.MATHML],[v.MI,w.MATHML],[v.MN,w.MATHML],[v.MO,w.MATHML],[v.MS,w.MATHML],[v.MTEXT,w.MATHML],[v.DESC,w.SVG],[v.FOREIGN_OBJECT,w.SVG],[v.TITLE,w.SVG]]),rh=[v.H1,v.H2,v.H3,v.H4,v.H5,v.H6],rp=[v.TR,v.TEMPLATE,v.HTML],rm=[v.TBODY,v.TFOOT,v.THEAD,v.TEMPLATE,v.HTML],rf=[v.TABLE,v.TEMPLATE,v.HTML],rg=[v.TD,v.TH];class rE{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,t,r){this.treeAdapter=t,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=v.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===v.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===w.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}pop(){let e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,t){let r=this._indexOf(e);this.items[r]=t,r===this.stackTop&&(this.current=t)}insertAfter(e,t,r){let n=this._indexOf(e)+1;this.items.splice(n,0,t),this.tagIDs.splice(n,0,r),this.stackTop++,n===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,n===this.stackTop)}popUntilTagNamePopped(e){let t=this.stackTop+1;do t=this.tagIDs.lastIndexOf(e,t-1);while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==w.HTML)this.shortenToLength(t<0?0:t)}shortenToLength(e){for(;this.stackTop>=e;){let t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}popUntilElementPopped(e){let t=this._indexOf(e);this.shortenToLength(t<0?0:t)}popUntilPopped(e,t){let r=this._indexOfTagNames(e,t);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(rh,w.HTML)}popUntilTableCellPopped(){this.popUntilPopped(rg,w.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,t){for(let r=this.stackTop;r>=0;r--)if(e.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===t)return r;return -1}clearBackTo(e,t){let r=this._indexOfTagNames(e,t);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(rf,w.HTML)}clearBackToTableBodyContext(){this.clearBackTo(rm,w.HTML)}clearBackToTableRowContext(){this.clearBackTo(rp,w.HTML)}remove(e){let t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===v.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){let t=this._indexOf(e)-1;return t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===v.HTML}hasInScope(e){for(let t=this.stackTop;t>=0;t--){let r=this.tagIDs[t],n=this.treeAdapter.getNamespaceURI(this.items[t]);if(r===e&&n===w.HTML)break;if(rd.get(r)===n)return!1}return!0}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){let t=this.tagIDs[e],r=this.treeAdapter.getNamespaceURI(this.items[e]);if(t8(t)&&r===w.HTML)break;if(rd.get(t)===r)return!1}return!0}hasInListItemScope(e){for(let t=this.stackTop;t>=0;t--){let r=this.tagIDs[t],n=this.treeAdapter.getNamespaceURI(this.items[t]);if(r===e&&n===w.HTML)break;if((r===v.UL||r===v.OL)&&n===w.HTML||rd.get(r)===n)return!1}return!0}hasInButtonScope(e){for(let t=this.stackTop;t>=0;t--){let r=this.tagIDs[t],n=this.treeAdapter.getNamespaceURI(this.items[t]);if(r===e&&n===w.HTML)break;if(r===v.BUTTON&&n===w.HTML||rd.get(r)===n)return!1}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--){let r=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===w.HTML){if(r===e)return!0;if(r===v.TABLE||r===v.TEMPLATE||r===v.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--){let t=this.tagIDs[e];if(this.treeAdapter.getNamespaceURI(this.items[e])===w.HTML){if(t===v.TBODY||t===v.THEAD||t===v.TFOOT)return!0;if(t===v.TABLE||t===v.HTML)return!1}}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--){let r=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===w.HTML){if(r===e)return!0;if(r!==v.OPTION&&r!==v.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;rc.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;ru.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&ru.has(this.currentTagId);)this.pop()}}(_=F=F||(F={}))[_.Marker=0]="Marker",_[_.Element=1]="Element";let rT={type:F.Marker};class r_{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,t){let r=[],n=t.length,a=this.treeAdapter.getTagName(e),s=this.treeAdapter.getNamespaceURI(e);for(let e=0;e<this.entries.length;e++){let t=this.entries[e];if(t.type===F.Marker)break;let{element:i}=t;if(this.treeAdapter.getTagName(i)===a&&this.treeAdapter.getNamespaceURI(i)===s){let t=this.treeAdapter.getAttrList(i);t.length===n&&r.push({idx:e,attrs:t})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<3)return;let t=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,t);if(r.length<3)return;let n=new Map(t.map(e=>[e.name,e.value])),a=0;for(let e=0;e<r.length;e++){let t=r[e];t.attrs.every(e=>n.get(e.name)===e.value)&&(a+=1)>=3&&this.entries.splice(t.idx,1)}}insertMarker(){this.entries.unshift(rT)}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:F.Element,element:e,token:t})}insertElementAfterBookmark(e,t){let r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:F.Element,element:e,token:t})}removeEntry(e){let t=this.entries.indexOf(e);t>=0&&this.entries.splice(t,1)}clearToLastMarker(){let e=this.entries.indexOf(rT);e>=0?this.entries.splice(0,e+1):this.entries.length=0}getElementEntryInScopeWithTagName(e){let t=this.entries.find(t=>t.type===F.Marker||this.treeAdapter.getTagName(t.element)===e);return t&&t.type===F.Element?t:null}getElementEntry(e){return this.entries.find(t=>t.type===F.Element&&t.element===e)}}function rA(e){return{nodeName:"#text",value:e,parentNode:null}}let rC={createDocument:()=>({nodeName:"#document",mode:x.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(e,t,r)=>({nodeName:e,tagName:e,attrs:r,namespaceURI:t,childNodes:[],parentNode:null}),createCommentNode:e=>({nodeName:"#comment",data:e,parentNode:null}),appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,r){let n=e.childNodes.indexOf(r);e.childNodes.splice(n,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent:e=>e.content,setDocumentType(e,t,r,n){let a=e.childNodes.find(e=>"#documentType"===e.nodeName);a?(a.name=t,a.publicId=r,a.systemId=n):rC.appendChild(e,{nodeName:"#documentType",name:t,publicId:r,systemId:n,parentNode:null})},setDocumentMode(e,t){e.mode=t},getDocumentMode:e=>e.mode,detachNode(e){if(e.parentNode){let t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){let r=e.childNodes[e.childNodes.length-1];if(rC.isTextNode(r)){r.value+=t;return}}rC.appendChild(e,rA(t))},insertTextBefore(e,t,r){let n=e.childNodes[e.childNodes.indexOf(r)-1];n&&rC.isTextNode(n)?n.value+=t:rC.insertBefore(e,rA(t),r)},adoptAttributes(e,t){let r=new Set(e.attrs.map(e=>e.name));for(let n=0;n<t.length;n++)r.has(t[n].name)||e.attrs.push(t[n])},getFirstChild:e=>e.childNodes[0],getChildNodes:e=>e.childNodes,getParentNode:e=>e.parentNode,getAttrList:e=>e.attrs,getTagName:e=>e.tagName,getNamespaceURI:e=>e.namespaceURI,getTextNodeContent:e=>e.value,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName:e=>e.name,getDocumentTypeNodePublicId:e=>e.publicId,getDocumentTypeNodeSystemId:e=>e.systemId,isTextNode:e=>"#text"===e.nodeName,isCommentNode:e=>"#comment"===e.nodeName,isDocumentTypeNode:e=>"#documentType"===e.nodeName,isElementNode:e=>Object.prototype.hasOwnProperty.call(e,"tagName"),setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},rN="html",rb=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],ry=[...rb,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],rk=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),rS=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],rI=[...rS,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function rR(e,t){return t.some(t=>e.startsWith(t))}let rL=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),rD=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:w.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:w.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:w.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:w.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:w.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:w.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:w.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:w.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:w.XML}],["xml:space",{prefix:"xml",name:"space",namespace:w.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:w.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:w.XMLNS}]]),rO=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),rw=new Set([v.B,v.BIG,v.BLOCKQUOTE,v.BODY,v.BR,v.CENTER,v.CODE,v.DD,v.DIV,v.DL,v.DT,v.EM,v.EMBED,v.H1,v.H2,v.H3,v.H4,v.H5,v.H6,v.HEAD,v.HR,v.I,v.IMG,v.LI,v.LISTING,v.MENU,v.META,v.NOBR,v.OL,v.P,v.PRE,v.RUBY,v.S,v.SMALL,v.SPAN,v.STRONG,v.STRIKE,v.SUB,v.SUP,v.TABLE,v.TT,v.U,v.UL,v.VAR]);function rM(e){for(let t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}}function rx(e){for(let t=0;t<e.attrs.length;t++){let r=rL.get(e.attrs[t].name);null!=r&&(e.attrs[t].name=r)}}function rP(e){for(let t=0;t<e.attrs.length;t++){let r=rD.get(e.attrs[t].name);r&&(e.attrs[t].prefix=r.prefix,e.attrs[t].name=r.name,e.attrs[t].namespace=r.namespace)}}(A=U||(U={}))[A.INITIAL=0]="INITIAL",A[A.BEFORE_HTML=1]="BEFORE_HTML",A[A.BEFORE_HEAD=2]="BEFORE_HEAD",A[A.IN_HEAD=3]="IN_HEAD",A[A.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",A[A.AFTER_HEAD=5]="AFTER_HEAD",A[A.IN_BODY=6]="IN_BODY",A[A.TEXT=7]="TEXT",A[A.IN_TABLE=8]="IN_TABLE",A[A.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",A[A.IN_CAPTION=10]="IN_CAPTION",A[A.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",A[A.IN_TABLE_BODY=12]="IN_TABLE_BODY",A[A.IN_ROW=13]="IN_ROW",A[A.IN_CELL=14]="IN_CELL",A[A.IN_SELECT=15]="IN_SELECT",A[A.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",A[A.IN_TEMPLATE=17]="IN_TEMPLATE",A[A.AFTER_BODY=18]="AFTER_BODY",A[A.IN_FRAMESET=19]="IN_FRAMESET",A[A.AFTER_FRAMESET=20]="AFTER_FRAMESET",A[A.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",A[A.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET";let rv={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},rB=new Set([v.TABLE,v.TBODY,v.TFOOT,v.THEAD,v.TR]),rF={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:rC,onParseError:null};class rU{constructor(e,t,r=null,n=null){this.fragmentContext=r,this.scriptHandler=n,this.currentToken=null,this.stopped=!1,this.insertionMode=U.INITIAL,this.originalInsertionMode=U.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...rF,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=t?t:this.treeAdapter.createDocument(),this.tokenizer=new rl(this.options,this),this.activeFormattingElements=new r_(this.treeAdapter),this.fragmentContextID=r?t2(this.treeAdapter.getTagName(r)):v.UNKNOWN,this._setContextModes(null!=r?r:this.document,this.fragmentContextID),this.openElements=new rE(this.document,this.treeAdapter,this)}static parse(e,t){let r=new this(t);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,t){let r={...rF,...t};null!=e||(e=r.treeAdapter.createElement(P.TEMPLATE,w.HTML,[]));let n=r.treeAdapter.createElement("documentmock",w.HTML,[]),a=new this(r,n,e);return a.fragmentContextID===v.TEMPLATE&&a.tmplInsertionModeStack.unshift(U.IN_TEMPLATE),a._initTokenizerForFragmentParsing(),a._insertFakeRootElement(),a._resetInsertionMode(),a._findFormInFragmentContext(),a}getFragment(){let e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}_err(e,t,r){var n;if(!this.onParseError)return;let a=null!=(n=e.location)?n:rv,s={code:t,startLine:a.startLine,startCol:a.startCol,startOffset:a.startOffset,endLine:r?a.startLine:a.endLine,endCol:r?a.startCol:a.endCol,endOffset:r?a.startOffset:a.endOffset};this.onParseError(s)}onItemPush(e,t,r){var n,a;null==(a=(n=this.treeAdapter).onItemPush)||a.call(n,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,t)}onItemPop(e,t){var r,n;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null==(n=(r=this.treeAdapter).onItemPop)||n.call(r,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):{current:e,currentTagId:t}=this.openElements,this._setContextModes(e,t)}}_setContextModes(e,t){let r=e===this.document||this.treeAdapter.getNamespaceURI(e)===w.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(t,e)}_switchToTextParsing(e,t){this._insertElement(e,w.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=U.TEXT}switchToPlaintextParsing(){this.insertionMode=U.TEXT,this.originalInsertionMode=U.IN_BODY,this.tokenizer.state=t7.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===P.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===w.HTML)switch(this.fragmentContextID){case v.TITLE:case v.TEXTAREA:this.tokenizer.state=t7.RCDATA;break;case v.STYLE:case v.XMP:case v.IFRAME:case v.NOEMBED:case v.NOFRAMES:case v.NOSCRIPT:this.tokenizer.state=t7.RAWTEXT;break;case v.SCRIPT:this.tokenizer.state=t7.SCRIPT_DATA;break;case v.PLAINTEXT:this.tokenizer.state=t7.PLAINTEXT}}_setDocumentType(e){let t=e.name||"",r=e.publicId||"",n=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,r,n),e.location){let t=this.treeAdapter.getChildNodes(this.document).find(e=>this.treeAdapter.isDocumentTypeNode(e));t&&this.treeAdapter.setNodeSourceCodeLocation(t,e.location)}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){let r=t&&{...t,startTag:t};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{let t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(t,e)}}_appendElement(e,t){let r=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,t){let r=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,t){let r=this.treeAdapter.createElement(e,w.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,t)}_insertTemplate(e){let t=this.treeAdapter.createElement(e.tagName,w.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,r),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){let e=this.treeAdapter.createElement(P.HTML,w.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,v.HTML)}_appendCommentNode(e,t){let r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let t,r;if(this._shouldFosterParentOnInsertion()?({parent:t,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(t,e.chars,r):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;let n=this.treeAdapter.getChildNodes(t),a=r?n.lastIndexOf(r):n.length,s=n[a-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){let{endLine:t,endCol:r,endOffset:n}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:t,endCol:r,endOffset:n})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}_adoptNodes(e,t){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(t,r)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){let r=t.location,n=this.treeAdapter.getTagName(e),a=t.type===S.END_TAG&&n===t.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,a)}}shouldProcessStartTagTokenInForeignContent(e){let t,r;return!!this.currentNotInHTML&&(0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,r=this.fragmentContextID):{current:t,currentTagId:r}=this.openElements,(e.tagID!==v.SVG||this.treeAdapter.getTagName(t)!==P.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==w.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===v.MGLYPH||e.tagID===v.MALIGNMARK)&&!this._isIntegrationPoint(r,t,w.HTML)))}_processToken(e){switch(e.type){case S.CHARACTER:this.onCharacter(e);break;case S.NULL_CHARACTER:this.onNullCharacter(e);break;case S.COMMENT:this.onComment(e);break;case S.DOCTYPE:this.onDoctype(e);break;case S.START_TAG:this._processStartTag(e);break;case S.END_TAG:this.onEndTag(e);break;case S.EOF:this.onEof(e);break;case S.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e)}}_isIntegrationPoint(e,t,r){let n=this.treeAdapter.getNamespaceURI(t),a=this.treeAdapter.getAttrList(t);return(!r||r===w.HTML)&&function(e,t,r){if(t===w.MATHML&&e===v.ANNOTATION_XML){for(let e=0;e<r.length;e++)if(r[e].name===M.ENCODING){let t=r[e].value.toLowerCase();return"text/html"===t||"application/xhtml+xml"===t}}return t===w.SVG&&(e===v.FOREIGN_OBJECT||e===v.DESC||e===v.TITLE)}(e,n,a)||(!r||r===w.MATHML)&&n===w.MATHML&&(e===v.MI||e===v.MO||e===v.MN||e===v.MS||e===v.MTEXT)}_reconstructActiveFormattingElements(){let e=this.activeFormattingElements.entries.length;if(e){let t=this.activeFormattingElements.entries.findIndex(e=>e.type===F.Marker||this.openElements.contains(e.element)),r=t<0?e-1:t-1;for(let e=r;e>=0;e--){let t=this.activeFormattingElements.entries[e];this._insertElement(t.token,this.treeAdapter.getNamespaceURI(t.element)),t.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=U.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(v.P),this.openElements.popUntilTagNamePopped(v.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case v.TR:this.insertionMode=U.IN_ROW;return;case v.TBODY:case v.THEAD:case v.TFOOT:this.insertionMode=U.IN_TABLE_BODY;return;case v.CAPTION:this.insertionMode=U.IN_CAPTION;return;case v.COLGROUP:this.insertionMode=U.IN_COLUMN_GROUP;return;case v.TABLE:this.insertionMode=U.IN_TABLE;return;case v.BODY:this.insertionMode=U.IN_BODY;return;case v.FRAMESET:this.insertionMode=U.IN_FRAMESET;return;case v.SELECT:return void this._resetInsertionModeForSelect(e);case v.TEMPLATE:this.insertionMode=this.tmplInsertionModeStack[0];return;case v.HTML:this.insertionMode=this.headElement?U.AFTER_HEAD:U.BEFORE_HEAD;return;case v.TD:case v.TH:if(e>0){this.insertionMode=U.IN_CELL;return}break;case v.HEAD:if(e>0){this.insertionMode=U.IN_HEAD;return}}this.insertionMode=U.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){let e=this.openElements.tagIDs[t];if(e===v.TEMPLATE)break;if(e===v.TABLE){this.insertionMode=U.IN_SELECT_IN_TABLE;return}}this.insertionMode=U.IN_SELECT}_isElementCausesFosterParenting(e){return rB.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){let t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case v.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===w.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case v.TABLE:{let r=this.treeAdapter.getParentNode(t);if(r)return{parent:r,beforeElement:t};return{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){let t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_isSpecialElement(e,t){return t5[this.treeAdapter.getNamespaceURI(e)].has(t)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){var t,r;return void(t=this,r=e,t._insertCharacters(r),t.framesetOk=!1)}switch(this.insertionMode){case U.INITIAL:rj(this,e);break;case U.BEFORE_HTML:rY(this,e);break;case U.BEFORE_HEAD:rq(this,e);break;case U.IN_HEAD:rV(this,e);break;case U.IN_HEAD_NO_SCRIPT:rQ(this,e);break;case U.AFTER_HEAD:rX(this,e);break;case U.IN_BODY:case U.IN_CAPTION:case U.IN_CELL:case U.IN_TEMPLATE:rZ(this,e);break;case U.TEXT:case U.IN_SELECT:case U.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case U.IN_TABLE:case U.IN_TABLE_BODY:case U.IN_ROW:r9(this,e);break;case U.IN_TABLE_TEXT:nn(this,e);break;case U.IN_COLUMN_GROUP:no(this,e);break;case U.AFTER_BODY:ng(this,e);break;case U.AFTER_AFTER_BODY:nE(this,e)}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){var t,r;return void(t=this,(r=e).chars="",t._insertCharacters(r))}switch(this.insertionMode){case U.INITIAL:rj(this,e);break;case U.BEFORE_HTML:rY(this,e);break;case U.BEFORE_HEAD:rq(this,e);break;case U.IN_HEAD:rV(this,e);break;case U.IN_HEAD_NO_SCRIPT:rQ(this,e);break;case U.AFTER_HEAD:rX(this,e);break;case U.TEXT:this._insertCharacters(e);break;case U.IN_TABLE:case U.IN_TABLE_BODY:case U.IN_ROW:r9(this,e);break;case U.IN_COLUMN_GROUP:no(this,e);break;case U.AFTER_BODY:ng(this,e);break;case U.AFTER_AFTER_BODY:nE(this,e)}}onComment(e){var t,r,n,a;if(this.skipNextNewLine=!1,this.currentNotInHTML)return void rG(this,e);switch(this.insertionMode){case U.INITIAL:case U.BEFORE_HTML:case U.BEFORE_HEAD:case U.IN_HEAD:case U.IN_HEAD_NO_SCRIPT:case U.AFTER_HEAD:case U.IN_BODY:case U.IN_TABLE:case U.IN_CAPTION:case U.IN_COLUMN_GROUP:case U.IN_TABLE_BODY:case U.IN_ROW:case U.IN_CELL:case U.IN_SELECT:case U.IN_SELECT_IN_TABLE:case U.IN_TEMPLATE:case U.IN_FRAMESET:case U.AFTER_FRAMESET:rG(this,e);break;case U.IN_TABLE_TEXT:na(this,e);break;case U.AFTER_BODY:t=this,r=e,t._appendCommentNode(r,t.openElements.items[0]);break;case U.AFTER_AFTER_BODY:case U.AFTER_AFTER_FRAMESET:n=this,a=e,n._appendCommentNode(a,n.document)}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case U.INITIAL:!function(e,t){e._setDocumentType(t);let r=t.forceQuirks?x.QUIRKS:function(e){if(e.name!==rN)return x.QUIRKS;let{systemId:t}=e;if(t&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===t.toLowerCase())return x.QUIRKS;let{publicId:r}=e;if(null!==r){if(r=r.toLowerCase(),rk.has(r))return x.QUIRKS;let e=null===t?ry:rb;if(rR(r,e))return x.QUIRKS;if(rR(r,e=null===t?rS:rI))return x.LIMITED_QUIRKS}return x.NO_QUIRKS}(t);(t.name!==rN||null!==t.publicId||null!==t.systemId&&"about:legacy-compat"!==t.systemId)&&e._err(t,k.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=U.BEFORE_HTML}(this,e);break;case U.BEFORE_HEAD:case U.IN_HEAD:case U.IN_HEAD_NO_SCRIPT:case U.AFTER_HEAD:this._err(e,k.misplacedDoctype);break;case U.IN_TABLE_TEXT:na(this,e)}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,k.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){let r;if((r=t.tagID)===v.FONT&&t.attrs.some(({name:e})=>e===M.COLOR||e===M.SIZE||e===M.FACE)||rw.has(r))nT(e),e._startTagOutsideForeignContent(t);else{let r=e._getAdjustedCurrentElement(),n=e.treeAdapter.getNamespaceURI(r);if(n===w.MATHML)rM(t);else if(n===w.SVG){let e;null!=(e=rO.get(t.tagName))&&(t.tagName=e,t.tagID=t2(t.tagName)),rx(t)}rP(t),t.selfClosing?e._appendElement(t,n):e._insertElement(t,n),t.ackSelfClosing=!0}}(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case U.INITIAL:rj(this,e);break;case U.BEFORE_HTML:t=this,(r=e).tagID===v.HTML?(t._insertElement(r,w.HTML),t.insertionMode=U.BEFORE_HEAD):rY(t,r);break;case U.BEFORE_HEAD:var t,r,n,a,s,i,o,l,c,u,d,h,p=this,m=e;switch(m.tagID){case v.HTML:r5(p,m);break;case v.HEAD:p._insertElement(m,w.HTML),p.headElement=p.openElements.current,p.insertionMode=U.IN_HEAD;break;default:rq(p,m)}break;case U.IN_HEAD:rW(this,e);break;case U.IN_HEAD_NO_SCRIPT:var f=this,g=e;switch(g.tagID){case v.HTML:r5(f,g);break;case v.BASEFONT:case v.BGSOUND:case v.HEAD:case v.LINK:case v.META:case v.NOFRAMES:case v.STYLE:rW(f,g);break;case v.NOSCRIPT:f._err(g,k.nestedNoscriptInHead);break;default:rQ(f,g)}break;case U.AFTER_HEAD:var E=this,T=e;switch(T.tagID){case v.HTML:r5(E,T);break;case v.BODY:E._insertElement(T,w.HTML),E.framesetOk=!1,E.insertionMode=U.IN_BODY;break;case v.FRAMESET:E._insertElement(T,w.HTML),E.insertionMode=U.IN_FRAMESET;break;case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:case v.NOFRAMES:case v.SCRIPT:case v.STYLE:case v.TEMPLATE:case v.TITLE:E._err(T,k.abandonedHeadElementChild),E.openElements.push(E.headElement,v.HEAD),rW(E,T),E.openElements.remove(E.headElement);break;case v.HEAD:E._err(T,k.misplacedStartTagForHeadElement);break;default:rX(E,T)}break;case U.IN_BODY:r5(this,e);break;case U.IN_TABLE:r7(this,e);break;case U.IN_TABLE_TEXT:na(this,e);break;case U.IN_CAPTION:let _;n=this,_=(a=e).tagID,ns.has(_)?n.openElements.hasInTableScope(v.CAPTION)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(v.CAPTION),n.activeFormattingElements.clearToLastMarker(),n.insertionMode=U.IN_TABLE,r7(n,a)):r5(n,a);break;case U.IN_COLUMN_GROUP:ni(this,e);break;case U.IN_TABLE_BODY:nl(this,e);break;case U.IN_ROW:nu(this,e);break;case U.IN_CELL:let A;s=this,A=(i=e).tagID,ns.has(A)?(s.openElements.hasInTableScope(v.TD)||s.openElements.hasInTableScope(v.TH))&&(s._closeTableCell(),nu(s,i)):r5(s,i);break;case U.IN_SELECT:nh(this,e);break;case U.IN_SELECT_IN_TABLE:let C;o=this,(C=(l=e).tagID)===v.CAPTION||C===v.TABLE||C===v.TBODY||C===v.TFOOT||C===v.THEAD||C===v.TR||C===v.TD||C===v.TH?(o.openElements.popUntilTagNamePopped(v.SELECT),o._resetInsertionMode(),o._processStartTag(l)):nh(o,l);break;case U.IN_TEMPLATE:var N=this,b=e;switch(b.tagID){case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:case v.NOFRAMES:case v.SCRIPT:case v.STYLE:case v.TEMPLATE:case v.TITLE:rW(N,b);break;case v.CAPTION:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:N.tmplInsertionModeStack[0]=U.IN_TABLE,N.insertionMode=U.IN_TABLE,r7(N,b);break;case v.COL:N.tmplInsertionModeStack[0]=U.IN_COLUMN_GROUP,N.insertionMode=U.IN_COLUMN_GROUP,ni(N,b);break;case v.TR:N.tmplInsertionModeStack[0]=U.IN_TABLE_BODY,N.insertionMode=U.IN_TABLE_BODY,nl(N,b);break;case v.TD:case v.TH:N.tmplInsertionModeStack[0]=U.IN_ROW,N.insertionMode=U.IN_ROW,nu(N,b);break;default:N.tmplInsertionModeStack[0]=U.IN_BODY,N.insertionMode=U.IN_BODY,r5(N,b)}break;case U.AFTER_BODY:c=this,(u=e).tagID===v.HTML?r5(c,u):ng(c,u);break;case U.IN_FRAMESET:var y=this,S=e;switch(S.tagID){case v.HTML:r5(y,S);break;case v.FRAMESET:y._insertElement(S,w.HTML);break;case v.FRAME:y._appendElement(S,w.HTML),S.ackSelfClosing=!0;break;case v.NOFRAMES:rW(y,S)}break;case U.AFTER_FRAMESET:var I=this,R=e;switch(R.tagID){case v.HTML:r5(I,R);break;case v.NOFRAMES:rW(I,R)}break;case U.AFTER_AFTER_BODY:d=this,(h=e).tagID===v.HTML?r5(d,h):nE(d,h);break;case U.AFTER_AFTER_FRAMESET:var L=this,D=e;switch(D.tagID){case v.HTML:r5(L,D);break;case v.NOFRAMES:rW(L,D)}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===v.P||t.tagID===v.BR){nT(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){let n=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(n)===w.HTML){e._endTagOutsideForeignContent(t);break}let a=e.treeAdapter.getTagName(n);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(r);break}}}(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case U.INITIAL:rj(this,e);break;case U.BEFORE_HTML:let t;n=this,((t=(a=e).tagID)===v.HTML||t===v.HEAD||t===v.BODY||t===v.BR)&&rY(n,a);break;case U.BEFORE_HEAD:let r;s=this,(r=(i=e).tagID)===v.HEAD||r===v.BODY||r===v.HTML||r===v.BR?rq(s,i):s._err(i,k.endTagWithoutMatchingOpenElement);break;case U.IN_HEAD:var n,a,s,i,o,l,c,u,d,h,p,m,f=this,g=e;switch(g.tagID){case v.HEAD:f.openElements.pop(),f.insertionMode=U.AFTER_HEAD;break;case v.BODY:case v.BR:case v.HTML:rV(f,g);break;case v.TEMPLATE:rz(f,g);break;default:f._err(g,k.endTagWithoutMatchingOpenElement)}break;case U.IN_HEAD_NO_SCRIPT:var E=this,T=e;switch(T.tagID){case v.NOSCRIPT:E.openElements.pop(),E.insertionMode=U.IN_HEAD;break;case v.BR:rQ(E,T);break;default:E._err(T,k.endTagWithoutMatchingOpenElement)}break;case U.AFTER_HEAD:var _=this,A=e;switch(A.tagID){case v.BODY:case v.HTML:case v.BR:rX(_,A);break;case v.TEMPLATE:rz(_,A);break;default:_._err(A,k.endTagWithoutMatchingOpenElement)}break;case U.IN_BODY:r4(this,e);break;case U.TEXT:o=this,e.tagID===v.SCRIPT&&(null==(l=o.scriptHandler)||l.call(o,o.openElements.current)),o.openElements.pop(),o.insertionMode=o.originalInsertionMode;break;case U.IN_TABLE:ne(this,e);break;case U.IN_TABLE_TEXT:na(this,e);break;case U.IN_CAPTION:var C=this,N=e;let b=N.tagID;switch(b){case v.CAPTION:case v.TABLE:C.openElements.hasInTableScope(v.CAPTION)&&(C.openElements.generateImpliedEndTags(),C.openElements.popUntilTagNamePopped(v.CAPTION),C.activeFormattingElements.clearToLastMarker(),C.insertionMode=U.IN_TABLE,b===v.TABLE&&ne(C,N));break;case v.BODY:case v.COL:case v.COLGROUP:case v.HTML:case v.TBODY:case v.TD:case v.TFOOT:case v.TH:case v.THEAD:case v.TR:break;default:r4(C,N)}break;case U.IN_COLUMN_GROUP:var y=this,S=e;switch(S.tagID){case v.COLGROUP:y.openElements.currentTagId===v.COLGROUP&&(y.openElements.pop(),y.insertionMode=U.IN_TABLE);break;case v.TEMPLATE:rz(y,S);break;case v.COL:break;default:no(y,S)}break;case U.IN_TABLE_BODY:nc(this,e);break;case U.IN_ROW:nd(this,e);break;case U.IN_CELL:var I=this,R=e;let L=R.tagID;switch(L){case v.TD:case v.TH:I.openElements.hasInTableScope(L)&&(I.openElements.generateImpliedEndTags(),I.openElements.popUntilTagNamePopped(L),I.activeFormattingElements.clearToLastMarker(),I.insertionMode=U.IN_ROW);break;case v.TABLE:case v.TBODY:case v.TFOOT:case v.THEAD:case v.TR:I.openElements.hasInTableScope(L)&&(I._closeTableCell(),nd(I,R));break;case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:break;default:r4(I,R)}break;case U.IN_SELECT:np(this,e);break;case U.IN_SELECT_IN_TABLE:let D;c=this,(D=(u=e).tagID)===v.CAPTION||D===v.TABLE||D===v.TBODY||D===v.TFOOT||D===v.THEAD||D===v.TR||D===v.TD||D===v.TH?c.openElements.hasInTableScope(D)&&(c.openElements.popUntilTagNamePopped(v.SELECT),c._resetInsertionMode(),c.onEndTag(u)):np(c,u);break;case U.IN_TEMPLATE:d=this,(h=e).tagID===v.TEMPLATE&&rz(d,h);break;case U.AFTER_BODY:nf(this,e);break;case U.IN_FRAMESET:p=this,e.tagID===v.FRAMESET&&!p.openElements.isRootHtmlElementCurrent()&&(p.openElements.pop(),p.fragmentContext||p.openElements.currentTagId===v.FRAMESET||(p.insertionMode=U.AFTER_FRAMESET));break;case U.AFTER_FRAMESET:m=this,e.tagID===v.HTML&&(m.insertionMode=U.AFTER_AFTER_FRAMESET);break;case U.AFTER_AFTER_BODY:nE(this,e)}}onEof(e){switch(this.insertionMode){case U.INITIAL:rj(this,e);break;case U.BEFORE_HTML:rY(this,e);break;case U.BEFORE_HEAD:rq(this,e);break;case U.IN_HEAD:rV(this,e);break;case U.IN_HEAD_NO_SCRIPT:rQ(this,e);break;case U.AFTER_HEAD:rX(this,e);break;case U.IN_BODY:case U.IN_TABLE:case U.IN_CAPTION:case U.IN_COLUMN_GROUP:case U.IN_TABLE_BODY:case U.IN_ROW:case U.IN_CELL:case U.IN_SELECT:case U.IN_SELECT_IN_TABLE:r6(this,e);break;case U.TEXT:var t,r;t=this,r=e,t._err(r,k.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(r);break;case U.IN_TABLE_TEXT:na(this,e);break;case U.IN_TEMPLATE:nm(this,e);break;case U.AFTER_BODY:case U.IN_FRAMESET:case U.AFTER_FRAMESET:case U.AFTER_AFTER_BODY:case U.AFTER_AFTER_FRAMESET:r$(this,e)}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===y.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode)return void this._insertCharacters(e);switch(this.insertionMode){case U.IN_HEAD:case U.IN_HEAD_NO_SCRIPT:case U.AFTER_HEAD:case U.TEXT:case U.IN_COLUMN_GROUP:case U.IN_SELECT:case U.IN_SELECT_IN_TABLE:case U.IN_FRAMESET:case U.AFTER_FRAMESET:this._insertCharacters(e);break;case U.IN_BODY:case U.IN_CAPTION:case U.IN_CELL:case U.IN_TEMPLATE:case U.AFTER_BODY:case U.AFTER_AFTER_BODY:case U.AFTER_AFTER_FRAMESET:rJ(this,e);break;case U.IN_TABLE:case U.IN_TABLE_BODY:case U.IN_ROW:r9(this,e);break;case U.IN_TABLE_TEXT:nr(this,e)}}}function rH(e,t){for(let r=0;r<8;r++){let r=function(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):r8(e,t),r}(e,t);if(!r)break;let n=function(e,t){let r=null,n=e.openElements.stackTop;for(;n>=0;n--){let a=e.openElements.items[n];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[n])&&(r=a)}return r||(e.openElements.shortenToLength(n<0?0:n),e.activeFormattingElements.removeEntry(t)),r}(e,r);if(!n)break;e.activeFormattingElements.bookmark=r;let a=function(e,t,r){let n=t,a=e.openElements.getCommonAncestor(t);for(let s=0,i=a;i!==r;s++,i=a){a=e.openElements.getCommonAncestor(i);let r=e.activeFormattingElements.getElementEntry(i),o=r&&s>=3;!r||o?(o&&e.activeFormattingElements.removeEntry(r),e.openElements.remove(i)):(i=function(e,t){let r=e.treeAdapter.getNamespaceURI(t.element),n=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,n),t.element=n,n}(e,r),n===t&&(e.activeFormattingElements.bookmark=r),e.treeAdapter.detachNode(n),e.treeAdapter.appendChild(i,n),n=i)}return n}(e,n,r.element),s=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(a),s&&function(e,t,r){let n=t2(e.treeAdapter.getTagName(t));if(e._isElementCausesFosterParenting(n))e._fosterParentElement(r);else{let a=e.treeAdapter.getNamespaceURI(t);n===v.TEMPLATE&&a===w.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}(e,s,a),function(e,t,r){let n=e.treeAdapter.getNamespaceURI(r.element),{token:a}=r,s=e.treeAdapter.createElement(a.tagName,n,a.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,a),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,s,a.tagID)}(e,n,r)}}function rG(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function r$(e,t){if(e.stopped=!0,t.location){let r=2*!e.fragmentContext;for(let n=e.openElements.stackTop;n>=r;n--)e._setEndLocation(e.openElements.items[n],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){let r=e.openElements.items[0],n=e.treeAdapter.getNodeSourceCodeLocation(r);if(n&&!n.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){let r=e.openElements.items[1],n=e.treeAdapter.getNodeSourceCodeLocation(r);n&&!n.endTag&&e._setEndLocation(r,t)}}}}function rj(e,t){e._err(t,k.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,x.QUIRKS),e.insertionMode=U.BEFORE_HTML,e._processToken(t)}function rY(e,t){e._insertFakeRootElement(),e.insertionMode=U.BEFORE_HEAD,e._processToken(t)}function rq(e,t){e._insertFakeElement(P.HEAD,v.HEAD),e.headElement=e.openElements.current,e.insertionMode=U.IN_HEAD,e._processToken(t)}function rW(e,t){switch(t.tagID){case v.HTML:r5(e,t);break;case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:e._appendElement(t,w.HTML),t.ackSelfClosing=!0;break;case v.TITLE:e._switchToTextParsing(t,t7.RCDATA);break;case v.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,t7.RAWTEXT):(e._insertElement(t,w.HTML),e.insertionMode=U.IN_HEAD_NO_SCRIPT);break;case v.NOFRAMES:case v.STYLE:e._switchToTextParsing(t,t7.RAWTEXT);break;case v.SCRIPT:e._switchToTextParsing(t,t7.SCRIPT_DATA);break;case v.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=U.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(U.IN_TEMPLATE);break;case v.HEAD:e._err(t,k.misplacedStartTagForHeadElement);break;default:rV(e,t)}}function rz(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==v.TEMPLATE&&e._err(t,k.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(v.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,k.endTagWithoutMatchingOpenElement)}function rV(e,t){e.openElements.pop(),e.insertionMode=U.AFTER_HEAD,e._processToken(t)}function rQ(e,t){let r=t.type===S.EOF?k.openElementsLeftAfterEof:k.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=U.IN_HEAD,e._processToken(t)}function rX(e,t){e._insertFakeElement(P.BODY,v.BODY),e.insertionMode=U.IN_BODY,rK(e,t)}function rK(e,t){switch(t.type){case S.CHARACTER:rZ(e,t);break;case S.WHITESPACE_CHARACTER:rJ(e,t);break;case S.COMMENT:rG(e,t);break;case S.START_TAG:r5(e,t);break;case S.END_TAG:r4(e,t);break;case S.EOF:r6(e,t)}}function rJ(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function rZ(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function r0(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,w.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function r1(e){let t=tW(e,M.TYPE);return null!=t&&"hidden"===t.toLowerCase()}function r2(e,t){e._switchToTextParsing(t,t7.RAWTEXT)}function r3(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,w.HTML)}function r5(e,t){switch(t.tagID){case v.I:case v.S:case v.B:case v.U:case v.EM:case v.TT:case v.BIG:case v.CODE:case v.FONT:case v.SMALL:case v.STRIKE:case v.STRONG:e._reconstructActiveFormattingElements(),e._insertElement(t,w.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);break;case v.A:let r;(r=e.activeFormattingElements.getElementEntryInScopeWithTagName(P.A))&&(rH(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,w.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);break;case v.H1:case v.H2:case v.H3:case v.H4:case v.H5:case v.H6:e.openElements.hasInButtonScope(v.P)&&e._closePElement(),t8(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,w.HTML);break;case v.P:case v.DL:case v.OL:case v.UL:case v.DIV:case v.DIR:case v.NAV:case v.MAIN:case v.MENU:case v.ASIDE:case v.CENTER:case v.FIGURE:case v.FOOTER:case v.HEADER:case v.HGROUP:case v.DIALOG:case v.DETAILS:case v.ADDRESS:case v.ARTICLE:case v.SECTION:case v.SUMMARY:case v.FIELDSET:case v.BLOCKQUOTE:case v.FIGCAPTION:e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,w.HTML);break;case v.LI:case v.DD:case v.DT:e.framesetOk=!1;let n=t.tagID;for(let t=e.openElements.stackTop;t>=0;t--){let r=e.openElements.tagIDs[t];if(n===v.LI&&r===v.LI||(n===v.DD||n===v.DT)&&(r===v.DD||r===v.DT)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r);break}if(r!==v.ADDRESS&&r!==v.DIV&&r!==v.P&&e._isSpecialElement(e.openElements.items[t],r))break}e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,w.HTML);break;case v.BR:case v.IMG:case v.WBR:case v.AREA:case v.EMBED:case v.KEYGEN:r0(e,t);break;case v.HR:e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._appendElement(t,w.HTML),e.framesetOk=!1,t.ackSelfClosing=!0;break;case v.RB:case v.RTC:e.openElements.hasInScope(v.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,w.HTML);break;case v.RT:case v.RP:e.openElements.hasInScope(v.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(v.RTC),e._insertElement(t,w.HTML);break;case v.PRE:case v.LISTING:e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,w.HTML),e.skipNextNewLine=!0,e.framesetOk=!1;break;case v.XMP:e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,t7.RAWTEXT);break;case v.SVG:e._reconstructActiveFormattingElements(),rx(t),rP(t),t.selfClosing?e._appendElement(t,w.SVG):e._insertElement(t,w.SVG),t.ackSelfClosing=!0;break;case v.HTML:0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs);break;case v.BASE:case v.LINK:case v.META:case v.STYLE:case v.TITLE:case v.SCRIPT:case v.BGSOUND:case v.BASEFONT:case v.TEMPLATE:rW(e,t);break;case v.BODY:let a;(a=e.openElements.tryPeekProperlyNestedBodyElement())&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(a,t.attrs));break;case v.FORM:let s;s=e.openElements.tmplCount>0,(!e.formElement||s)&&(e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,w.HTML),s||(e.formElement=e.openElements.current));break;case v.NOBR:e._reconstructActiveFormattingElements(),e.openElements.hasInScope(v.NOBR)&&(rH(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,w.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);break;case v.MATH:e._reconstructActiveFormattingElements(),rM(t),rP(t),t.selfClosing?e._appendElement(t,w.MATHML):e._insertElement(t,w.MATHML),t.ackSelfClosing=!0;break;case v.TABLE:e.treeAdapter.getDocumentMode(e.document)!==x.QUIRKS&&e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,w.HTML),e.framesetOk=!1,e.insertionMode=U.IN_TABLE;break;case v.INPUT:e._reconstructActiveFormattingElements(),e._appendElement(t,w.HTML),r1(t)||(e.framesetOk=!1),t.ackSelfClosing=!0;break;case v.PARAM:case v.TRACK:case v.SOURCE:e._appendElement(t,w.HTML),t.ackSelfClosing=!0;break;case v.IMAGE:t.tagName=P.IMG,t.tagID=v.IMG,r0(e,t);break;case v.BUTTON:e.openElements.hasInScope(v.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,w.HTML),e.framesetOk=!1;break;case v.APPLET:case v.OBJECT:case v.MARQUEE:e._reconstructActiveFormattingElements(),e._insertElement(t,w.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1;break;case v.IFRAME:e.framesetOk=!1,e._switchToTextParsing(t,t7.RAWTEXT);break;case v.SELECT:e._reconstructActiveFormattingElements(),e._insertElement(t,w.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===U.IN_TABLE||e.insertionMode===U.IN_CAPTION||e.insertionMode===U.IN_TABLE_BODY||e.insertionMode===U.IN_ROW||e.insertionMode===U.IN_CELL?U.IN_SELECT_IN_TABLE:U.IN_SELECT;break;case v.OPTION:case v.OPTGROUP:e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,w.HTML);break;case v.NOEMBED:r2(e,t);break;case v.FRAMESET:let i;i=e.openElements.tryPeekProperlyNestedBodyElement(),e.framesetOk&&i&&(e.treeAdapter.detachNode(i),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,w.HTML),e.insertionMode=U.IN_FRAMESET);break;case v.TEXTAREA:e._insertElement(t,w.HTML),e.skipNextNewLine=!0,e.tokenizer.state=t7.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=U.TEXT;break;case v.NOSCRIPT:e.options.scriptingEnabled?r2(e,t):r3(e,t);break;case v.PLAINTEXT:e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,w.HTML),e.tokenizer.state=t7.PLAINTEXT;break;case v.COL:case v.TH:case v.TD:case v.TR:case v.HEAD:case v.FRAME:case v.TBODY:case v.TFOOT:case v.THEAD:case v.CAPTION:case v.COLGROUP:break;default:r3(e,t)}}function r8(e,t){let r=t.tagName,n=t.tagID;for(let t=e.openElements.stackTop;t>0;t--){let a=e.openElements.items[t],s=e.openElements.tagIDs[t];if(n===s&&(n!==v.UNKNOWN||e.treeAdapter.getTagName(a)===r)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.stackTop>=t&&e.openElements.shortenToLength(t);break}if(e._isSpecialElement(a,s))break}}function r4(e,t){switch(t.tagID){case v.A:case v.B:case v.I:case v.S:case v.U:case v.EM:case v.TT:case v.BIG:case v.CODE:case v.FONT:case v.NOBR:case v.SMALL:case v.STRIKE:case v.STRONG:rH(e,t);break;case v.P:e.openElements.hasInButtonScope(v.P)||e._insertFakeElement(P.P,v.P),e._closePElement();break;case v.DL:case v.UL:case v.OL:case v.DIR:case v.DIV:case v.NAV:case v.PRE:case v.MAIN:case v.MENU:case v.ASIDE:case v.BUTTON:case v.CENTER:case v.FIGURE:case v.FOOTER:case v.HEADER:case v.HGROUP:case v.DIALOG:case v.ADDRESS:case v.ARTICLE:case v.DETAILS:case v.SECTION:case v.SUMMARY:case v.LISTING:case v.FIELDSET:case v.BLOCKQUOTE:case v.FIGCAPTION:let r;r=t.tagID,e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r));break;case v.LI:e.openElements.hasInListItemScope(v.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(v.LI),e.openElements.popUntilTagNamePopped(v.LI));break;case v.DD:case v.DT:let n;n=t.tagID,e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n));break;case v.H1:case v.H2:case v.H3:case v.H4:case v.H5:case v.H6:e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped());break;case v.BR:e._reconstructActiveFormattingElements(),e._insertFakeElement(P.BR,v.BR),e.openElements.pop(),e.framesetOk=!1;break;case v.BODY:if(e.openElements.hasInScope(v.BODY)&&(e.insertionMode=U.AFTER_BODY,e.options.sourceCodeLocationInfo)){let r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}break;case v.HTML:e.openElements.hasInScope(v.BODY)&&(e.insertionMode=U.AFTER_BODY,nf(e,t));break;case v.FORM:!function(e){let t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(v.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(v.FORM):r&&e.openElements.remove(r))}(e);break;case v.APPLET:case v.OBJECT:case v.MARQUEE:let a;a=t.tagID,e.openElements.hasInScope(a)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(a),e.activeFormattingElements.clearToLastMarker());break;case v.TEMPLATE:rz(e,t);break;default:r8(e,t)}}function r6(e,t){e.tmplInsertionModeStack.length>0?nm(e,t):r$(e,t)}function r9(e,t){if(rB.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=U.IN_TABLE_TEXT,t.type){case S.CHARACTER:nn(e,t);break;case S.WHITESPACE_CHARACTER:nr(e,t)}else nt(e,t)}function r7(e,t){switch(t.tagID){case v.TD:case v.TH:case v.TR:e.openElements.clearBackToTableContext(),e._insertFakeElement(P.TBODY,v.TBODY),e.insertionMode=U.IN_TABLE_BODY,nl(e,t);break;case v.STYLE:case v.SCRIPT:case v.TEMPLATE:rW(e,t);break;case v.COL:e.openElements.clearBackToTableContext(),e._insertFakeElement(P.COLGROUP,v.COLGROUP),e.insertionMode=U.IN_COLUMN_GROUP,ni(e,t);break;case v.FORM:e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,w.HTML),e.formElement=e.openElements.current,e.openElements.pop());break;case v.TABLE:e.openElements.hasInTableScope(v.TABLE)&&(e.openElements.popUntilTagNamePopped(v.TABLE),e._resetInsertionMode(),e._processStartTag(t));break;case v.TBODY:case v.TFOOT:case v.THEAD:e.openElements.clearBackToTableContext(),e._insertElement(t,w.HTML),e.insertionMode=U.IN_TABLE_BODY;break;case v.INPUT:r1(t)?e._appendElement(t,w.HTML):nt(e,t),t.ackSelfClosing=!0;break;case v.CAPTION:e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,w.HTML),e.insertionMode=U.IN_CAPTION;break;case v.COLGROUP:e.openElements.clearBackToTableContext(),e._insertElement(t,w.HTML),e.insertionMode=U.IN_COLUMN_GROUP;break;default:nt(e,t)}}function ne(e,t){switch(t.tagID){case v.TABLE:e.openElements.hasInTableScope(v.TABLE)&&(e.openElements.popUntilTagNamePopped(v.TABLE),e._resetInsertionMode());break;case v.TEMPLATE:rz(e,t);break;case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TBODY:case v.TD:case v.TFOOT:case v.TH:case v.THEAD:case v.TR:break;default:nt(e,t)}}function nt(e,t){let r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,rK(e,t),e.fosterParentingEnabled=r}function nr(e,t){e.pendingCharacterTokens.push(t)}function nn(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function na(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)nt(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}let ns=new Set([v.CAPTION,v.COL,v.COLGROUP,v.TBODY,v.TD,v.TFOOT,v.TH,v.THEAD,v.TR]);function ni(e,t){switch(t.tagID){case v.HTML:r5(e,t);break;case v.COL:e._appendElement(t,w.HTML),t.ackSelfClosing=!0;break;case v.TEMPLATE:rW(e,t);break;default:no(e,t)}}function no(e,t){e.openElements.currentTagId===v.COLGROUP&&(e.openElements.pop(),e.insertionMode=U.IN_TABLE,e._processToken(t))}function nl(e,t){switch(t.tagID){case v.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,w.HTML),e.insertionMode=U.IN_ROW;break;case v.TH:case v.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(P.TR,v.TR),e.insertionMode=U.IN_ROW,nu(e,t);break;case v.CAPTION:case v.COL:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=U.IN_TABLE,r7(e,t));break;default:r7(e,t)}}function nc(e,t){let r=t.tagID;switch(t.tagID){case v.TBODY:case v.TFOOT:case v.THEAD:e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=U.IN_TABLE);break;case v.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=U.IN_TABLE,ne(e,t));break;case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TD:case v.TH:case v.TR:break;default:ne(e,t)}}function nu(e,t){switch(t.tagID){case v.TH:case v.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,w.HTML),e.insertionMode=U.IN_CELL,e.activeFormattingElements.insertMarker();break;case v.CAPTION:case v.COL:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:case v.TR:e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=U.IN_TABLE_BODY,nl(e,t));break;default:r7(e,t)}}function nd(e,t){switch(t.tagID){case v.TR:e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=U.IN_TABLE_BODY);break;case v.TABLE:e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=U.IN_TABLE_BODY,nc(e,t));break;case v.TBODY:case v.TFOOT:case v.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(v.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=U.IN_TABLE_BODY,nc(e,t));break;case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TD:case v.TH:break;default:ne(e,t)}}function nh(e,t){switch(t.tagID){case v.HTML:r5(e,t);break;case v.OPTION:e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e._insertElement(t,w.HTML);break;case v.OPTGROUP:e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop(),e._insertElement(t,w.HTML);break;case v.INPUT:case v.KEYGEN:case v.TEXTAREA:case v.SELECT:e.openElements.hasInSelectScope(v.SELECT)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),t.tagID!==v.SELECT&&e._processStartTag(t));break;case v.SCRIPT:case v.TEMPLATE:rW(e,t)}}function np(e,t){switch(t.tagID){case v.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===v.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===v.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop();break;case v.OPTION:e.openElements.currentTagId===v.OPTION&&e.openElements.pop();break;case v.SELECT:e.openElements.hasInSelectScope(v.SELECT)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode());break;case v.TEMPLATE:rz(e,t)}}function nm(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(v.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):r$(e,t)}function nf(e,t){var r;if(t.tagID===v.HTML){if(e.fragmentContext||(e.insertionMode=U.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===v.HTML){e._setEndLocation(e.openElements.items[0],t);let n=e.openElements.items[1];!n||(null==(r=e.treeAdapter.getNodeSourceCodeLocation(n))?void 0:r.endTag)||e._setEndLocation(n,t)}}else ng(e,t)}function ng(e,t){e.insertionMode=U.IN_BODY,rK(e,t)}function nE(e,t){e.insertionMode=U.IN_BODY,rK(e,t)}function nT(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==w.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}let n_=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function nA(e,t){return function(r){let n,a=0,s="";for(;n=e.exec(r);)a!==n.index&&(s+=r.substring(a,n.index)),s+=t.get(n[0].charCodeAt(0)),a=n.index+1;return s+r.substring(a)}}null!=String.prototype.codePointAt||((e,t)=>(64512&e.charCodeAt(t))==55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t)),nA(/[&<>'"]/g,n_),nA(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),nA(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),P.AREA,P.BASE,P.BASEFONT,P.BGSOUND,P.BR,P.COL,P.EMBED,P.FRAME,P.HR,P.IMG,P.INPUT,P.KEYGEN,P.LINK,P.META,P.PARAM,P.SOURCE,P.TRACK,P.WBR;var nC=e.i(698931),nC=nC,nN=e.i(524527),nN=nN;let nb=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),ny={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function nk(e,t){var r,n;let a,s,i=!!((a="root"===(n=e).type?n.children[0]:n)&&("doctype"===a.type||"element"===a.type&&"html"===a.tagName)),o=tw("type",{handlers:{root:nI,element:nR,text:nL,comment:nO,doctype:nD,raw:nw},unknown:nM}),l={parser:i?new rU(ny):rU.getFragmentParser(void 0,ny),handle(e){o(e,l)},stitches:!1,options:t||{}};o(e,l),nx(l,(0,eI.pointStart)());let c=(r=i?l.parser.document:l.parser.getFragment(),tS({file:(s={file:l.options.file}).file||void 0,location:!1,schema:"svg"===s.space?e0.svg:e0.html,verbose:s.verbose||!1},r));return(l.stitches&&(0,ez.visit)(c,"comment",function(e,t,r){if(e.value.stitch&&r&&void 0!==t)return r.children[t]=e.value.stitch,t}),"root"===c.type&&1===c.children.length&&c.children[0].type===e.type)?c.children[0]:c}function nS(e,t){let r=-1;if(e)for(;++r<e.length;)t.handle(e[r])}function nI(e,t){nS(e.children,t)}function nR(e,t){(function(e,t){if(t.parser.tokenizer.state===t7.PLAINTEXT)return;nx(t,(0,eI.pointStart)(e));let r=t.parser.openElements.current,n="namespaceURI"in r?r.namespaceURI:te.html;n===te.html&&"svg"===e.tagName&&(n=te.svg);let a=tx({...e,children:[]},"svg"===({space:n===te.svg?"svg":"html"}).space?e0.svg:e0.html),s="attrs"in a?a.attrs:[],i={type:nC.TokenType.START_TAG,tagName:e.tagName,tagID:nN.getTagID(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:s,location:nv(e)};t.parser.currentToken=i,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=e.tagName})(e,t),nS(e.children,t),function(e,t){if(!t.parser.tokenizer.inForeignNode&&tB.includes(e.tagName)||t.parser.tokenizer.state===t7.PLAINTEXT)return;nx(t,(0,eI.pointEnd)(e));let r={type:nC.TokenType.END_TAG,tagName:e.tagName,tagID:nN.getTagID(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:nv(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),r.tagName===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===t7.RCDATA||t.parser.tokenizer.state===t7.RAWTEXT||t.parser.tokenizer.state===t7.SCRIPT_DATA)&&(t.parser.tokenizer.state=t7.DATA)}(e,t)}function nL(e,t){let r={type:nC.TokenType.CHARACTER,chars:e.value,location:nv(e)};nx(t,(0,eI.pointStart)(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function nD(e,t){let r={type:nC.TokenType.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:nv(e)};nx(t,(0,eI.pointStart)(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function nO(e,t){let r=e.value,n={type:nC.TokenType.COMMENT,data:r,location:nv(e)};nx(t,(0,eI.pointStart)(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function nw(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,nP(t,(0,eI.pointStart)(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),72===t.parser.tokenizer.state||78===t.parser.tokenizer.state){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;let e=t.parser.tokenizer._consume();t.parser.tokenizer._callState(e)}}function nM(e,t){if(t.options.passThrough&&t.options.passThrough.includes(e.type)){var r;let n;t.stitches=!0,n="children"in(r=e)?(0,tN.default)({...r,children:[]}):(0,tN.default)(r),"children"in e&&"children"in n&&(n.children=nk({type:"root",children:e.children},t.options).children),nO({type:"comment",value:{stitch:n}},t)}else{let t="";throw nb.has(e.type)&&(t=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),Error("Cannot compile `"+e.type+"` node"+t)}}function nx(e,t){nP(e,t);let r=e.parser.tokenizer.currentCharacterToken;r&&r.location&&(r.location.endLine=e.parser.tokenizer.preprocessor.line,r.location.endCol=e.parser.tokenizer.preprocessor.col+1,r.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=t7.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function nP(e,t){if(t&&void 0!==t.offset){let r={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=r}}function nv(e){let t=(0,eI.pointStart)(e)||{line:void 0,column:void 0,offset:void 0},r=(0,eI.pointEnd)(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:r.line,endCol:r.column,endOffset:r.offset}}function nB(e){return function(t,r){return nk(t,{...e,file:r})}}var nF=e.i(72645),nU=e.i(631206);let nH={};function nG(e){let t=e||nH,r=this.data(),n=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);n.push((0,nU.gfm)(t)),a.push((0,nF.gfmFromMarkdown)()),s.push((0,nF.gfmToMarkdown)(t))}var n$=e.i(205096),nj=e.i(186978),nY=e.i(126276);let nq={tokenize:function(e,t,r){let n=this,a=n.events[n.events.length-1],s=a&&"linePrefix"===a[1].type?a[2].sliceSerialize(a[1],!0).length:0,i=0;return function(t){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(n){return 36===n?(e.consume(n),i++,t):i<2?r(n):(e.exit("mathFlowFenceSequence"),(0,nj.factorySpace)(e,o,"whitespace")(n))}(t)};function o(t){return null===t||(0,nY.markdownLineEnding)(t)?l(t):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),function t(n){return null===n||(0,nY.markdownLineEnding)(n)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),l(n)):36===n?r(n):(e.consume(n),t)}(t))}function l(r){return(e.exit("mathFlowFence"),n.interrupt)?t(r):e.attempt(nW,c,h)(r)}function c(t){return e.attempt({tokenize:p,partial:!0},h,u)(t)}function u(t){return(s?(0,nj.factorySpace)(e,d,"linePrefix",s+1):d)(t)}function d(t){return null===t?h(t):(0,nY.markdownLineEnding)(t)?e.attempt(nW,c,h)(t):(e.enter("mathFlowValue"),function t(r){return null===r||(0,nY.markdownLineEnding)(r)?(e.exit("mathFlowValue"),d(r)):(e.consume(r),t)}(t))}function h(r){return e.exit("mathFlow"),t(r)}function p(e,t,r){let a=0;return(0,nj.factorySpace)(e,function(t){return e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(n){return 36===n?(a++,e.consume(n),t):a<i?r(n):(e.exit("mathFlowFenceSequence"),(0,nj.factorySpace)(e,s,"whitespace")(n))}(t)},"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function s(n){return null===n||(0,nY.markdownLineEnding)(n)?(e.exit("mathFlowFence"),t(n)):r(n)}}},concrete:!0},nW={tokenize:function(e,t,r){let n=this;return function(r){return null===r?t(r):(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),a)};function a(e){return n.parser.lazy[n.now().line]?r(e):t(e)}},partial:!0};function nz(e){let t,r,n=e.length-4,a=3;if(("lineEnding"===e[3][1].type||"space"===e[a][1].type)&&("lineEnding"===e[n][1].type||"space"===e[n][1].type)){for(t=a;++t<n;)if("mathTextData"===e[t][1].type){e[n][1].type="mathTextPadding",e[a][1].type="mathTextPadding",a+=2,n-=2;break}}for(t=a-1,n++;++t<=n;)void 0===r?t!==n&&"lineEnding"!==e[t][1].type&&(r=t):(t===n||"lineEnding"===e[t][1].type)&&(e[r][1].type="mathTextData",t!==r+2&&(e[r][1].end=e[t-1][1].end,e.splice(r+2,t-r-2),n-=t-r-2,t=r+2),r=void 0);return e}function nV(e){return 36!==e||"characterEscape"===this.events[this.events.length-1][1].type}let nQ={};function nX(e){let t,r=e||nQ,n=this.data(),a=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),i=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);a.push({flow:{36:nq},text:{36:(null==(t=(r||{}).singleDollarTextMath)&&(t=!0),{tokenize:function(e,r,n){let a,s,i=0;return function(r){return e.enter("mathText"),e.enter("mathTextSequence"),function r(a){return 36===a?(e.consume(a),i++,r):i<2&&!t?n(a):(e.exit("mathTextSequence"),o(a))}(r)};function o(t){return null===t?n(t):36===t?(s=e.enter("mathTextSequence"),a=0,function t(n){return 36===n?(e.consume(n),a++,t):a===i?(e.exit("mathTextSequence"),e.exit("mathText"),r(n)):(s.type="mathTextData",l(n))}(t)):32===t?(e.enter("space"),e.consume(t),e.exit("space"),o):(0,nY.markdownLineEnding)(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):(e.enter("mathTextData"),l(t))}function l(t){return null===t||32===t||36===t||(0,nY.markdownLineEnding)(t)?(e.exit("mathTextData"),o(t)):(e.consume(t),l)}},resolve:nz,previous:nV})}}),s.push(function(){return{enter:{mathFlow:function(e){this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[{type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]}]}},e)},mathFlowFenceMeta:function(){this.buffer()},mathText:function(e){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},e),this.buffer()}},exit:{mathFlow:function(e){let t=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),r=this.stack[this.stack.length-1];(0,G.ok)("math"===r.type),this.exit(e),r.value=t;let n=r.data.hChildren[0];(0,G.ok)("element"===n.type),(0,G.ok)("code"===n.tagName),n.children.push({type:"text",value:t}),this.data.mathFlowInside=void 0},mathFlowFence:function(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)},mathFlowFenceMeta:function(){let e=this.resume(),t=this.stack[this.stack.length-1];(0,G.ok)("math"===t.type),t.meta=e},mathFlowValue:e,mathText:function(e){let t=this.resume(),r=this.stack[this.stack.length-1];(0,G.ok)("inlineMath"===r.type),this.exit(e),r.value=t,r.data.hChildren.push({type:"text",value:t})},mathTextData:e}};function e(e){this.config.enter.data.call(this,e),this.config.exit.data.call(this,e)}}()),i.push(function(e){let t=(e||{}).singleDollarTextMath;return null==t&&(t=!0),r.peek=function(){return"$"},{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:"\n",inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:function(e,t,r,n){let a=e.value||"",s=r.createTracker(n),i="$".repeat(Math.max((0,n$.longestStreak)(a,"$")+1,2)),o=r.enter("mathFlow"),l=s.move(i);if(e.meta){let t=r.enter("mathFlowMeta");l+=s.move(r.safe(e.meta,{after:"\n",before:l,encode:["$"],...s.current()})),t()}return l+=s.move("\n"),a&&(l+=s.move(a+"\n")),l+=s.move(i),o(),l},inlineMath:r}};function r(e,r,n){let a=e.value||"",s=1;for(!t&&s++;RegExp("(^|[^$])"+"\\$".repeat(s)+"([^$]|$)").test(a);)s++;let i="$".repeat(s);/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^\$|\$$/.test(a))&&(a=" "+a+" ");let o=-1;for(;++o<n.unsafe.length;){let e,t=n.unsafe[o];if(!t.atBreak)continue;let r=n.compilePattern(t);for(;e=r.exec(a);){let t=e.index;10===a.codePointAt(t)&&13===a.codePointAt(t-1)&&t--,a=a.slice(0,t)+" "+a.slice(e.index+1)}}return i+a+i}}(r))}var nK=e.i(262236);let nJ=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},nZ=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var n0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n1=(0,H.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...o},l)=>(0,H.createElement)("svg",{ref:l,...n0,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:nZ("lucide",a),...!s&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(o)&&{"aria-hidden":"true"},...o},[...i.map(([e,t])=>(0,H.createElement)(e,t)),...Array.isArray(s)?s:[s]])),n2=(e,t)=>{let r=(0,H.forwardRef)(({className:r,...n},a)=>(0,H.createElement)(n1,{ref:a,iconNode:t,className:nZ(`lucide-${nJ(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...n}));return r.displayName=nJ(e),r},n3=n2("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),n5=n2("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),n8=n2("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),n4=[{id:"abap",name:"ABAP",import:()=>e.A(997915)},{id:"actionscript-3",name:"ActionScript",import:()=>e.A(556963)},{id:"ada",name:"Ada",import:()=>e.A(904421)},{id:"angular-html",name:"Angular HTML",import:()=>e.A(804282)},{id:"angular-ts",name:"Angular TypeScript",import:()=>e.A(592599)},{id:"apache",name:"Apache Conf",import:()=>e.A(584581)},{id:"apex",name:"Apex",import:()=>e.A(328838)},{id:"apl",name:"APL",import:()=>e.A(381934)},{id:"applescript",name:"AppleScript",import:()=>e.A(277874)},{id:"ara",name:"Ara",import:()=>e.A(416887)},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:()=>e.A(574920)},{id:"asm",name:"Assembly",import:()=>e.A(669796)},{id:"astro",name:"Astro",import:()=>e.A(796068)},{id:"awk",name:"AWK",import:()=>e.A(414907)},{id:"ballerina",name:"Ballerina",import:()=>e.A(786514)},{id:"bat",name:"Batch File",aliases:["batch"],import:()=>e.A(99668)},{id:"beancount",name:"Beancount",import:()=>e.A(109880)},{id:"berry",name:"Berry",aliases:["be"],import:()=>e.A(197642)},{id:"bibtex",name:"BibTeX",import:()=>e.A(190756)},{id:"bicep",name:"Bicep",import:()=>e.A(32046)},{id:"blade",name:"Blade",import:()=>e.A(461085)},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:()=>e.A(195300)},{id:"c",name:"C",import:()=>e.A(101978)},{id:"cadence",name:"Cadence",aliases:["cdc"],import:()=>e.A(261450)},{id:"cairo",name:"Cairo",import:()=>e.A(13502)},{id:"clarity",name:"Clarity",import:()=>e.A(202456)},{id:"clojure",name:"Clojure",aliases:["clj"],import:()=>e.A(358028)},{id:"cmake",name:"CMake",import:()=>e.A(239499)},{id:"cobol",name:"COBOL",import:()=>e.A(701397)},{id:"codeowners",name:"CODEOWNERS",import:()=>e.A(817907)},{id:"codeql",name:"CodeQL",aliases:["ql"],import:()=>e.A(324741)},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:()=>e.A(568692)},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:()=>e.A(534415)},{id:"coq",name:"Coq",import:()=>e.A(162408)},{id:"cpp",name:"C++",aliases:["c++"],import:()=>e.A(444353)},{id:"crystal",name:"Crystal",import:()=>e.A(235641)},{id:"csharp",name:"C#",aliases:["c#","cs"],import:()=>e.A(39538)},{id:"css",name:"CSS",import:()=>e.A(48241)},{id:"csv",name:"CSV",import:()=>e.A(349917)},{id:"cue",name:"CUE",import:()=>e.A(148462)},{id:"cypher",name:"Cypher",aliases:["cql"],import:()=>e.A(810562)},{id:"d",name:"D",import:()=>e.A(512815)},{id:"dart",name:"Dart",import:()=>e.A(98104)},{id:"dax",name:"DAX",import:()=>e.A(145383)},{id:"desktop",name:"Desktop",import:()=>e.A(786538)},{id:"diff",name:"Diff",import:()=>e.A(23391)},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:()=>e.A(328867)},{id:"dotenv",name:"dotEnv",import:()=>e.A(289478)},{id:"dream-maker",name:"Dream Maker",import:()=>e.A(404384)},{id:"edge",name:"Edge",import:()=>e.A(419852)},{id:"elixir",name:"Elixir",import:()=>e.A(169558)},{id:"elm",name:"Elm",import:()=>e.A(887247)},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:()=>e.A(901652)},{id:"erb",name:"ERB",import:()=>e.A(811084)},{id:"erlang",name:"Erlang",aliases:["erl"],import:()=>e.A(464652)},{id:"fennel",name:"Fennel",import:()=>e.A(214360)},{id:"fish",name:"Fish",import:()=>e.A(151036)},{id:"fluent",name:"Fluent",aliases:["ftl"],import:()=>e.A(464161)},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:()=>e.A(654314)},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:()=>e.A(543337)},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:()=>e.A(443979)},{id:"gdresource",name:"GDResource",import:()=>e.A(400514)},{id:"gdscript",name:"GDScript",import:()=>e.A(25840)},{id:"gdshader",name:"GDShader",import:()=>e.A(718203)},{id:"genie",name:"Genie",import:()=>e.A(664176)},{id:"gherkin",name:"Gherkin",import:()=>e.A(869846)},{id:"git-commit",name:"Git Commit Message",import:()=>e.A(908470)},{id:"git-rebase",name:"Git Rebase Message",import:()=>e.A(717852)},{id:"gleam",name:"Gleam",import:()=>e.A(51689)},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:()=>e.A(578603)},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:()=>e.A(833958)},{id:"glsl",name:"GLSL",import:()=>e.A(223244)},{id:"gnuplot",name:"Gnuplot",import:()=>e.A(943654)},{id:"go",name:"Go",import:()=>e.A(240319)},{id:"graphql",name:"GraphQL",aliases:["gql"],import:()=>e.A(907964)},{id:"groovy",name:"Groovy",import:()=>e.A(768182)},{id:"hack",name:"Hack",import:()=>e.A(92962)},{id:"haml",name:"Ruby Haml",import:()=>e.A(517687)},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:()=>e.A(88042)},{id:"haskell",name:"Haskell",aliases:["hs"],import:()=>e.A(40617)},{id:"haxe",name:"Haxe",import:()=>e.A(136561)},{id:"hcl",name:"HashiCorp HCL",import:()=>e.A(579015)},{id:"hjson",name:"Hjson",import:()=>e.A(273402)},{id:"hlsl",name:"HLSL",import:()=>e.A(243061)},{id:"html",name:"HTML",import:()=>e.A(613751)},{id:"html-derivative",name:"HTML (Derivative)",import:()=>e.A(753923)},{id:"http",name:"HTTP",import:()=>e.A(502675)},{id:"hxml",name:"HXML",import:()=>e.A(634822)},{id:"hy",name:"Hy",import:()=>e.A(975074)},{id:"imba",name:"Imba",import:()=>e.A(428974)},{id:"ini",name:"INI",aliases:["properties"],import:()=>e.A(770320)},{id:"java",name:"Java",import:()=>e.A(760664)},{id:"javascript",name:"JavaScript",aliases:["js"],import:()=>e.A(787665)},{id:"jinja",name:"Jinja",import:()=>e.A(569385)},{id:"jison",name:"Jison",import:()=>e.A(346409)},{id:"json",name:"JSON",import:()=>e.A(227404)},{id:"json5",name:"JSON5",import:()=>e.A(539474)},{id:"jsonc",name:"JSON with Comments",import:()=>e.A(986832)},{id:"jsonl",name:"JSON Lines",import:()=>e.A(670064)},{id:"jsonnet",name:"Jsonnet",import:()=>e.A(909132)},{id:"jssm",name:"JSSM",aliases:["fsl"],import:()=>e.A(213500)},{id:"jsx",name:"JSX",import:()=>e.A(116860)},{id:"julia",name:"Julia",aliases:["jl"],import:()=>e.A(181348)},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:()=>e.A(930819)},{id:"kusto",name:"Kusto",aliases:["kql"],import:()=>e.A(176589)},{id:"latex",name:"LaTeX",import:()=>e.A(449115)},{id:"lean",name:"Lean 4",aliases:["lean4"],import:()=>e.A(141721)},{id:"less",name:"Less",import:()=>e.A(582135)},{id:"liquid",name:"Liquid",import:()=>e.A(315950)},{id:"llvm",name:"LLVM IR",import:()=>e.A(865088)},{id:"log",name:"Log file",import:()=>e.A(23393)},{id:"logo",name:"Logo",import:()=>e.A(163369)},{id:"lua",name:"Lua",import:()=>e.A(985702)},{id:"luau",name:"Luau",import:()=>e.A(652319)},{id:"make",name:"Makefile",aliases:["makefile"],import:()=>e.A(444358)},{id:"markdown",name:"Markdown",aliases:["md"],import:()=>e.A(384698)},{id:"marko",name:"Marko",import:()=>e.A(414088)},{id:"matlab",name:"MATLAB",import:()=>e.A(924656)},{id:"mdc",name:"MDC",import:()=>e.A(197107)},{id:"mdx",name:"MDX",import:()=>e.A(547159)},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:()=>e.A(598176)},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:()=>e.A(353886)},{id:"mojo",name:"Mojo",import:()=>e.A(701417)},{id:"move",name:"Move",import:()=>e.A(284159)},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:()=>e.A(417106)},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:()=>e.A(300583)},{id:"nginx",name:"Nginx",import:()=>e.A(590059)},{id:"nim",name:"Nim",import:()=>e.A(197857)},{id:"nix",name:"Nix",import:()=>e.A(261262)},{id:"nushell",name:"nushell",aliases:["nu"],import:()=>e.A(777710)},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:()=>e.A(12232)},{id:"objective-cpp",name:"Objective-C++",import:()=>e.A(158848)},{id:"ocaml",name:"OCaml",import:()=>e.A(998842)},{id:"pascal",name:"Pascal",import:()=>e.A(328145)},{id:"perl",name:"Perl",import:()=>e.A(135464)},{id:"php",name:"PHP",import:()=>e.A(366065)},{id:"plsql",name:"PL/SQL",import:()=>e.A(857016)},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:()=>e.A(817641)},{id:"polar",name:"Polar",import:()=>e.A(509924)},{id:"postcss",name:"PostCSS",import:()=>e.A(867347)},{id:"powerquery",name:"PowerQuery",import:()=>e.A(723591)},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:()=>e.A(318512)},{id:"prisma",name:"Prisma",import:()=>e.A(780959)},{id:"prolog",name:"Prolog",import:()=>e.A(16416)},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:()=>e.A(945324)},{id:"pug",name:"Pug",aliases:["jade"],import:()=>e.A(430646)},{id:"puppet",name:"Puppet",import:()=>e.A(882813)},{id:"purescript",name:"PureScript",import:()=>e.A(223530)},{id:"python",name:"Python",aliases:["py"],import:()=>e.A(319384)},{id:"qml",name:"QML",import:()=>e.A(150352)},{id:"qmldir",name:"QML Directory",import:()=>e.A(439666)},{id:"qss",name:"Qt Style Sheets",import:()=>e.A(238748)},{id:"r",name:"R",import:()=>e.A(280379)},{id:"racket",name:"Racket",import:()=>e.A(188329)},{id:"raku",name:"Raku",aliases:["perl6"],import:()=>e.A(308970)},{id:"razor",name:"ASP.NET Razor",import:()=>e.A(4064)},{id:"reg",name:"Windows Registry Script",import:()=>e.A(138709)},{id:"regexp",name:"RegExp",aliases:["regex"],import:()=>e.A(616876)},{id:"rel",name:"Rel",import:()=>e.A(491892)},{id:"riscv",name:"RISC-V",import:()=>e.A(818490)},{id:"rst",name:"reStructuredText",import:()=>e.A(4379)},{id:"ruby",name:"Ruby",aliases:["rb"],import:()=>e.A(923866)},{id:"rust",name:"Rust",aliases:["rs"],import:()=>e.A(613848)},{id:"sas",name:"SAS",import:()=>e.A(62468)},{id:"sass",name:"Sass",import:()=>e.A(687315)},{id:"scala",name:"Scala",import:()=>e.A(705802)},{id:"scheme",name:"Scheme",import:()=>e.A(550703)},{id:"scss",name:"SCSS",import:()=>e.A(584101)},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:()=>e.A(591245)},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:()=>e.A(603876)},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:()=>e.A(62859)},{id:"shellsession",name:"Shell Session",aliases:["console"],import:()=>e.A(705166)},{id:"smalltalk",name:"Smalltalk",import:()=>e.A(837573)},{id:"solidity",name:"Solidity",import:()=>e.A(910515)},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:()=>e.A(939646)},{id:"sparql",name:"SPARQL",import:()=>e.A(443149)},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:()=>e.A(942664)},{id:"sql",name:"SQL",import:()=>e.A(35008)},{id:"ssh-config",name:"SSH Config",import:()=>e.A(948437)},{id:"stata",name:"Stata",import:()=>e.A(148641)},{id:"stylus",name:"Stylus",aliases:["styl"],import:()=>e.A(950337)},{id:"svelte",name:"Svelte",import:()=>e.A(295097)},{id:"swift",name:"Swift",import:()=>e.A(960193)},{id:"system-verilog",name:"SystemVerilog",import:()=>e.A(271341)},{id:"systemd",name:"Systemd Units",import:()=>e.A(616634)},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:()=>e.A(662820)},{id:"tasl",name:"Tasl",import:()=>e.A(949219)},{id:"tcl",name:"Tcl",import:()=>e.A(55834)},{id:"templ",name:"Templ",import:()=>e.A(910727)},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:()=>e.A(936386)},{id:"tex",name:"TeX",import:()=>e.A(866261)},{id:"toml",name:"TOML",import:()=>e.A(407025)},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:()=>e.A(104773)},{id:"tsv",name:"TSV",import:()=>e.A(790864)},{id:"tsx",name:"TSX",import:()=>e.A(53476)},{id:"turtle",name:"Turtle",import:()=>e.A(849850)},{id:"twig",name:"Twig",import:()=>e.A(82904)},{id:"typescript",name:"TypeScript",aliases:["ts"],import:()=>e.A(614897)},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:()=>e.A(773426)},{id:"typst",name:"Typst",aliases:["typ"],import:()=>e.A(824686)},{id:"v",name:"V",import:()=>e.A(423889)},{id:"vala",name:"Vala",import:()=>e.A(49138)},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:()=>e.A(648408)},{id:"verilog",name:"Verilog",import:()=>e.A(422734)},{id:"vhdl",name:"VHDL",import:()=>e.A(728751)},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:()=>e.A(799656)},{id:"vue",name:"Vue",import:()=>e.A(109612)},{id:"vue-html",name:"Vue HTML",import:()=>e.A(989663)},{id:"vue-vine",name:"Vue Vine",import:()=>e.A(127789)},{id:"vyper",name:"Vyper",aliases:["vy"],import:()=>e.A(84696)},{id:"wasm",name:"WebAssembly",import:()=>e.A(545135)},{id:"wenyan",name:"Wenyan",aliases:[""],import:()=>e.A(945899)},{id:"wgsl",name:"WGSL",import:()=>e.A(875888)},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:()=>e.A(199191)},{id:"wit",name:"WebAssembly Interface Types",import:()=>e.A(558532)},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:()=>e.A(410610)},{id:"xml",name:"XML",import:()=>e.A(913344)},{id:"xsl",name:"XSL",import:()=>e.A(331875)},{id:"yaml",name:"YAML",aliases:["yml"],import:()=>e.A(446419)},{id:"zenscript",name:"ZenScript",import:()=>e.A(392534)},{id:"zig",name:"Zig",import:()=>e.A(895922)}],n6=Object.fromEntries(n4.map(e=>[e.id,e.import])),n9=Object.fromEntries(n4.flatMap(e=>e.aliases?.map(t=>[t,e.import])||[])),n7={...n6,...n9};class ae extends Error{constructor(e){super(e),this.name="ShikiError"}}var at=e.i(744541);function ar(e,...t){return t.forEach(t=>{for(let r in t)e[r]=t[r]}),e}var an=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,aa=class{static hasCaptures(e){return null!==e&&(an.lastIndex=0,an.test(e))}static replaceCaptures(e,t,r){return e.replace(an,(e,n,a,s)=>{let i=r[parseInt(n||a,10)];if(!i)return e;{let e=t.substring(i.start,i.end);for(;"."===e[0];)e=e.substring(1);switch(s){case"downcase":return e.toLowerCase();case"upcase":return e.toUpperCase();default:return e}}})}};function as(e,t){if(null===e&&null===t)return 0;if(!e)return -1;if(!t)return 1;let r=e.length,n=t.length;if(r===n){for(let n=0;n<r;n++){var a,s;let r=(a=e[n],a<(s=t[n])?-1:+(a>s));if(0!==r)return r}return 0}return r-n}function ai(e){return!!(/^#[0-9a-f]{6}$/i.test(e)||/^#[0-9a-f]{8}$/i.test(e)||/^#[0-9a-f]{3}$/i.test(e)||/^#[0-9a-f]{4}$/i.test(e))}function ao(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var al=class{constructor(e){this.fn=e}cache=new Map;get(e){if(this.cache.has(e))return this.cache.get(e);let t=this.fn(e);return this.cache.set(e,t),t}},ac=class{constructor(e,t,r){this._colorMap=e,this._defaults=t,this._root=r}static createFromRawTheme(e,t){return this.createFromParsedTheme(function(e){if(!e||!e.settings||!Array.isArray(e.settings))return[];let t=e.settings,r=[],n=0;for(let e=0,a=t.length;e<a;e++){let a,s=t[e];if(!s.settings)continue;if("string"==typeof s.scope){let e=s.scope;a=(e=(e=e.replace(/^[,]+/,"")).replace(/[,]+$/,"")).split(",")}else a=Array.isArray(s.scope)?s.scope:[""];let i=-1;if("string"==typeof s.settings.fontStyle){i=0;let e=s.settings.fontStyle.split(" ");for(let t=0,r=e.length;t<r;t++)switch(e[t]){case"italic":i|=1;break;case"bold":i|=2;break;case"underline":i|=4;break;case"strikethrough":i|=8}}let o=null;"string"==typeof s.settings.foreground&&ai(s.settings.foreground)&&(o=s.settings.foreground);let l=null;"string"==typeof s.settings.background&&ai(s.settings.background)&&(l=s.settings.background);for(let t=0,s=a.length;t<s;t++){let s=a[t].trim().split(" "),c=s[s.length-1],u=null;s.length>1&&(u=s.slice(0,s.length-1)).reverse(),r[n++]=new ah(c,u,e,i,o,l)}}return r}(e),t)}static createFromParsedTheme(e,t){return function(e,t){e.sort((e,t)=>{var r,n;let a=(r=e.scope,r<(n=t.scope)?-1:+(r>n));return 0!==a||0!==(a=as(e.parentScopes,t.parentScopes))?a:e.index-t.index});let r=0,n="#000000",a="#ffffff";for(;e.length>=1&&""===e[0].scope;){let t=e.shift();-1!==t.fontStyle&&(r=t.fontStyle),null!==t.foreground&&(n=t.foreground),null!==t.background&&(a=t.background)}let s=new am(t),i=new ad(r,s.getId(n),s.getId(a)),o=new aE(new ag(0,null,-1,0,0),[]);for(let t=0,r=e.length;t<r;t++){let r=e[t];o.insert(0,r.scope,r.parentScopes,r.fontStyle,s.getId(r.foreground),s.getId(r.background))}return new ac(s,i,o)}(e,t)}_cachedMatchRoot=new al(e=>this._root.match(e));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(e){if(null===e)return this._defaults;let t=e.scopeName,r=this._cachedMatchRoot.get(t).find(t=>(function(e,t){if(0===t.length)return!0;for(let a=0;a<t.length;a++){var r,n;let s=t[a],i=!1;if(">"===s){if(a===t.length-1)return!1;s=t[++a],i=!0}for(;e&&(r=e.scopeName,!((n=s)===r||r.startsWith(n)&&"."===r[n.length]));){if(i)return!1;e=e.parent}if(!e)return!1;e=e.parent}return!0})(e.parent,t.parentScopes));return r?new ad(r.fontStyle,r.foreground,r.background):null}},au=class e{constructor(e,t){this.parent=e,this.scopeName=t}static push(t,r){for(let n of r)t=new e(t,n);return t}static from(...t){let r=null;for(let n=0;n<t.length;n++)r=new e(r,t[n]);return r}push(t){return new e(this,t)}getSegments(){let e=this,t=[];for(;e;)t.push(e.scopeName),e=e.parent;return t.reverse(),t}toString(){return this.getSegments().join(" ")}extends(e){return this===e||null!==this.parent&&this.parent.extends(e)}getExtensionIfDefined(e){let t=[],r=this;for(;r&&r!==e;)t.push(r.scopeName),r=r.parent;return r===e?t.reverse():void 0}},ad=class{constructor(e,t,r){this.fontStyle=e,this.foregroundId=t,this.backgroundId=r}},ah=class{constructor(e,t,r,n,a,s){this.scope=e,this.parentScopes=t,this.index=r,this.fontStyle=n,this.foreground=a,this.background=s}},ap=((C=ap||{})[C.NotSet=-1]="NotSet",C[C.None=0]="None",C[C.Italic=1]="Italic",C[C.Bold=2]="Bold",C[C.Underline=4]="Underline",C[C.Strikethrough=8]="Strikethrough",C),am=class{_isFrozen;_lastColorId;_id2color;_color2id;constructor(e){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(e)){this._isFrozen=!0;for(let t=0,r=e.length;t<r;t++)this._color2id[e[t]]=t,this._id2color[t]=e[t]}else this._isFrozen=!1}getId(e){if(null===e)return 0;e=e.toUpperCase();let t=this._color2id[e];if(t)return t;if(this._isFrozen)throw Error(`Missing color in color map - ${e}`);return t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t}getColorMap(){return this._id2color.slice(0)}},af=Object.freeze([]),ag=class e{scopeDepth;parentScopes;fontStyle;foreground;background;constructor(e,t,r,n,a){this.scopeDepth=e,this.parentScopes=t||af,this.fontStyle=r,this.foreground=n,this.background=a}clone(){return new e(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let t=[];for(let r=0,n=e.length;r<n;r++)t[r]=e[r].clone();return t}acceptOverwrite(e,t,r,n){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,-1!==t&&(this.fontStyle=t),0!==r&&(this.foreground=r),0!==n&&(this.background=n)}},aE=class e{constructor(e,t=[],r={}){this._mainRule=e,this._children=r,this._rulesWithParentScopes=t}_rulesWithParentScopes;static _cmpBySpecificity(e,t){if(e.scopeDepth!==t.scopeDepth)return t.scopeDepth-e.scopeDepth;let r=0,n=0;for(;">"===e.parentScopes[r]&&r++,">"===t.parentScopes[n]&&n++,!(r>=e.parentScopes.length)&&!(n>=t.parentScopes.length);){let a=t.parentScopes[n].length-e.parentScopes[r].length;if(0!==a)return a;r++,n++}return t.parentScopes.length-e.parentScopes.length}match(t){if(""!==t){let e,r,n=t.indexOf(".");if(-1===n?(e=t,r=""):(e=t.substring(0,n),r=t.substring(n+1)),this._children.hasOwnProperty(e))return this._children[e].match(r)}let r=this._rulesWithParentScopes.concat(this._mainRule);return r.sort(e._cmpBySpecificity),r}insert(t,r,n,a,s,i){let o,l,c;if(""===r)return void this._doInsertHere(t,n,a,s,i);let u=r.indexOf(".");-1===u?(o=r,l=""):(o=r.substring(0,u),l=r.substring(u+1)),this._children.hasOwnProperty(o)?c=this._children[o]:(c=new e(this._mainRule.clone(),ag.cloneArr(this._rulesWithParentScopes)),this._children[o]=c),c.insert(t+1,l,n,a,s,i)}_doInsertHere(e,t,r,n,a){if(null===t)return void this._mainRule.acceptOverwrite(e,r,n,a);for(let s=0,i=this._rulesWithParentScopes.length;s<i;s++){let i=this._rulesWithParentScopes[s];if(0===as(i.parentScopes,t))return void i.acceptOverwrite(e,r,n,a)}-1===r&&(r=this._mainRule.fontStyle),0===n&&(n=this._mainRule.foreground),0===a&&(a=this._mainRule.background),this._rulesWithParentScopes.push(new ag(e,t,r,n,a))}},aT=class e{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(t){let r=e.getLanguageId(t),n=e.getTokenType(t),a=e.getFontStyle(t);console.log({languageId:r,tokenType:n,fontStyle:a,foreground:e.getForeground(t),background:e.getBackground(t)})}static getLanguageId(e){return(255&e)>>>0}static getTokenType(e){return(768&e)>>>8}static containsBalancedBrackets(e){return(1024&e)!=0}static getFontStyle(e){return(30720&e)>>>11}static getForeground(e){return(0xff8000&e)>>>15}static getBackground(e){return(0xff000000&e)>>>24}static set(t,r,n,a,s,i,o){let l=e.getLanguageId(t),c=e.getTokenType(t),u=+!!e.containsBalancedBrackets(t),d=e.getFontStyle(t),h=e.getForeground(t),p=e.getBackground(t);return 0!==r&&(l=r),8!==n&&(c=n),null!==a&&(u=+!!a),-1!==s&&(d=s),0!==i&&(h=i),0!==o&&(p=o),(l|c<<8|u<<10|d<<11|h<<15|p<<24)>>>0}};function a_(e,t){var r;let n,a,s=[],i=(r=e,a=(n=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g).exec(r),{next:()=>{if(!a)return null;let e=a[0];return a=n.exec(r),e}}),o=i.next();for(;null!==o;){let e=0;if(2===o.length&&":"===o.charAt(1)){switch(o.charAt(0)){case"R":e=1;break;case"L":e=-1;break;default:console.log(`Unknown priority ${o} in scope selector`)}o=i.next()}let t=c();if(s.push({matcher:t,priority:e}),","!==o)break;o=i.next()}return s;function l(){if("-"===o){o=i.next();let e=l();return t=>!!e&&!e(t)}if("("===o){o=i.next();let e=function(){let e=[],t=c();for(;t&&(e.push(t),"|"===o||","===o);){do o=i.next();while("|"===o||","===o)t=c()}return t=>e.some(e=>e(t))}();return")"===o&&(o=i.next()),e}if(aA(o)){let e=[];do e.push(o),o=i.next();while(aA(o))return r=>t(e,r)}return null}function c(){let e=[],t=l();for(;t;)e.push(t),t=l();return t=>e.every(e=>e(t))}}function aA(e){return!!e&&!!e.match(/[\w\.:]+/)}var aC=((N=aC||{})[N.None=0]="None",N[N.NotBeginString=1]="NotBeginString",N[N.NotEndString=2]="NotEndString",N[N.NotBeginPosition=4]="NotBeginPosition",N[N.DebugCall=8]="DebugCall",N);function aN(e){"function"==typeof e.dispose&&e.dispose()}var ab=class{constructor(e){this.scopeName=e}toKey(){return this.scopeName}},ay=class{constructor(e,t){this.scopeName=e,this.ruleName=t}toKey(){return`${this.scopeName}#${this.ruleName}`}},ak=class{_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(e){let t=e.toKey();this._seenReferenceKeys.has(t)||(this._seenReferenceKeys.add(t),this._references.push(e))}},aS=class{constructor(e,t){this.repo=e,this.initialScopeName=t,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new ab(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){let e=this.Q;this.Q=[];let t=new ak;for(let r of e)!function(e,t,r,n){let a=r.lookup(e.scopeName);if(!a){if(e.scopeName===t)throw Error(`No grammar provided for <${t}>`);return}let s=r.lookup(t);e instanceof ab?aR({baseGrammar:s,selfGrammar:a},n):aI(e.ruleName,{baseGrammar:s,selfGrammar:a,repository:a.repository},n);let i=r.injections(e.scopeName);if(i)for(let e of i)n.add(new ab(e))}(r,this.initialScopeName,this.repo,t);for(let e of t.references)if(e instanceof ab){if(this.seenFullScopeRequests.has(e.scopeName))continue;this.seenFullScopeRequests.add(e.scopeName),this.Q.push(e)}else{if(this.seenFullScopeRequests.has(e.scopeName)||this.seenPartialScopeRequests.has(e.toKey()))continue;this.seenPartialScopeRequests.add(e.toKey()),this.Q.push(e)}}};function aI(e,t,r){t.repository&&t.repository[e]&&aL([t.repository[e]],t,r)}function aR(e,t){e.selfGrammar.patterns&&Array.isArray(e.selfGrammar.patterns)&&aL(e.selfGrammar.patterns,{...e,repository:e.selfGrammar.repository},t),e.selfGrammar.injections&&aL(Object.values(e.selfGrammar.injections),{...e,repository:e.selfGrammar.repository},t)}function aL(e,t,r){for(let n of e){if(r.visitedRule.has(n))continue;r.visitedRule.add(n);let e=n.repository?ar({},t.repository,n.repository):t.repository;Array.isArray(n.patterns)&&aL(n.patterns,{...t,repository:e},r);let a=n.include;if(!a)continue;let s=aP(a);switch(s.kind){case 0:aR({...t,selfGrammar:t.baseGrammar},r);break;case 1:aR(t,r);break;case 2:aI(s.ruleName,{...t,repository:e},r);break;case 3:case 4:let i=s.scopeName===t.selfGrammar.scopeName?t.selfGrammar:s.scopeName===t.baseGrammar.scopeName?t.baseGrammar:void 0;if(i){let n={baseGrammar:t.baseGrammar,selfGrammar:i,repository:e};4===s.kind?aI(s.ruleName,n,r):aR(n,r)}else 4===s.kind?r.add(new ay(s.scopeName,s.ruleName)):r.add(new ab(s.scopeName))}}}var aD=class{kind=0},aO=class{kind=1},aw=class{constructor(e){this.ruleName=e}kind=2},aM=class{constructor(e){this.scopeName=e}kind=3},ax=class{constructor(e,t){this.scopeName=e,this.ruleName=t}kind=4};function aP(e){if("$base"===e)return new aD;if("$self"===e)return new aO;let t=e.indexOf("#");return -1===t?new aM(e):0===t?new aw(e.substring(1)):new ax(e.substring(0,t),e.substring(t+1))}var av=/\\(\d+)/,aB=/\\(\d+)/g;Symbol("RuleId");var aF=class{$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(e,t,r,n){this.$location=e,this.id=t,this._name=r||null,this._nameIsCapturing=aa.hasCaptures(this._name),this._contentName=n||null,this._contentNameIsCapturing=aa.hasCaptures(this._contentName)}get debugName(){let e=this.$location?`${function e(t){let r=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return 0===r?t:~r==t.length-1?e(t.substring(0,t.length-1)):t.substr(~r+1)}(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,t){return this._nameIsCapturing&&null!==this._name&&null!==e&&null!==t?aa.replaceCaptures(this._name,e,t):this._name}getContentName(e,t){return this._contentNameIsCapturing&&null!==this._contentName?aa.replaceCaptures(this._contentName,e,t):this._contentName}},aU=class extends aF{retokenizeCapturedWithRuleId;constructor(e,t,r,n,a){super(e,t,r,n),this.retokenizeCapturedWithRuleId=a}dispose(){}collectPatterns(e,t){throw Error("Not supported!")}compile(e,t){throw Error("Not supported!")}compileAG(e,t,r,n){throw Error("Not supported!")}},aH=class extends aF{_match;captures;_cachedCompiledPatterns;constructor(e,t,r,n,a){super(e,t,r,null),this._match=new aq(n,this.id),this.captures=a,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(e,t){t.push(this._match)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new aW,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},aG=class extends aF{hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(e,t,r,n,a){super(e,t,r,n),this.patterns=a.patterns,this.hasMissingPatterns=a.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(e,t){for(let r of this.patterns)e.getRule(r).collectPatterns(e,t)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new aW,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},a$=class extends aF{_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(e,t,r,n,a,s,i,o,l,c){super(e,t,r,n),this._begin=new aq(a,this.id),this.beginCaptures=s,this._end=new aq(i||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=o,this.applyEndPatternLast=l||!1,this.patterns=c.patterns,this.hasMissingPatterns=c.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(e,t){return this._end.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e,t).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e,t).compileAG(e,r,n)}_getCachedCompiledPatterns(e,t){if(!this._cachedCompiledPatterns){for(let t of(this._cachedCompiledPatterns=new aW,this.patterns))e.getRule(t).collectPatterns(e,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,t):this._cachedCompiledPatterns.setSource(0,t)),this._cachedCompiledPatterns}},aj=class extends aF{_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(e,t,r,n,a,s,i,o,l){super(e,t,r,n),this._begin=new aq(a,this.id),this.beginCaptures=s,this.whileCaptures=o,this._while=new aq(i,-2),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=l.patterns,this.hasMissingPatterns=l.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(e,t){return this._while.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns)for(let t of(this._cachedCompiledPatterns=new aW,this.patterns))e.getRule(t).collectPatterns(e,this._cachedCompiledPatterns);return this._cachedCompiledPatterns}compileWhile(e,t){return this._getCachedCompiledWhilePatterns(e,t).compile(e)}compileWhileAG(e,t,r,n){return this._getCachedCompiledWhilePatterns(e,t).compileAG(e,r,n)}_getCachedCompiledWhilePatterns(e,t){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new aW,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,t||""),this._cachedCompiledWhilePatterns}},aY=class e{static createCaptureRule(e,t,r,n,a){return e.registerRule(e=>new aU(t,e,r,n,a))}static getCompiledRuleId(t,r,n){return t.id||r.registerRule(a=>{if(t.id=a,t.match)return new aH(t.$vscodeTextmateLocation,t.id,t.name,t.match,e._compileCaptures(t.captures,r,n));if(void 0===t.begin){t.repository&&(n=ar({},n,t.repository));let a=t.patterns;return void 0===a&&t.include&&(a=[{include:t.include}]),new aG(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,e._compilePatterns(a,r,n))}return t.while?new aj(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,r,n),t.while,e._compileCaptures(t.whileCaptures||t.captures,r,n),e._compilePatterns(t.patterns,r,n)):new a$(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,r,n),t.end,e._compileCaptures(t.endCaptures||t.captures,r,n),t.applyEndPatternLast,e._compilePatterns(t.patterns,r,n))}),t.id}static _compileCaptures(t,r,n){let a=[];if(t){let s=0;for(let e in t){if("$vscodeTextmateLocation"===e)continue;let t=parseInt(e,10);t>s&&(s=t)}for(let e=0;e<=s;e++)a[e]=null;for(let s in t){if("$vscodeTextmateLocation"===s)continue;let i=parseInt(s,10),o=0;t[s].patterns&&(o=e.getCompiledRuleId(t[s],r,n)),a[i]=e.createCaptureRule(r,t[s].$vscodeTextmateLocation,t[s].name,t[s].contentName,o)}}return a}static _compilePatterns(t,r,n){let a=[];if(t)for(let s=0,i=t.length;s<i;s++){let i=t[s],o=-1;if(i.include){let t=aP(i.include);switch(t.kind){case 0:case 1:o=e.getCompiledRuleId(n[i.include],r,n);break;case 2:let a=n[t.ruleName];a&&(o=e.getCompiledRuleId(a,r,n));break;case 3:case 4:let s=t.scopeName,l=4===t.kind?t.ruleName:null,c=r.getExternalGrammar(s,n);if(c)if(l){let t=c.repository[l];t&&(o=e.getCompiledRuleId(t,r,c.repository))}else o=e.getCompiledRuleId(c.repository.$self,r,c.repository)}}else o=e.getCompiledRuleId(i,r,n);if(-1!==o){let e=r.getRule(o),t=!1;if((e instanceof aG||e instanceof a$||e instanceof aj)&&e.hasMissingPatterns&&0===e.patterns.length&&(t=!0),t)continue;a.push(o)}}return{patterns:a,hasMissingPatterns:(t?t.length:0)!==a.length}}},aq=class e{source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(e,t){if(e&&"string"==typeof e){const t=e.length;let r=0,n=[],a=!1;for(let s=0;s<t;s++)if("\\"===e.charAt(s)&&s+1<t){const t=e.charAt(s+1);"z"===t?(n.push(e.substring(r,s)),n.push("$(?!\\n)(?<!\\n)"),r=s+2):("A"===t||"G"===t)&&(a=!0),s++}this.hasAnchor=a,0===r?this.source=e:(n.push(e.substring(r,t)),this.source=n.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=t,"string"==typeof this.source?this.hasBackReferences=av.test(this.source):this.hasBackReferences=!1}clone(){return new e(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,t){if("string"!=typeof this.source)throw Error("This method should only be called if the source is a string");let r=t.map(t=>e.substring(t.start,t.end));return aB.lastIndex=0,this.source.replace(aB,(e,t)=>ao(r[parseInt(t,10)]||""))}_buildAnchorCache(){let e,t,r,n;if("string"!=typeof this.source)throw Error("This method should only be called if the source is a string");let a=[],s=[],i=[],o=[];for(e=0,t=this.source.length;e<t;e++)r=this.source.charAt(e),a[e]=r,s[e]=r,i[e]=r,o[e]=r,"\\"===r&&e+1<t&&("A"===(n=this.source.charAt(e+1))?(a[e+1]="",s[e+1]="",i[e+1]="A",o[e+1]="A"):"G"===n?(a[e+1]="",s[e+1]="G",i[e+1]="",o[e+1]="G"):(a[e+1]=n,s[e+1]=n,i[e+1]=n,o[e+1]=n),e++);return{A0_G0:a.join(""),A0_G1:s.join(""),A1_G0:i.join(""),A1_G1:o.join("")}}resolveAnchors(e,t){if(!this.hasAnchor||!this._anchorCache||"string"!=typeof this.source)return this.source;if(e)if(t)return this._anchorCache.A1_G1;else return this._anchorCache.A1_G0;return t?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},aW=class{_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,t){this._items[e].source!==t&&(this._disposeCaches(),this._items[e].setSource(t))}compile(e){if(!this._cached){let t=this._items.map(e=>e.source);this._cached=new az(e,t,this._items.map(e=>e.ruleId))}return this._cached}compileAG(e,t,r){if(!this._hasAnchors)return this.compile(e);if(t)if(r)return this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G1;else return this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G0;return r?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G0)}_resolveAnchors(e,t,r){return new az(e,this._items.map(e=>e.resolveAnchors(t,r)),this._items.map(e=>e.ruleId))}},az=class{constructor(e,t,r){this.regExps=t,this.rules=r,this.scanner=e.createOnigScanner(t)}scanner;dispose(){"function"==typeof this.scanner.dispose&&this.scanner.dispose()}toString(){let e=[];for(let t=0,r=this.rules.length;t<r;t++)e.push("   - "+this.rules[t]+": "+this.regExps[t]);return e.join("\n")}findNextMatchSync(e,t,r){let n=this.scanner.findNextMatchSync(e,t,r);return n?{ruleId:this.rules[n.index],captureIndices:n.captureIndices}:null}},aV=class{constructor(e,t){this.languageId=e,this.tokenType=t}},aQ=class e{_defaultAttributes;_embeddedLanguagesMatcher;constructor(e,t){this._defaultAttributes=new aV(e,8),this._embeddedLanguagesMatcher=new aX(Object.entries(t||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(t){return null===t?e._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(t)}static _NULL_SCOPE_METADATA=new aV(0,0);_getBasicScopeAttributes=new al(e=>new aV(this._scopeToLanguage(e),this._toStandardTokenType(e)));_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(t){let r=t.match(e.STANDARD_TOKEN_TYPE_REGEXP);if(!r)return 8;switch(r[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},aX=class{values;scopesRegExp;constructor(e){if(0===e.length)this.values=null,this.scopesRegExp=null;else{this.values=new Map(e);const t=e.map(([e,t])=>ao(e));t.sort(),t.reverse(),this.scopesRegExp=RegExp(`^((${t.join(")|(")}))($|\\.)`,"")}}match(e){if(!this.scopesRegExp)return;let t=e.match(this.scopesRegExp);if(t)return this.values.get(t[1])}};void 0!==at.default&&at.default.env.VSCODE_TEXTMATE_DEBUG;var aK=class{constructor(e,t){this.stack=e,this.stoppedEarly=t}};function aJ(e,t,r,n,a,s,i,o){let l=t.content.length,c=!1,u=-1;if(i){let i=function(e,t,r,n,a,s){let i=a.beginRuleCapturedEOL?0:-1,o=[];for(let t=a;t;t=t.pop()){let r=t.getRule(e);r instanceof aj&&o.push({rule:r,stack:t})}for(let p=o.pop();p;p=o.pop()){var l,c,u,d,h;let{ruleScanner:o,findOptions:m}=(l=p.rule,c=e,u=p.stack.endRule,d=r,h=n===i,{ruleScanner:l.compileWhileAG(c,u,d,h),findOptions:0}),f=o.findNextMatchSync(t,n,m);if(f){if(-2!==f.ruleId){a=p.stack.pop();break}f.captureIndices&&f.captureIndices.length&&(s.produce(p.stack,f.captureIndices[0].start),a0(e,t,r,p.stack,s,p.rule.whileCaptures,f.captureIndices),s.produce(p.stack,f.captureIndices[0].end),i=f.captureIndices[0].end,f.captureIndices[0].end>n&&(n=f.captureIndices[0].end,r=!1))}else{a=p.stack.pop();break}}return{stack:a,linePos:n,anchorPosition:i,isFirstLine:r}}(e,t,r,n,a,s);a=i.stack,n=i.linePos,r=i.isFirstLine,u=i.anchorPosition}let d=Date.now();for(;!c;){if(0!==o&&Date.now()-d>o)return new aK(a,!0);!function(){let i=function(e,t,r,n,a,s){let i=function(e,t,r,n,a,s){let{ruleScanner:i,findOptions:o}=aZ(a.getRule(e),e,a.endRule,r,n===s),l=i.findNextMatchSync(t,n,o);return l?{captureIndices:l.captureIndices,matchedRuleId:l.ruleId}:null}(e,t,r,n,a,s),o=e.getInjections();if(0===o.length)return i;let l=function(e,t,r,n,a,s,i){let o,l=Number.MAX_VALUE,c=null,u=0,d=s.contentNameScopesList.getScopeNames();for(let s=0,h=e.length;s<h;s++){let h=e[s];if(!h.matcher(d))continue;let{ruleScanner:p,findOptions:m}=aZ(t.getRule(h.ruleId),t,null,n,a===i),f=p.findNextMatchSync(r,a,m);if(!f)continue;let g=f.captureIndices[0].start;if(!(g>=l)&&(l=g,c=f.captureIndices,o=f.ruleId,u=h.priority,l===a))break}return c?{priorityMatch:-1===u,captureIndices:c,matchedRuleId:o}:null}(o,e,t,r,n,a,s);if(!l)return i;if(!i)return l;let c=i.captureIndices[0].start,u=l.captureIndices[0].start;return u<c||l.priorityMatch&&u===c?l:i}(e,t,r,n,a,u);if(!i){s.produce(a,l),c=!0;return}let o=i.captureIndices,d=i.matchedRuleId,h=!!o&&o.length>0&&o[0].end>n;if(-1===d){let i=a.getRule(e);s.produce(a,o[0].start),a=a.withContentNameScopesList(a.nameScopesList),a0(e,t,r,a,s,i.endCaptures,o),s.produce(a,o[0].end);let d=a;if(a=a.parent,u=d.getAnchorPos(),!h&&d.getEnterPos()===n){a=d,s.produce(a,l),c=!0;return}}else{let i=e.getRule(d);s.produce(a,o[0].start);let p=a,m=i.getName(t.content,o),f=a.contentNameScopesList.pushAttributed(m,e);if(a=a.push(d,n,u,o[0].end===l,null,f,f),i instanceof a$){a0(e,t,r,a,s,i.beginCaptures,o),s.produce(a,o[0].end),u=o[0].end;let n=i.getContentName(t.content,o),d=f.pushAttributed(n,e);if(a=a.withContentNameScopesList(d),i.endHasBackReferences&&(a=a.withEndRule(i.getEndWithResolvedBackReferences(t.content,o))),!h&&p.hasSameRuleAs(a)){a=a.pop(),s.produce(a,l),c=!0;return}}else if(i instanceof aj){a0(e,t,r,a,s,i.beginCaptures,o),s.produce(a,o[0].end),u=o[0].end;let n=i.getContentName(t.content,o),d=f.pushAttributed(n,e);if(a=a.withContentNameScopesList(d),i.whileHasBackReferences&&(a=a.withEndRule(i.getWhileWithResolvedBackReferences(t.content,o))),!h&&p.hasSameRuleAs(a)){a=a.pop(),s.produce(a,l),c=!0;return}}else if(a0(e,t,r,a,s,i.captures,o),s.produce(a,o[0].end),a=a.pop(),!h){a=a.safePop(),s.produce(a,l),c=!0;return}}o[0].end>n&&(n=o[0].end,r=!1)}()}return new aK(a,!1)}function aZ(e,t,r,n,a){return{ruleScanner:e.compileAG(t,r,n,a),findOptions:0}}function a0(e,t,r,n,a,s,i){if(0===s.length)return;let o=t.content,l=Math.min(s.length,i.length),c=[],u=i[0].end;for(let t=0;t<l;t++){let l=s[t];if(null===l)continue;let d=i[t];if(0===d.length)continue;if(d.start>u)break;for(;c.length>0&&c[c.length-1].endPos<=d.start;)a.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?a.produceFromScopes(c[c.length-1].scopes,d.start):a.produce(n,d.start),l.retokenizeCapturedWithRuleId){let t=l.getName(o,i),s=n.contentNameScopesList.pushAttributed(t,e),c=l.getContentName(o,i),u=s.pushAttributed(c,e),h=n.push(l.retokenizeCapturedWithRuleId,d.start,-1,!1,null,s,u),p=e.createOnigString(o.substring(0,d.end));aJ(e,p,r&&0===d.start,d.start,h,a,!1,0),aN(p);continue}let h=l.getName(o,i);if(null!==h){let t=(c.length>0?c[c.length-1].scopes:n.contentNameScopesList).pushAttributed(h,e);c.push(new a1(t,d.end))}}for(;c.length>0;)a.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}var a1=class{scopes;endPos;constructor(e,t){this.scopes=e,this.endPos=t}};function a2(e,t,r,n,a){let s=a_(t,a3),i=aY.getCompiledRuleId(r,n,a.repository);for(let r of s)e.push({debugSelector:t,matcher:r.matcher,ruleId:i,grammar:a,priority:r.priority})}function a3(e,t){if(t.length<e.length)return!1;let r=0;return e.every(e=>{for(let n=r;n<t.length;n++)if(function(e,t){if(!e)return!1;if(e===t)return!0;let r=t.length;return e.length>r&&e.substr(0,r)===t&&"."===e[r]}(t[n],e))return r=n+1,!0;return!1})}var a5=class{constructor(e,t,r,n,a,s,i,o){if(this._rootScopeName=e,this.balancedBracketSelectors=s,this._onigLib=o,this._basicScopeAttributesProvider=new aQ(r,n),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=i,this._grammar=a8(t,null),this._injections=null,this._tokenTypeMatchers=[],a)for(const e of Object.keys(a))for(const t of a_(e,a3))this._tokenTypeMatchers.push({matcher:t.matcher,type:a[e]})}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(let e of this._ruleId2desc)e&&e.dispose()}createOnigScanner(e){return this._onigLib.createOnigScanner(e)}createOnigString(e){return this._onigLib.createOnigString(e)}getMetadataForScope(e){return this._basicScopeAttributesProvider.getBasicScopeAttributes(e)}_collectInjections(){let e=[],t=this._rootScopeName,r=({lookup:e=>e===this._rootScopeName?this._grammar:this.getExternalGrammar(e),injections:e=>this._grammarRepository.injections(e)}).lookup(t);if(r){let n=r.injections;if(n)for(let t in n)a2(e,t,n[t],this,r);let a=this._grammarRepository.injections(t);a&&a.forEach(t=>{let r=this.getExternalGrammar(t);if(r){let t=r.injectionSelector;t&&a2(e,t,r,this,r)}})}return e.sort((e,t)=>e.priority-t.priority),e}getInjections(){return null===this._injections&&(this._injections=this._collectInjections()),this._injections}registerRule(e){let t=++this._lastRuleId,r=e(t);return this._ruleId2desc[t]=r,r}getRule(e){return this._ruleId2desc[e]}getExternalGrammar(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){let r=this._grammarRepository.lookup(e);if(r)return this._includedGrammars[e]=a8(r,t&&t.$base),this._includedGrammars[e]}}tokenizeLine(e,t,r=0){let n=this._tokenize(e,t,!1,r);return{tokens:n.lineTokens.getResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack,stoppedEarly:n.stoppedEarly}}tokenizeLine2(e,t,r=0){let n=this._tokenize(e,t,!0,r);return{tokens:n.lineTokens.getBinaryResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack,stoppedEarly:n.stoppedEarly}}_tokenize(e,t,r,n){let a;if(-1===this._rootId&&(this._rootId=aY.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections()),t&&t!==a6.NULL)a=!1,t.reset();else{let e;a=!0;let r=this._basicScopeAttributesProvider.getDefaultAttributes(),n=this.themeProvider.getDefaults(),s=aT.set(0,r.languageId,r.tokenType,null,n.fontStyle,n.foregroundId,n.backgroundId),i=this.getRule(this._rootId).getName(null,null);e=i?a4.createRootAndLookUpScopeName(i,s,this):a4.createRoot("unknown",s),t=new a6(null,this._rootId,-1,-1,!1,null,e,e)}e+="\n";let s=this.createOnigString(e),i=s.content.length,o=new a7(r,e,this._tokenTypeMatchers,this.balancedBracketSelectors),l=aJ(this,s,a,0,t,o,!0,n);return aN(s),{lineLength:i,lineTokens:o,ruleStack:l.stack,stoppedEarly:l.stoppedEarly}}};function a8(e,t){return(e=function e(t){return Array.isArray(t)?function(t){let r=[];for(let n=0,a=t.length;n<a;n++)r[n]=e(t[n]);return r}(t):t instanceof RegExp?t:"object"==typeof t?function(t){let r={};for(let n in t)r[n]=e(t[n]);return r}(t):t}(e)).repository=e.repository||{},e.repository.$self={$vscodeTextmateLocation:e.$vscodeTextmateLocation,patterns:e.patterns,name:e.scopeName},e.repository.$base=t||e.repository.$self,e}var a4=class e{constructor(e,t,r){this.parent=e,this.scopePath=t,this.tokenAttributes=r}static fromExtension(t,r){let n=t,a=t?.scopePath??null;for(let t of r)n=new e(n,a=au.push(a,t.scopeNames),t.encodedTokenAttributes);return n}static createRoot(t,r){return new e(null,new au(null,t),r)}static createRootAndLookUpScopeName(t,r,n){let a=n.getMetadataForScope(t),s=new au(null,t),i=n.themeProvider.themeMatch(s),o=e.mergeAttributes(r,a,i);return new e(null,s,o)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(t){return e.equals(this,t)}static equals(e,t){for(;;){if(e===t||!e&&!t)return!0;if(!e||!t||e.scopeName!==t.scopeName||e.tokenAttributes!==t.tokenAttributes)return!1;e=e.parent,t=t.parent}}static mergeAttributes(e,t,r){let n=-1,a=0,s=0;return null!==r&&(n=r.fontStyle,a=r.foregroundId,s=r.backgroundId),aT.set(e,t.languageId,t.tokenType,null,n,a,s)}pushAttributed(t,r){if(null===t)return this;if(-1===t.indexOf(" "))return e._pushAttributed(this,t,r);let n=t.split(/ /g),a=this;for(let t of n)a=e._pushAttributed(a,t,r);return a}static _pushAttributed(t,r,n){let a=n.getMetadataForScope(r),s=t.scopePath.push(r),i=n.themeProvider.themeMatch(s),o=e.mergeAttributes(t.tokenAttributes,a,i);return new e(t,s,o)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){let t=[],r=this;for(;r&&r!==e;)t.push({encodedTokenAttributes:r.tokenAttributes,scopeNames:r.scopePath.getExtensionIfDefined(r.parent?.scopePath??null)}),r=r.parent;return r===e?t.reverse():void 0}},a6=class e{constructor(e,t,r,n,a,s,i,o){this.parent=e,this.ruleId=t,this.beginRuleCapturedEOL=a,this.endRule=s,this.nameScopesList=i,this.contentNameScopesList=o,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=r,this._anchorPos=n}_stackElementBrand=void 0;static NULL=new e(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(t){return null!==t&&e._equals(this,t)}static _equals(e,t){return e===t||!!this._structuralEquals(e,t)&&a4.equals(e.contentNameScopesList,t.contentNameScopesList)}static _structuralEquals(e,t){for(;;){if(e===t||!e&&!t)return!0;if(!e||!t||e.depth!==t.depth||e.ruleId!==t.ruleId||e.endRule!==t.endRule)return!1;e=e.parent,t=t.parent}}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){e._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(t,r,n,a,s,i,o){return new e(this,t,r,n,a,s,i,o)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){let e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,t){return this.parent&&(t=this.parent._writeString(e,t)),e[t++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,t}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(t){return this.endRule===t?this:new e(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,t,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let t=this;for(;t&&t._enterPos===e._enterPos;){if(t.ruleId===e.ruleId)return!0;t=t.parent}return!1}toStateStackFrame(){return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(t,r){let n=a4.fromExtension(t?.nameScopesList??null,r.nameScopesList);return new e(t,r.ruleId,r.enterPos??-1,r.anchorPos??-1,r.beginRuleCapturedEOL,r.endRule,n,a4.fromExtension(n,r.contentNameScopesList))}},a9=class{balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(e,t){this.balancedBracketScopes=e.flatMap(e=>"*"===e?(this.allowAny=!0,[]):a_(e,a3).map(e=>e.matcher)),this.unbalancedBracketScopes=t.flatMap(e=>a_(e,a3).map(e=>e.matcher))}get matchesAlways(){return this.allowAny&&0===this.unbalancedBracketScopes.length}get matchesNever(){return 0===this.balancedBracketScopes.length&&!this.allowAny}match(e){for(let t of this.unbalancedBracketScopes)if(t(e))return!1;for(let t of this.balancedBracketScopes)if(t(e))return!0;return this.allowAny}},a7=class{constructor(e,t,r,n){this.balancedBracketSelectors=n,this._emitBinaryTokens=e,this._tokenTypeOverrides=r,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(e,t){this.produceFromScopes(e.contentNameScopesList,t)}produceFromScopes(e,t){if(this._lastTokenEndIndex>=t)return;if(this._emitBinaryTokens){let r=e?.tokenAttributes??0,n=!1;if(this.balancedBracketSelectors?.matchesAlways&&(n=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){let t=e?.getScopeNames()??[];for(let e of this._tokenTypeOverrides)e.matcher(t)&&(r=aT.set(r,0,e.type,null,-1,0,0));this.balancedBracketSelectors&&(n=this.balancedBracketSelectors.match(t))}if(n&&(r=aT.set(r,0,8,n,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===r){this._lastTokenEndIndex=t;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(r),this._lastTokenEndIndex=t;return}let r=e?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:r}),this._lastTokenEndIndex=t}getResult(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),0===this._tokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),0===this._binaryTokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);let r=new Uint32Array(this._binaryTokens.length);for(let e=0,t=this._binaryTokens.length;e<t;e++)r[e]=this._binaryTokens[e];return r}},se=class{constructor(e,t){this._onigLib=t,this._theme=e}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(let e of this._grammars.values())e.dispose()}setTheme(e){this._theme=e}getColorMap(){return this._theme.getColorMap()}addGrammar(e,t){this._rawGrammars.set(e.scopeName,e),t&&this._injectionGrammars.set(e.scopeName,t)}lookup(e){return this._rawGrammars.get(e)}injections(e){return this._injectionGrammars.get(e)}getDefaults(){return this._theme.getDefaults()}themeMatch(e){return this._theme.match(e)}grammarForScopeName(e,t,r,n,a){if(!this._grammars.has(e)){let s=this._rawGrammars.get(e);if(!s)return null;this._grammars.set(e,new a5(e,s,t,r,n,a,this,this._onigLib))}return this._grammars.get(e)}},st=class{_options;_syncRegistry;_ensureGrammarCache;constructor(e){this._options=e,this._syncRegistry=new se(ac.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,t){this._syncRegistry.setTheme(ac.createFromRawTheme(e,t))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,t,r){return this.loadGrammarWithConfiguration(e,t,{embeddedLanguages:r})}loadGrammarWithConfiguration(e,t,r){return this._loadGrammar(e,t,r.embeddedLanguages,r.tokenTypes,new a9(r.balancedBracketSelectors||[],r.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,t,r,n,a){let s=new aS(this._syncRegistry,e);for(;s.Q.length>0;)s.Q.map(e=>this._loadSingleGrammar(e.scopeName)),s.processQueue();return this._grammarForScopeName(e,t,r,n,a)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){let t=this._options.loadGrammar(e);if(t){let r="function"==typeof this._options.getInjections?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(t,r)}}addGrammar(e,t=[],r=0,n=null){return this._syncRegistry.addGrammar(e,t),this._grammarForScopeName(e.scopeName,r,n)}_grammarForScopeName(e,t=0,r=null,n=null,a=null){return this._syncRegistry.grammarForScopeName(e,t,r,n,a)}},sr=a6.NULL;let sn=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],sa={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},ss=["cent","copy","divide","gt","lt","not","para","times"],si={}.hasOwnProperty,so={};for(t in sa)si.call(sa,t)&&(so[sa[t]]=t);function sl(e,t,r){var n,a;let s,i,o=(n=r.omitOptionalSemicolons,s="&#x"+e.toString(16).toUpperCase(),n&&t&&!/[\dA-Fa-f]/.test(String.fromCharCode(t))?s:s+";");if((r.useNamedReferences||r.useShortestReferences)&&(i=function(e,t,r,n){let a=String.fromCharCode(e);if(si.call(so,a)){let e=so[a],s="&"+e;return r&&sn.includes(e)&&!ss.includes(e)&&(!n||t&&61!==t&&/[^\da-z]/i.test(String.fromCharCode(t)))?s:s+";"}return""}(e,t,r.omitOptionalSemicolons,r.attribute)),(r.useShortestReferences||!i)&&r.useShortestReferences){let n,s=(a=r.omitOptionalSemicolons,n="&#"+String(e),a&&t&&!/\d/.test(String.fromCharCode(t))?n:n+";");s.length<o.length&&(o=s)}return i&&(!r.useShortestReferences||i.length<o.length)?i:o}function sc(e,t){var r=e,n=Object.assign({format:sl},t);if(r=r.replace(n.subset?function(e){let t=[],r=-1;for(;++r<e.length;)t.push(e[r].replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"));return RegExp("(?:"+t.join("|")+")","g")}(n.subset):/["&'<>`]/g,a),n.subset||n.escapeOnly)return r;return r.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(e,t,r){return n.format((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)-56320+65536,r.charCodeAt(t+2),n)}).replace(/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,a);function a(e,t,r){return n.format(e.charCodeAt(0),r.charCodeAt(t+1),n)}}let su=/^>|^->|<!--|-->|--!>|<!-$/g,sd=[">"],sh=["<",">"];var sp=e.i(631886);let sm=sE(1),sf=sE(-1),sg=[];function sE(e){return function(t,r,n){let a=t?t.children:sg,s=(r||0)+e,i=a[s];if(!n)for(;i&&(0,Y.whitespace)(i);)s+=e,i=a[s];return i}}let sT={}.hasOwnProperty;function s_(e){return function(t,r,n){return sT.call(e,t.tagName)&&e[t.tagName](t,r,n)}}let sA=s_({body:function(e,t,r){let n=sm(r,t);return!n||"comment"!==n.type},caption:sC,colgroup:sC,dd:function(e,t,r){let n=sm(r,t);return!n||"element"===n.type&&("dt"===n.tagName||"dd"===n.tagName)},dt:function(e,t,r){let n=sm(r,t);return!!(n&&"element"===n.type&&("dt"===n.tagName||"dd"===n.tagName))},head:sC,html:function(e,t,r){let n=sm(r,t);return!n||"comment"!==n.type},li:function(e,t,r){let n=sm(r,t);return!n||"element"===n.type&&"li"===n.tagName},optgroup:function(e,t,r){let n=sm(r,t);return!n||"element"===n.type&&"optgroup"===n.tagName},option:function(e,t,r){let n=sm(r,t);return!n||"element"===n.type&&("option"===n.tagName||"optgroup"===n.tagName)},p:function(e,t,r){let n=sm(r,t);return n?"element"===n.type&&("address"===n.tagName||"article"===n.tagName||"aside"===n.tagName||"blockquote"===n.tagName||"details"===n.tagName||"div"===n.tagName||"dl"===n.tagName||"fieldset"===n.tagName||"figcaption"===n.tagName||"figure"===n.tagName||"footer"===n.tagName||"form"===n.tagName||"h1"===n.tagName||"h2"===n.tagName||"h3"===n.tagName||"h4"===n.tagName||"h5"===n.tagName||"h6"===n.tagName||"header"===n.tagName||"hgroup"===n.tagName||"hr"===n.tagName||"main"===n.tagName||"menu"===n.tagName||"nav"===n.tagName||"ol"===n.tagName||"p"===n.tagName||"pre"===n.tagName||"section"===n.tagName||"table"===n.tagName||"ul"===n.tagName):!r||"element"!==r.type||"a"!==r.tagName&&"audio"!==r.tagName&&"del"!==r.tagName&&"ins"!==r.tagName&&"map"!==r.tagName&&"noscript"!==r.tagName&&"video"!==r.tagName},rp:sN,rt:sN,tbody:function(e,t,r){let n=sm(r,t);return!n||"element"===n.type&&("tbody"===n.tagName||"tfoot"===n.tagName)},td:sb,tfoot:function(e,t,r){return!sm(r,t)},th:sb,thead:function(e,t,r){let n=sm(r,t);return!!(n&&"element"===n.type&&("tbody"===n.tagName||"tfoot"===n.tagName))},tr:function(e,t,r){let n=sm(r,t);return!n||"element"===n.type&&"tr"===n.tagName}});function sC(e,t,r){let n=sm(r,t,!0);return!n||"comment"!==n.type&&!("text"===n.type&&(0,Y.whitespace)(n.value.charAt(0)))}function sN(e,t,r){let n=sm(r,t);return!n||"element"===n.type&&("rp"===n.tagName||"rt"===n.tagName)}function sb(e,t,r){let n=sm(r,t);return!n||"element"===n.type&&("td"===n.tagName||"th"===n.tagName)}let sy=s_({body:function(e){let t=sm(e,-1,!0);return!t||"comment"!==t.type&&!("text"===t.type&&(0,Y.whitespace)(t.value.charAt(0)))&&("element"!==t.type||"meta"!==t.tagName&&"link"!==t.tagName&&"script"!==t.tagName&&"style"!==t.tagName&&"template"!==t.tagName)},colgroup:function(e,t,r){let n=sf(r,t),a=sm(e,-1,!0);return!(r&&n&&"element"===n.type&&"colgroup"===n.tagName&&sA(n,r.children.indexOf(n),r))&&!!(a&&"element"===a.type&&"col"===a.tagName)},head:function(e){let t=new Set;for(let r of e.children)if("element"===r.type&&("base"===r.tagName||"title"===r.tagName)){if(t.has(r.tagName))return!1;t.add(r.tagName)}let r=e.children[0];return!r||"element"===r.type},html:function(e){let t=sm(e,-1);return!t||"comment"!==t.type},tbody:function(e,t,r){let n=sf(r,t),a=sm(e,-1);return!(r&&n&&"element"===n.type&&("thead"===n.tagName||"tbody"===n.tagName)&&sA(n,r.children.indexOf(n),r))&&!!(a&&"element"===a.type&&"tr"===a.tagName)}}),sk={name:[["	\n\f\r &/=>".split(""),"	\n\f\r \"&'/=>`".split("")],["\0	\n\f\r \"&'/<=>".split(""),"\0	\n\f\r \"&'/<=>`".split("")]],unquoted:[["	\n\f\r &>".split(""),"\0	\n\f\r \"&'<=>`".split("")],["\0	\n\f\r \"&'<=>`".split(""),"\0	\n\f\r \"&'<=>`".split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]},sS=["<","&"];function sI(e,t,r,n){return r&&"element"===r.type&&("script"===r.tagName||"style"===r.tagName)?e.value:sc(e.value,Object.assign({},n.settings.characterReferences,{subset:sS}))}let sR=tw("type",{invalid:function(e){throw Error("Expected node, not `"+e+"`")},unknown:function(e){throw Error("Cannot compile unknown node `"+e.type+"`")},handlers:{comment:function(e,t,r,n){return n.settings.bogusComments?"<?"+sc(e.value,Object.assign({},n.settings.characterReferences,{subset:sd}))+">":"<!--"+e.value.replace(su,function(e){return sc(e,Object.assign({},n.settings.characterReferences,{subset:sh}))})+"-->"},doctype:function(e,t,r,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"},element:function(e,t,r,n){let a,s=n.schema,i="svg"!==s.space&&n.settings.omitOptionalTags,o="svg"===s.space?n.settings.closeEmptyElements:n.settings.voids.includes(e.tagName.toLowerCase()),l=[];"html"===s.space&&"svg"===e.tagName&&(n.schema=ey);let c=function(e,t){let r,n=[],a=-1;if(t){for(r in t)if(null!==t[r]&&void 0!==t[r]){let a=function(e,t,r){let n,a=el(e.schema,t),s=e.settings.allowParseErrors&&"html"===e.schema.space?0:1,i=+!e.settings.allowDangerousCharacters,o=e.quote;if(a.overloadedBoolean&&(r===a.attribute||""===r)?r=!0:(a.boolean||a.overloadedBoolean)&&("string"!=typeof r||r===a.attribute||""===r)&&(r=!!r),null==r||!1===r||"number"==typeof r&&Number.isNaN(r))return"";let l=sc(a.attribute,Object.assign({},e.settings.characterReferences,{subset:sk.name[s][i]}));return!0===r||(r=Array.isArray(r)?(a.commaSeparated?$.stringify:ek.stringify)(r,{padLeft:!e.settings.tightCommaSeparatedLists}):String(r),e.settings.collapseEmptyAttributes&&!r)?l:(e.settings.preferUnquoted&&(n=sc(r,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:sk.unquoted[s][i]}))),n!==r&&(e.settings.quoteSmart&&(0,sp.ccount)(r,o)>(0,sp.ccount)(r,e.alternative)&&(o=e.alternative),n=o+sc(r,Object.assign({},e.settings.characterReferences,{subset:("'"===o?sk.single:sk.double)[s][i],attribute:!0}))+o),l+(n?"="+n:n))}(e,r,t[r]);a&&n.push(a)}}for(;++a<n.length;){let t=e.settings.tightAttributes?n[a].charAt(n[a].length-1):void 0;a!==n.length-1&&'"'!==t&&"'"!==t&&(n[a]+=" ")}return n.join("")}(n,e.properties),u=n.all("html"===s.space&&"template"===e.tagName?e.content:e);return n.schema=s,u&&(o=!1),!c&&i&&sy(e,t,r)||(l.push("<",e.tagName,c?" "+c:""),o&&("svg"===s.space||n.settings.closeSelfClosing)&&(a=c.charAt(c.length-1),(!n.settings.tightSelfClosing||"/"===a||a&&'"'!==a&&"'"!==a)&&l.push(" "),l.push("/")),l.push(">")),l.push(u),o||i&&sA(e,t,r)||l.push("</"+e.tagName+">"),l.join("")},raw:function(e,t,r,n){return n.settings.allowDangerousHtml?e.value:sI(e,t,r,n)},root:function(e,t,r,n){return n.all(e)},text:sI}}),sL={},sD={},sO=[];function sw(e,t,r){return sR(e,t,r,this)}function sM(e){let t=[],r=e&&e.children||sO,n=-1;for(;++n<r.length;)t[n]=this.one(r[n],n,e);return t.join("")}function sx(e,t){let r="string"==typeof e?{}:{...e.colorReplacements},n="string"==typeof e?e:e.name;for(let[e,a]of Object.entries(t?.colorReplacements||{}))"string"==typeof a?r[e]=a:e===n&&Object.assign(r,a);return r}function sP(e,t){return e&&t?.[e?.toLowerCase()]||e}async function sv(e){return Promise.resolve("function"==typeof e?e():e).then(e=>e.default||e)}function sB(e){return!e||["plaintext","txt","text","plain"].includes(e)}function sF(e){return"ansi"===e||sB(e)}function sU(e){return"none"===e}function sH(e,t){if(!t)return e;for(let r of(e.properties||={},e.properties.class||=[],"string"==typeof e.properties.class&&(e.properties.class=e.properties.class.split(/\s+/g)),Array.isArray(e.properties.class)||(e.properties.class=[]),Array.isArray(t)?t:t.split(/\s+/g)))r&&!e.properties.class.includes(r)&&e.properties.class.push(r);return e}function sG(e,t=!1){let r=e.split(/(\r?\n)/g),n=0,a=[];for(let e=0;e<r.length;e+=2){let s=t?r[e]+(r[e+1]||""):r[e];a.push([s,n]),n+=r[e].length,n+=r[e+1]?.length||0}return a}let s$="light-dark()",sj=["color","background-color"];function sY(e){let t={};if(e.color&&(t.color=e.color),e.bgColor&&(t["background-color"]=e.bgColor),e.fontStyle){e.fontStyle&ap.Italic&&(t["font-style"]="italic"),e.fontStyle&ap.Bold&&(t["font-weight"]="bold");let r=[];e.fontStyle&ap.Underline&&r.push("underline"),e.fontStyle&ap.Strikethrough&&r.push("line-through"),r.length&&(t["text-decoration"]=r.join(" "))}return t}function sq(e){return"string"==typeof e?e:Object.entries(e).map(([e,t])=>`${e}:${t}`).join(";")}let sW=new WeakMap;function sz(e,t){sW.set(e,t)}function sV(e){return sW.get(e)}class sQ{_stacks={};lang;get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,t){return new sQ(Object.fromEntries((Array.isArray(t)?t:[t]).map(e=>[e,sr])),e)}constructor(...e){if(2===e.length){const[t,r]=e;this.lang=r,this._stacks=t}else{const[t,r,n]=e;this.lang=r,this._stacks={[n]:t}}}getInternalStack(e=this.theme){return this._stacks[e]}getScopes(e=this.theme){var t;let r,n;return t=this._stacks[e],r=[],n=new Set,!function e(t){if(n.has(t))return;n.add(t);let a=t?.nameScopesList?.scopeName;a&&r.push(a),t.parent&&e(t.parent)}(t),r}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}let sX=[function(){let e=new WeakMap;function t(t){if(!e.has(t.meta)){var r;let n,a=function(e){if("number"==typeof e){if(e<0||e>t.source.length)throw new ae(`Invalid decoration offset: ${e}. Code length: ${t.source.length}`);return{...s.indexToPos(e),offset:e}}{let t=s.lines[e.line];if(void 0===t)throw new ae(`Invalid decoration position ${JSON.stringify(e)}. Lines length: ${s.lines.length}`);let r=e.character;if(r<0&&(r=t.length+r),r<0||r>t.length)throw new ae(`Invalid decoration position ${JSON.stringify(e)}. Line ${e.line} length: ${t.length}`);return{...e,character:r,offset:s.posToIndex(e.line,r)}}},s={lines:n=sG(r=t.source,!0).map(([e])=>e),indexToPos:function(e){if(e===r.length)return{line:n.length-1,character:n[n.length-1].length};let t=e,a=0;for(let e of n){if(t<e.length)break;t-=e.length,a++}return{line:a,character:t}},posToIndex:function(e,t){let r=0;for(let t=0;t<e;t++)r+=n[t].length;return r+t}},i=(t.options.decorations||[]).map(e=>({...e,start:a(e.start),end:a(e.end)}));(function(e){for(let t=0;t<e.length;t++){let r=e[t];if(r.start.offset>r.end.offset)throw new ae(`Invalid decoration range: ${JSON.stringify(r.start)} - ${JSON.stringify(r.end)}`);for(let n=t+1;n<e.length;n++){let t=e[n],a=r.start.offset<=t.start.offset&&t.start.offset<r.end.offset,s=r.start.offset<t.end.offset&&t.end.offset<=r.end.offset,i=t.start.offset<=r.start.offset&&r.start.offset<t.end.offset,o=t.start.offset<r.end.offset&&r.end.offset<=t.end.offset;if(a||s||i||o){if(a&&s||i&&o||i&&r.start.offset===r.end.offset||s&&t.start.offset===t.end.offset)continue;throw new ae(`Decorations ${JSON.stringify(r.start)} and ${JSON.stringify(t.start)} intersect.`)}}}})(i),e.set(t.meta,{decorations:i,converter:s,source:t.source})}return e.get(t.meta)}return{name:"shiki:decorations",tokens(e){let r;if(!this.options.decorations?.length)return;let n=t(this).decorations.flatMap(e=>[e.start.offset,e.end.offset]);return(r=Array.from(n instanceof Set?n:new Set(n)).sort((e,t)=>e-t)).length?e.map(e=>e.flatMap(e=>{let t=r.filter(t=>e.offset<t&&t<e.offset+e.content.length).map(t=>t-e.offset).sort((e,t)=>e-t);if(!t.length)return e;let n=0,a=[];for(let r of t)r>n&&a.push({...e,content:e.content.slice(n,r),offset:e.offset+n}),n=r;return n<e.content.length&&a.push({...e,content:e.content.slice(n),offset:e.offset+n}),a})):e},code(e){if(!this.options.decorations?.length)return;let r=t(this),n=Array.from(e.children).filter(e=>"element"===e.type&&"span"===e.tagName);if(n.length!==r.converter.lines.length)throw new ae(`Number of lines in code element (${n.length}) does not match the number of lines in the source (${r.converter.lines.length}). Failed to apply decorations.`);function a(e,t,r,a){let i=n[e],o="",l=-1,c=-1;if(0===t&&(l=0),0===r&&(c=0),r===1/0&&(c=i.children.length),-1===l||-1===c)for(let e=0;e<i.children.length;e++)o+=function e(t){return"text"===t.type?t.value:"element"===t.type?t.children.map(e).join(""):""}(i.children[e]),-1===l&&o.length===t&&(l=e+1),-1===c&&o.length===r&&(c=e+1);if(-1===l)throw new ae(`Failed to find start index for decoration ${JSON.stringify(a.start)}`);if(-1===c)throw new ae(`Failed to find end index for decoration ${JSON.stringify(a.end)}`);let u=i.children.slice(l,c);if(a.alwaysWrap||u.length!==i.children.length)if(a.alwaysWrap||1!==u.length||"element"!==u[0].type){let e={type:"element",tagName:"span",properties:{},children:u};s(e,a,"wrapper"),i.children.splice(l,u.length,e)}else s(u[0],a,"token");else s(i,a,"line")}function s(e,t,r){let n=t.properties||{},a=t.transform||(e=>e);return e.tagName=t.tagName||"span",e.properties={...e.properties,...n,class:e.properties.class},t.properties?.class&&sH(e,t.properties.class),e=a(e,r)||e}let i=[];for(let e of r.decorations.sort((e,t)=>t.start.offset-e.start.offset||e.end.offset-t.end.offset)){let{start:t,end:r}=e;if(t.line===r.line)a(t.line,t.character,r.character,e);else if(t.line<r.line){a(t.line,t.character,1/0,e);for(let a=t.line+1;a<r.line;a++)i.unshift(()=>{var t;n[t=a]=s(n[t],e,"line")});a(r.line,0,r.character,e)}}i.forEach(e=>e())}}}()];function sK(e){let t=function(e){let t=[],r=[],n=[];for(let a of e)switch(a.enforce){case"pre":t.push(a);break;case"post":r.push(a);break;default:n.push(a)}return{pre:t,post:r,normal:n}}(e.transformers||[]);return[...t.pre,...t.normal,...t.post,...sX]}var sJ=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],sZ={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function s0(e){let t=e.shift();if("2"===t){let t=e.splice(0,3).map(e=>Number.parseInt(e));if(3!==t.length||t.some(e=>Number.isNaN(e)))return;return{type:"rgb",rgb:t}}if("5"===t){let t=e.shift();if(t)return{type:"table",index:Number(t)}}}var s1={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function s2(e,t,r={}){var n,a,s,i,o;let l,c,{lang:u="text",theme:d=e.getLoadedThemes()[0]}=r;if(sB(u)||sU(d))return sG(t).map(e=>[{content:e[0],offset:e[1]}]);let{theme:h,colorMap:p}=e.setTheme(d);if("ansi"===u){let e,n,a,s,i,o,l;return e=sx(h,r),n=sG(t),a=function(e=s1){let t;function r(e){return`#${e.map(e=>Math.max(0,Math.min(e,255)).toString(16).padStart(2,"0")).join("")}`}return{value:function(n){switch(n.type){case"named":return e[n.name];case"rgb":return r(n.rgb);case"table":var a;return a=n.index,function(){if(t)return t;t=[];for(let r=0;r<sJ.length;r++)t.push(e[sJ[r]]);let n=[0,95,135,175,215,255];for(let e=0;e<6;e++)for(let a=0;a<6;a++)for(let s=0;s<6;s++)t.push(r([n[e],n[a],n[s]]));let a=8;for(let e=0;e<24;e++,a+=10)t.push(r([a,a,a]));return t}()[a]}}}}(Object.fromEntries(sJ.map(e=>[e,h.colors?.[`terminal.ansi${e[0].toUpperCase()}${e.substring(1)}`]]))),s=null,i=null,o=new Set,l={parse(e){let t=[],r=0;do{let n=function(e,t){let r=e.indexOf("\x1b",t);if(-1!==r&&"["===e[r+1]){let t=e.indexOf("m",r);if(-1!==t)return{sequence:e.substring(r+2,t).split(";"),startPosition:r,position:t+1}}return{position:e.length}}(e,r),a=n.sequence?e.substring(r,n.startPosition):e.substring(r);if(a.length>0&&t.push({value:a,foreground:s,background:i,decorations:new Set(o)}),n.sequence){let e=function(e){let t=[];for(;e.length>0;){let r=e.shift();if(!r)continue;let n=Number.parseInt(r);if(!Number.isNaN(n))if(0===n)t.push({type:"resetAll"});else if(n<=9)sZ[n]&&t.push({type:"setDecoration",value:sZ[n]});else if(n<=29){let e=sZ[n-20];e&&(t.push({type:"resetDecoration",value:e}),"dim"===e&&t.push({type:"resetDecoration",value:"bold"}))}else if(n<=37)t.push({type:"setForegroundColor",value:{type:"named",name:sJ[n-30]}});else if(38===n){let r=s0(e);r&&t.push({type:"setForegroundColor",value:r})}else if(39===n)t.push({type:"resetForegroundColor"});else if(n<=47)t.push({type:"setBackgroundColor",value:{type:"named",name:sJ[n-40]}});else if(48===n){let r=s0(e);r&&t.push({type:"setBackgroundColor",value:r})}else 49===n?t.push({type:"resetBackgroundColor"}):53===n?t.push({type:"setDecoration",value:"overline"}):55===n?t.push({type:"resetDecoration",value:"overline"}):n>=90&&n<=97?t.push({type:"setForegroundColor",value:{type:"named",name:sJ[n-90+8]}}):n>=100&&n<=107&&t.push({type:"setBackgroundColor",value:{type:"named",name:sJ[n-100+8]}})}return t}(n.sequence);for(let t of e)"resetAll"===t.type?(s=null,i=null,o.clear()):"resetForegroundColor"===t.type?s=null:"resetBackgroundColor"===t.type?i=null:"resetDecoration"===t.type&&o.delete(t.value);for(let t of e)"setForegroundColor"===t.type?s=t.value:"setBackgroundColor"===t.type?i=t.value:"setDecoration"===t.type&&o.add(t.value)}r=n.position}while(r<e.length)return t}},n.map(t=>l.parse(t[0]).map(r=>{let n,s;r.decorations.has("reverse")?(n=r.background?a.value(r.background):h.bg,s=r.foreground?a.value(r.foreground):h.fg):(n=r.foreground?a.value(r.foreground):h.fg,s=r.background?a.value(r.background):void 0),n=sP(n,e),s=sP(s,e),r.decorations.has("dim")&&(n=function(e){let t=e.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);if(t)if(t[3]){let e=Math.round(Number.parseInt(t[3],16)/2).toString(16).padStart(2,"0");return`#${t[1]}${t[2]}${e}`}else if(t[2])return`#${t[1]}${t[2]}80`;else return`#${Array.from(t[1]).map(e=>`${e}${e}`).join("")}80`;let r=e.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return r?`var(${r[1]}-dim)`:e}(n));let i=ap.None;return r.decorations.has("bold")&&(i|=ap.Bold),r.decorations.has("italic")&&(i|=ap.Italic),r.decorations.has("underline")&&(i|=ap.Underline),r.decorations.has("strikethrough")&&(i|=ap.Strikethrough),{content:r.value,offset:t[1],color:n,bgColor:s,fontStyle:i}}))}let m=e.getLanguage(u);if(r.grammarState){if(r.grammarState.lang!==m.name)throw new ae(`Grammar state language "${r.grammarState.lang}" does not match highlight language "${m.name}"`);if(!r.grammarState.themes.includes(h.name))throw new ae(`Grammar state themes "${r.grammarState.themes}" do not contain highlight theme "${h.name}"`)}return l=s3(n=t,a=m,s=h,i=p,o=r),c=new sQ(s3(n,a,s,i,o).stateStack,a.name,s.name),sz(l.tokens,c),l.tokens}function s3(e,t,r,n,a){let s=sx(r,a),{tokenizeMaxLineLength:i=0,tokenizeTimeLimit:o=500}=a,l=sG(e),c=a.grammarState?function(e,t){if(!(e instanceof sQ))throw new ae("Invalid grammar state");return e.getInternalStack(t)}(a.grammarState,r.name)??sr:null!=a.grammarContextCode?s3(a.grammarContextCode,t,r,n,{...a,grammarState:void 0,grammarContextCode:void 0}).stateStack:sr,u=[],d=[];for(let e=0,h=l.length;e<h;e++){let h,p,[m,f]=l[e];if(""===m){u=[],d.push([]);continue}if(i>0&&m.length>=i){u=[],d.push([{content:m,offset:f,color:"",fontStyle:0}]);continue}a.includeExplanation&&(h=t.tokenizeLine(m,c,o).tokens,p=0);let g=t.tokenizeLine2(m,c,o),E=g.tokens.length/2;for(let e=0;e<E;e++){let t=g.tokens[2*e],i=e+1<E?g.tokens[2*e+2]:m.length;if(t===i)continue;let o=g.tokens[2*e+1],l=sP(n[aT.getForeground(o)],s),c=aT.getFontStyle(o),d={content:m.substring(t,i),offset:f+t,color:l,fontStyle:c};if(a.includeExplanation){let e=[];if("scopeName"!==a.includeExplanation)for(let t of r.settings){let r;switch(typeof t.scope){case"string":r=t.scope.split(/,/).map(e=>e.trim());break;case"object":r=t.scope;break;default:continue}e.push({settings:t,selectors:r.map(e=>e.split(/ /))})}d.explanation=[];let n=0;for(;t+n<i;){let t=h[p],r=m.substring(t.startIndex,t.endIndex);n+=r.length,d.explanation.push({content:r,scopes:"scopeName"===a.includeExplanation?t.scopes.map(e=>({scopeName:e})):function(e,t){let r=[];for(let n=0,a=t.length;n<a;n++){let a=t[n];r[n]={scopeName:a,themeMatches:function(e,t,r){let n=[];for(let{selectors:a,settings:s}of e)for(let e of a)if(function(e,t,r){if(!s5(e[e.length-1],t))return!1;let n=e.length-2,a=r.length-1;for(;n>=0&&a>=0;)s5(e[n],r[a])&&(n-=1),a-=1;return -1===n}(e,t,r)){n.push(s);break}return n}(e,a,t.slice(0,n))}}return r}(e,t.scopes)}),p+=1}}u.push(d)}d.push(u),u=[],c=g.ruleStack}return{tokens:d,stateStack:c}}function s5(e,t){return e===t||t.substring(0,e.length)===e&&"."===t[e.length]}function s8(e,t,r){let n=Object.entries(r.themes).filter(e=>e[1]).map(e=>({color:e[0],theme:e[1]})),a=n.map(n=>{let a=s2(e,t,{...r,theme:n.theme}),s=sV(a);return{tokens:a,state:s,theme:"string"==typeof n.theme?n.theme:n.theme.name}}),s=function(...e){let t=e.map(()=>[]),r=e.length;for(let n=0;n<e[0].length;n++){let a=e.map(e=>e[n]),s=t.map(()=>[]);t.forEach((e,t)=>e.push(s[t]));let i=a.map(()=>0),o=a.map(e=>e[0]);for(;o.every(e=>e);){let e=Math.min(...o.map(e=>e.content.length));for(let t=0;t<r;t++){let r=o[t];r.content.length===e?(s[t].push(r),i[t]+=1,o[t]=a[t][i[t]]):(s[t].push({...r,content:r.content.slice(0,e)}),o[t]={...r,content:r.content.slice(e),offset:r.offset+e})}}}return t}(...a.map(e=>e.tokens)),i=s[0].map((e,t)=>e.map((e,a)=>{let i={content:e.content,variants:{},offset:e.offset};return"includeExplanation"in r&&r.includeExplanation&&(i.explanation=e.explanation),s.forEach((e,r)=>{let{content:s,explanation:o,offset:l,...c}=e[t][a];i.variants[n[r].color]=c}),i})),o=a[0].state?new sQ(Object.fromEntries(a.map(e=>[e.theme,e.state?.getInternalStack(e.theme)])),a[0].state.lang):void 0;return o&&sz(i,o),i}function s4(e,t,r){let n,a,s,i,o,l;if("themes"in r){let{defaultColor:c="light",cssVariablePrefix:u="--shiki-",colorsRendering:d="css-vars"}=r,h=Object.entries(r.themes).filter(e=>e[1]).map(e=>({color:e[0],theme:e[1]})).sort((e,t)=>e.color===c?-1:+(t.color===c));if(0===h.length)throw new ae("`themes` option must not be empty");let p=s8(e,t,r);if(l=sV(p),c&&s$!==c&&!h.find(e=>e.color===c))throw new ae(`\`themes\` option must contain the defaultColor key \`${c}\``);let m=h.map(t=>e.getTheme(t.theme)),f=h.map(e=>e.color);s=p.map(e=>e.map(e=>(function(e,t,r,n,a="css-vars"){let s={content:e.content,explanation:e.explanation,offset:e.offset},i=t.map(t=>sY(e.variants[t])),o=new Set(i.flatMap(e=>Object.keys(e))),l={},c=(e,n)=>{let a="color"===n?"":"background-color"===n?"-bg":`-${n}`;return r+t[e]+("color"===n?"":a)};return i.forEach((e,r)=>{for(let s of o){let o=e[s]||"inherit";if(0===r&&n&&sj.includes(s))if(n===s$&&i.length>1){let e=t.findIndex(e=>"light"===e),n=t.findIndex(e=>"dark"===e);if(-1===e||-1===n)throw new ae('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');let u=i[e][s]||"inherit",d=i[n][s]||"inherit";l[s]=`light-dark(${u}, ${d})`,"css-vars"===a&&(l[c(r,s)]=o)}else l[s]=o;else"css-vars"===a&&(l[c(r,s)]=o)}}),s.htmlStyle=l,s})(e,f,u,c,d))),l&&sz(s,l);let g=h.map(e=>sx(e.theme,r));a=s6(h,m,g,u,c,"fg",d),n=s6(h,m,g,u,c,"bg",d),i=`shiki-themes ${m.map(e=>e.name).join(" ")}`,o=c?void 0:[a,n].join(";")}else if("theme"in r){let o=sx(r.theme,r);s=s2(e,t,r);let c=e.getTheme(r.theme);n=sP(c.bg,o),a=sP(c.fg,o),i=c.name,l=sV(s)}else throw new ae("Invalid options, either `theme` or `themes` must be provided");return{tokens:s,fg:a,bg:n,themeName:i,rootStyle:o,grammarState:l}}function s6(e,t,r,n,a,s,i){return e.map((o,l)=>{let c=sP(t[l][s],r[l])||"inherit",u=`${n+o.color}${"bg"===s?"-bg":""}:${c}`;if(0===l&&a){if(a===s$&&e.length>1){let n=e.findIndex(e=>"light"===e.color),a=e.findIndex(e=>"dark"===e.color);if(-1===n||-1===a)throw new ae('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');let i=sP(t[n][s],r[n])||"inherit",o=sP(t[a][s],r[a])||"inherit";return`light-dark(${i}, ${o});${u}`}return c}return"css-vars"===i?u:null}).filter(e=>!!e).join(";")}function s9(e,t,r,n={meta:{},options:r,codeToHast:(t,r)=>s9(e,t,r),codeToTokens:(t,r)=>s4(e,t,r)}){let a=t;for(let e of sK(r))a=e.preprocess?.call(n,a,r)||a;let{tokens:s,fg:i,bg:o,themeName:l,rootStyle:c,grammarState:u}=s4(e,a,r),{mergeWhitespaces:d=!0,mergeSameStyleTokens:h=!1}=r;!0===d?s=s.map(e=>{let t=[],r="",n=0;return e.forEach((a,s)=>{let i=!(a.fontStyle&&(a.fontStyle&ap.Underline||a.fontStyle&ap.Strikethrough));i&&a.content.match(/^\s+$/)&&e[s+1]?(n||(n=a.offset),r+=a.content):r?(i?t.push({...a,offset:n,content:r+a.content}):t.push({content:r,offset:n},a),n=0,r=""):t.push(a)}),t}):"never"===d&&(s=s.map(e=>e.flatMap(e=>{if(e.content.match(/^\s+$/))return e;let t=e.content.match(/^(\s*)(.*?)(\s*)$/);if(!t)return e;let[,r,n,a]=t;if(!r&&!a)return e;let s=[{...e,offset:e.offset+r.length,content:n}];return r&&s.unshift({content:r,offset:e.offset}),a&&s.push({content:a,offset:e.offset+r.length+n.length}),s}))),h&&(s=s.map(e=>{let t=[];for(let r of e){if(0===t.length){t.push({...r});continue}let e=t[t.length-1],n=sq(e.htmlStyle||sY(e)),a=sq(r.htmlStyle||sY(r)),s=e.fontStyle&&(e.fontStyle&ap.Underline||e.fontStyle&ap.Strikethrough),i=r.fontStyle&&(r.fontStyle&ap.Underline||r.fontStyle&ap.Strikethrough);s||i||n!==a?t.push({...r}):e.content+=r.content}return t}));let p={...n,get source(){return a}};for(let e of sK(r))s=e.tokens?.call(p,s)||s;return function(e,t,r,n=sV(e)){let a=sK(t),s=[],i={type:"root",children:[]},{structure:o="classic",tabindex:l="0"}=t,c={type:"element",tagName:"pre",properties:{class:`shiki ${t.themeName||""}`,style:t.rootStyle||`background-color:${t.bg};color:${t.fg}`,...!1!==l&&null!=l?{tabindex:l.toString()}:{},...Object.fromEntries(Array.from(Object.entries(t.meta||{})).filter(([e])=>!e.startsWith("_")))},children:[]},u={type:"element",tagName:"code",properties:{},children:s},d=[],h={...r,structure:o,addClassToHast:sH,get source(){return r.source},get tokens(){return e},get options(){return t},get root(){return i},get pre(){return c},get code(){return u},get lines(){return d}};if(e.forEach((e,t)=>{t&&("inline"===o?i.children.push({type:"element",tagName:"br",properties:{},children:[]}):"classic"===o&&s.push({type:"text",value:"\n"}));let r={type:"element",tagName:"span",properties:{class:"line"},children:[]},n=0;for(let s of e){let e={type:"element",tagName:"span",properties:{...s.htmlAttrs},children:[{type:"text",value:s.content}]},l=sq(s.htmlStyle||sY(s));for(let i of(l&&(e.properties.style=l),a))e=i?.span?.call(h,e,t+1,n,r,s)||e;"inline"===o?i.children.push(e):"classic"===o&&r.children.push(e),n+=s.content.length}if("classic"===o){for(let e of a)r=e?.line?.call(h,r,t+1)||r;d.push(r),s.push(r)}}),"classic"===o){for(let e of a)u=e?.code?.call(h,u)||u;for(let e of(c.children.push(u),a))c=e?.pre?.call(h,c)||c;i.children.push(c)}let p=i;for(let e of a)p=e?.root?.call(h,p)||p;return n&&sz(p,n),p}(s,{...r,fg:i,bg:o,themeName:l,rootStyle:c},p,u)}let s7=function(e,t){let r=t||sL,n=r.quote||'"';if('"'!==n&&"'"!==n)throw Error("Invalid quote `"+n+"`, expected `'` or `\"`");return({one:sw,all:sM,settings:{omitOptionalTags:r.omitOptionalTags||!1,allowParseErrors:r.allowParseErrors||!1,allowDangerousCharacters:r.allowDangerousCharacters||!1,quoteSmart:r.quoteSmart||!1,preferUnquoted:r.preferUnquoted||!1,tightAttributes:r.tightAttributes||!1,upperDoctype:r.upperDoctype||!1,tightDoctype:r.tightDoctype||!1,bogusComments:r.bogusComments||!1,tightCommaSeparatedLists:r.tightCommaSeparatedLists||!1,tightSelfClosing:r.tightSelfClosing||!1,collapseEmptyAttributes:r.collapseEmptyAttributes||!1,allowDangerousHtml:r.allowDangerousHtml||!1,voids:r.voids||tB,characterReferences:r.characterReferences||sD,closeSelfClosing:r.closeSelfClosing||!1,closeEmptyElements:r.closeEmptyElements||!1},schema:"svg"===r.space?ey:eb,quote:n,alternative:'"'===n?"'":'"'}).one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)},ie="__shiki_resolved";function it(e){if(e?.[ie])return e;let t={...e};t.tokenColors&&!t.settings&&(t.settings=t.tokenColors,delete t.tokenColors),t.type||="dark",t.colorReplacements={...t.colorReplacements},t.settings||=[];let{bg:r,fg:n}=t;if(!r||!n){let e=t.settings?t.settings.find(e=>!e.name&&!e.scope):void 0;e?.settings?.foreground&&(n=e.settings.foreground),e?.settings?.background&&(r=e.settings.background),!n&&t?.colors?.["editor.foreground"]&&(n=t.colors["editor.foreground"]),!r&&t?.colors?.["editor.background"]&&(r=t.colors["editor.background"]),n||(n="light"===t.type?"#333333":"#bbbbbb"),r||(r="light"===t.type?"#fffffe":"#1e1e1e"),t.fg=n,t.bg=r}t.settings[0]&&t.settings[0].settings&&!t.settings[0].scope||t.settings.unshift({settings:{foreground:t.fg,background:t.bg}});let a=0,s=new Map;function i(e){if(s.has(e))return s.get(e);a+=1;let r=`#${a.toString(16).padStart(8,"0").toLowerCase()}`;return t.colorReplacements?.[`#${r}`]?i(e):(s.set(e,r),r)}for(let e of(t.settings=t.settings.map(e=>{let r=e.settings?.foreground&&!e.settings.foreground.startsWith("#"),n=e.settings?.background&&!e.settings.background.startsWith("#");if(!r&&!n)return e;let a={...e,settings:{...e.settings}};if(r){let r=i(e.settings.foreground);t.colorReplacements[r]=e.settings.foreground,a.settings.foreground=r}if(n){let r=i(e.settings.background);t.colorReplacements[r]=e.settings.background,a.settings.background=r}return a}),Object.keys(t.colors||{})))if(("editor.foreground"===e||"editor.background"===e||e.startsWith("terminal.ansi"))&&!t.colors[e]?.startsWith("#")){let r=i(t.colors[e]);t.colorReplacements[r]=t.colors[e],t.colors[e]=r}return Object.defineProperty(t,ie,{enumerable:!1,writable:!1,value:!0}),t}async function ir(e){return Array.from(new Set((await Promise.all(e.filter(e=>!sF(e)).map(async e=>await sv(e).then(e=>Array.isArray(e)?e:[e])))).flat()))}async function ia(e){return(await Promise.all(e.map(async e=>sU(e)?null:it(await sv(e))))).filter(e=>!!e)}class is extends Error{constructor(e){super(e),this.name="ShikiError"}}class ii extends st{constructor(e,t,r,n={}){super(e),this._resolver=e,this._themes=t,this._langs=r,this._alias=n,this._themes.map(e=>this.loadTheme(e)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(e){return"string"==typeof e?this._resolvedThemes.get(e):this.loadTheme(e)}loadTheme(e){let t=it(e);return t.name&&(this._resolvedThemes.set(t.name,t),this._loadedThemesCache=null),t}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(e){let t=this._textmateThemeCache.get(e);t||(t=ac.createFromRawTheme(e),this._textmateThemeCache.set(e,t)),this._syncRegistry.setTheme(t)}getGrammar(e){if(this._alias[e]){let t=new Set([e]);for(;this._alias[e];){if(e=this._alias[e],t.has(e))throw new is(`Circular alias \`${Array.from(t).join(" -> ")} -> ${e}\``);t.add(e)}}return this._resolvedGrammars.get(e)}loadLanguage(e){if(this.getGrammar(e.name))return;let t=new Set([...this._langMap.values()].filter(t=>t.embeddedLangsLazy?.includes(e.name)));this._resolver.addLanguage(e);let r={balancedBracketSelectors:e.balancedBracketSelectors||["*"],unbalancedBracketSelectors:e.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(e.scopeName,e);let n=this.loadGrammarWithConfiguration(e.scopeName,1,r);if(n.name=e.name,this._resolvedGrammars.set(e.name,n),e.aliases&&e.aliases.forEach(t=>{this._alias[t]=e.name}),this._loadedLanguagesCache=null,t.size)for(let e of t)this._resolvedGrammars.delete(e.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(e.scopeName),this._syncRegistry?._grammars?.delete(e.scopeName),this.loadLanguage(this._langMap.get(e.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(e){for(let t of e)this.resolveEmbeddedLanguages(t);let t=Array.from(this._langGraph.entries()),r=t.filter(([e,t])=>!t);if(r.length){let e=t.filter(([e,t])=>t&&t.embeddedLangs?.some(e=>r.map(([e])=>e).includes(e))).filter(e=>!r.includes(e));throw new is(`Missing languages ${r.map(([e])=>`\`${e}\``).join(", ")}, required by ${e.map(([e])=>`\`${e}\``).join(", ")}`)}for(let[e,r]of t)this._resolver.addLanguage(r);for(let[e,r]of t)this.loadLanguage(r)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(e){if(this._langMap.set(e.name,e),this._langGraph.set(e.name,e),e.embeddedLangs)for(let t of e.embeddedLangs)this._langGraph.set(t,this._langMap.get(t))}}class io{_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(e,t){this._onigLib={createOnigScanner:t=>e.createScanner(t),createOnigString:t=>e.createString(t)},t.forEach(e=>this.addLanguage(e))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(t=>{this._langs.set(t,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(t=>{this._injections.get(t)||this._injections.set(t,[]),this._injections.get(t).push(e.scopeName)})}getInjections(e){let t=e.split("."),r=[];for(let e=1;e<=t.length;e++){let n=t.slice(0,e).join(".");r=[...r,...this._injections.get(n)||[]]}return r}}let il=0;async function ic(e){e.engine||function(e,t=3){if(!(t>3))if(1)console.trace(`[SHIKI DEPRECATE]: ${e}`);else throw Error(`[SHIKI DEPRECATE]: ${e}`)}("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");let[t,r,n]=await Promise.all([ia(e.themes||[]),ir(e.langs||[]),e.engine]);return function(e){let t;il+=1,!1!==e.warnings&&il>=10&&il%10==0&&console.warn(`[Shiki] ${il} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let r=!1;if(!e.engine)throw new is("`engine` option is required for synchronous mode");let n=(e.langs||[]).flat(1),a=(e.themes||[]).flat(1).map(it),s=new ii(new io(e.engine,n),a,n,e.langAlias);function i(e){if("none"===e)return{bg:"",fg:"",name:"none",settings:[],type:"dark"};c();let t=s.getTheme(e);if(!t)throw new is(`Theme \`${e}\` not found, you may need to load it first`);return t}function o(...e){c(),s.loadLanguages(e.flat(1))}function l(...e){for(let t of(c(),e.flat(1)))s.loadTheme(t)}function c(){if(r)throw new is("Shiki instance has been disposed")}function u(){r||(r=!0,s.dispose(),il-=1)}return{setTheme:function(e){c();let r=i(e);return t!==e&&(s.setTheme(r),t=e),{theme:r,colorMap:s.getColorMap()}},getTheme:i,getLanguage:function(e){c();let t=s.getGrammar("string"==typeof e?e:e.name);if(!t)throw new is(`Language \`${e}\` not found, you may need to load it first`);return t},getLoadedThemes:function(){return c(),s.getLoadedThemes()},getLoadedLanguages:function(){return c(),s.getLoadedLanguages()},loadLanguage:async function(...e){return o(await ir(e))},loadLanguageSync:o,loadTheme:async function(...e){return c(),l(await ia(e))},loadThemeSync:l,dispose:u,[Symbol.dispose]:u}}({...e,themes:t,langs:r,engine:n})}async function iu(e){let t=await ic(e);return{getLastGrammarState:(...e)=>(function(...e){if(2===e.length)return sV(e[1]);let[t,r,n={}]=e,{lang:a="text",theme:s=t.getLoadedThemes()[0]}=n;if(sB(a)||sU(s))throw new ae("Plain language does not have grammar state");if("ansi"===a)throw new ae("ANSI language does not have grammar state");let{theme:i,colorMap:o}=t.setTheme(s),l=t.getLanguage(a);return new sQ(s3(r,l,i,o,n).stateStack,l.name,i.name)})(t,...e),codeToTokensBase:(e,r)=>s2(t,e,r),codeToTokensWithThemes:(e,r)=>s8(t,e,r),codeToTokens:(e,r)=>s4(t,e,r),codeToHast:(e,r)=>s9(t,e,r),codeToHtml:(e,r)=>(function(e,t,r){let n={meta:{},options:r,codeToHast:(t,r)=>s9(e,t,r),codeToTokens:(t,r)=>s4(e,t,r)},a=s7(s9(e,t,r,n));for(let e of sK(r))a=e.postprocess?.call(n,a,r)||a;return a})(t,e,r),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...t,getInternalContext:()=>t}}let id=Object.fromEntries([{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:()=>e.A(261001)},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:()=>e.A(209398)},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:()=>e.A(392319)},{id:"catppuccin-frappe",displayName:"Catppuccin Frapp",type:"dark",import:()=>e.A(317395)},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:()=>e.A(429988)},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:()=>e.A(458809)},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:()=>e.A(504251)},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:()=>e.A(797030)},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:()=>e.A(6724)},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:()=>e.A(989334)},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:()=>e.A(48559)},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:()=>e.A(182031)},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:()=>e.A(472410)},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:()=>e.A(188243)},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:()=>e.A(304335)},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:()=>e.A(202615)},{id:"github-light",displayName:"GitHub Light",type:"light",import:()=>e.A(970050)},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:()=>e.A(43440)},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:()=>e.A(443438)},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:()=>e.A(689765)},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:()=>e.A(887882)},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:()=>e.A(252214)},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:()=>e.A(458274)},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:()=>e.A(986226)},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:()=>e.A(703010)},{id:"houston",displayName:"Houston",type:"dark",import:()=>e.A(123215)},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:()=>e.A(327395)},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:()=>e.A(211151)},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:()=>e.A(305826)},{id:"laserwave",displayName:"LaserWave",type:"dark",import:()=>e.A(647383)},{id:"light-plus",displayName:"Light Plus",type:"light",import:()=>e.A(85383)},{id:"material-theme",displayName:"Material Theme",type:"dark",import:()=>e.A(46731)},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:()=>e.A(504652)},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:()=>e.A(825828)},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:()=>e.A(426366)},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:()=>e.A(896445)},{id:"min-dark",displayName:"Min Dark",type:"dark",import:()=>e.A(317751)},{id:"min-light",displayName:"Min Light",type:"light",import:()=>e.A(986451)},{id:"monokai",displayName:"Monokai",type:"dark",import:()=>e.A(181243)},{id:"night-owl",displayName:"Night Owl",type:"dark",import:()=>e.A(172707)},{id:"nord",displayName:"Nord",type:"dark",import:()=>e.A(867427)},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:()=>e.A(849215)},{id:"one-light",displayName:"One Light",type:"light",import:()=>e.A(108501)},{id:"plastic",displayName:"Plastic",type:"dark",import:()=>e.A(465396)},{id:"poimandres",displayName:"Poimandres",type:"dark",import:()=>e.A(985739)},{id:"red",displayName:"Red",type:"dark",import:()=>e.A(841117)},{id:"rose-pine",displayName:"Ros Pine",type:"dark",import:()=>e.A(100999)},{id:"rose-pine-dawn",displayName:"Ros Pine Dawn",type:"light",import:()=>e.A(395002)},{id:"rose-pine-moon",displayName:"Ros Pine Moon",type:"dark",import:()=>e.A(818114)},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:()=>e.A(436508)},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:()=>e.A(437869)},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:()=>e.A(635231)},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:()=>e.A(111941)},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:()=>e.A(636061)},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:()=>e.A(776760)},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:()=>e.A(988502)},{id:"vesper",displayName:"Vesper",type:"dark",import:()=>e.A(212547)},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:()=>e.A(131581)},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:()=>e.A(399367)},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:()=>e.A(809429)}].map(e=>[e.id,e.import]));var ih=e.i(781840);class ip extends Error{constructor(e){super(e),this.name="ShikiError"}}function im(){return"undefined"!=typeof performance?performance.now():Date.now()}let ig=(e,t)=>e+(t-e%t)%t;async function iE(e){let t,r,n={};function a(e){r=e,n.HEAPU8=new Uint8Array(e),n.HEAPU32=new Uint32Array(e)}let s="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function i(e,t){return e?function(e,t,r=1024){let n=t+r,a=t;for(;e[a]&&!(a>=n);)++a;if(a-t>16&&e.buffer&&s)return s.decode(e.subarray(t,a));let i="";for(;t<a;){let r=e[t++];if(!(128&r)){i+=String.fromCharCode(r);continue}let n=63&e[t++];if((224&r)==192){i+=String.fromCharCode((31&r)<<6|n);continue}let a=63&e[t++];if((r=(240&r)==224?(15&r)<<12|n<<6|a:(7&r)<<18|n<<12|a<<6|63&e[t++])<65536)i+=String.fromCharCode(r);else{let e=r-65536;i+=String.fromCharCode(55296|e>>10,56320|1023&e)}}return i}(n.HEAPU8,e,t):""}let o={emscripten_get_now:im,emscripten_memcpy_big:function(e,t,r){n.HEAPU8.copyWithin(e,t,t+r)},emscripten_resize_heap:function(e){let s=n.HEAPU8.length;if((e>>>=0)>0x80000000)return!1;for(let n=1;n<=4;n*=2){let i=s*(1+.2/n);if(i=Math.min(i,e+0x6000000),function(e){try{return t.grow(e-r.byteLength+65535>>>16),a(t.buffer),1}catch{}}(Math.min(0x80000000,ig(Math.max(e,i),65536))))return!0}return!1},fd_write:()=>0};async function l(){let r=await e({env:o,wasi_snapshot_preview1:o});a((t=r.memory).buffer),Object.assign(n,r),n.UTF8ToString=i}return await l(),n}var iT=Object.defineProperty,i_=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?iT(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};let iA=null;class iC{constructor(e){i_(this,"utf16Length"),i_(this,"utf8Length"),i_(this,"utf16Value"),i_(this,"utf8Value"),i_(this,"utf16OffsetToUtf8"),i_(this,"utf8OffsetToUtf16");const t=e.length,r=iC._utf8ByteLength(e),n=r!==t,a=n?new Uint32Array(t+1):null;n&&(a[t]=r);const s=n?new Uint32Array(r+1):null;n&&(s[r]=t);const i=new Uint8Array(r);let o=0;for(let r=0;r<t;r++){const l=e.charCodeAt(r);let c=l,u=!1;if(l>=55296&&l<=56319&&r+1<t){const t=e.charCodeAt(r+1);t>=56320&&t<=57343&&(c=(l-55296<<10)+65536|t-56320,u=!0)}n&&(a[r]=o,u&&(a[r+1]=o),c<=127?s[o+0]=r:c<=2047?(s[o+0]=r,s[o+1]=r):c<=65535?(s[o+0]=r,s[o+1]=r,s[o+2]=r):(s[o+0]=r,s[o+1]=r,s[o+2]=r,s[o+3]=r)),c<=127?i[o++]=c:(c<=2047?i[o++]=192|(1984&c)>>>6:(c<=65535?i[o++]=224|(61440&c)>>>12:(i[o++]=240|(1835008&c)>>>18,i[o++]=128|(258048&c)>>>12),i[o++]=128|(4032&c)>>>6),i[o++]=128|(63&c)>>>0),u&&r++}this.utf16Length=t,this.utf8Length=r,this.utf16Value=e,this.utf8Value=i,this.utf16OffsetToUtf8=a,this.utf8OffsetToUtf16=s}static _utf8ByteLength(e){let t=0;for(let r=0,n=e.length;r<n;r++){let a=e.charCodeAt(r),s=a,i=!1;if(a>=55296&&a<=56319&&r+1<n){let t=e.charCodeAt(r+1);t>=56320&&t<=57343&&(s=(a-55296<<10)+65536|t-56320,i=!0)}s<=127?t+=1:s<=2047?t+=2:s<=65535?t+=3:t+=4,i&&r++}return t}createString(e){let t=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,t),t}}let iN=class e{constructor(t){if(i_(this,"id",++e.LAST_ID),i_(this,"_onigBinding"),i_(this,"content"),i_(this,"utf16Length"),i_(this,"utf8Length"),i_(this,"utf16OffsetToUtf8"),i_(this,"utf8OffsetToUtf16"),i_(this,"ptr"),!iA)throw new ip("Must invoke loadWasm first.");this._onigBinding=iA,this.content=t;const r=new iC(t);this.utf16Length=r.utf16Length,this.utf8Length=r.utf8Length,this.utf16OffsetToUtf8=r.utf16OffsetToUtf8,this.utf8OffsetToUtf16=r.utf8OffsetToUtf16,this.utf8Length<1e4&&!e._sharedPtrInUse?(e._sharedPtr||(e._sharedPtr=iA.omalloc(1e4)),e._sharedPtrInUse=!0,iA.HEAPU8.set(r.utf8Value,e._sharedPtr),this.ptr=e._sharedPtr):this.ptr=r.createString(iA)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===e._sharedPtr?e._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};i_(iN,"LAST_ID",0),i_(iN,"_sharedPtr",0),i_(iN,"_sharedPtrInUse",!1);class ib{constructor(e){if(i_(this,"_onigBinding"),i_(this,"_ptr"),!iA)throw new ip("Must invoke loadWasm first.");const t=[],r=[];for(let n=0,a=e.length;n<a;n++){const a=new iC(e[n]);t[n]=a.createString(iA),r[n]=a.utf8Length}const n=iA.omalloc(4*e.length);iA.HEAPU32.set(t,n/4);const a=iA.omalloc(4*e.length);iA.HEAPU32.set(r,a/4);const s=iA.createOnigScanner(n,a,e.length);for(let r=0,n=e.length;r<n;r++)iA.ofree(t[r]);iA.ofree(a),iA.ofree(n),0===s&&function(e){throw new ip(e.UTF8ToString(e.getLastOnigError()))}(iA),this._onigBinding=iA,this._ptr=s}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,t,r){let n=0;if("number"==typeof r&&(n=r),"string"==typeof e){e=new iN(e);let r=this._findNextMatchSync(e,t,!1,n);return e.dispose(),r}return this._findNextMatchSync(e,t,!1,n)}_findNextMatchSync(e,t,r,n){let a=this._onigBinding,s=a.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(t),n);if(0===s)return null;let i=a.HEAPU32,o=s/4,l=i[o++],c=i[o++],u=[];for(let t=0;t<c;t++){let r=e.convertUtf8OffsetToUtf16(i[o++]),n=e.convertUtf8OffsetToUtf16(i[o++]);u[t]={start:r,end:n,length:n-r}}return{index:l,captureIndices:u}}}function iy(e){return t=>WebAssembly.instantiate(e,t)}async function ik(e){return e&&await (r||(r=async function(){iA=await iE(async t=>{let r=e;if("function"==typeof(r=await r)&&(r=await r(t)),"function"==typeof r&&(r=await r(t)),"function"==typeof r.instantiator)r=await r.instantiator(t);else if("function"==typeof r.default)r=await r.default(t);else{var n,a,s,i;if(void 0!==r.data&&(r=r.data),n=r,"undefined"!=typeof Response&&n instanceof Response){r="function"==typeof WebAssembly.instantiateStreaming?await (s=r,e=>WebAssembly.instantiateStreaming(s,e))(t):await (i=r,async e=>{let t=await i.arrayBuffer();return WebAssembly.instantiate(t,e)})(t)}else(a=r,"undefined"!=typeof ArrayBuffer&&(a instanceof ArrayBuffer||ArrayBuffer.isView(a))||void 0!==ih.Buffer&&ih.Buffer.isBuffer?.(a)||"undefined"!=typeof SharedArrayBuffer&&a instanceof SharedArrayBuffer||"undefined"!=typeof Uint32Array&&a instanceof Uint32Array||r instanceof WebAssembly.Module)?r=await iy(r)(t):"default"in r&&r.default instanceof WebAssembly.Module&&(r=await iy(r.default)(t))}return"instance"in r&&(r=r.instance),"exports"in r&&(r=r.exports),r})}())),{createScanner:e=>new ib(e.map(e=>"string"==typeof e?e:e.source)),createString:e=>new iN(e)}}let iS=(n=(b={langs:n7,themes:id,engine:()=>ik(e.A(827813))}).langs,a=b.themes,s=b.engine,async function(e){function t(t){if("string"==typeof t){if(sF(t))return[];let r=n[t=e.langAlias?.[t]||t];if(!r)throw new ae(`Language \`${t}\` is not included in this bundle. You may want to load it from external source.`);return r}return t}function r(e){if(sU(e))return"none";if("string"==typeof e){let t=a[e];if(!t)throw new ae(`Theme \`${e}\` is not included in this bundle. You may want to load it from external source.`);return t}return e}let i=(e.themes??[]).map(e=>r(e)),o=(e.langs??[]).map(e=>t(e)),l=await iu({engine:e.engine??s(),...e,themes:i,langs:o});return{...l,loadLanguage:(...e)=>l.loadLanguage(...e.map(t)),loadTheme:(...e)=>l.loadTheme(...e.map(r)),getBundledLanguages:()=>n,getBundledThemes:()=>a}});function iI(e){if(1!=[...e].length)throw Error(`Expected "${e}" to be a single code point`);return e.codePointAt(0)}let iR=new Set(["alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit"]),iL=String.raw;function iD(e,t){if(null==e)throw Error(t??"Value expected");return e}let iO=iL`\[\^?`,iw=`c.? | C(?:-.?)?|${iL`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${iL`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${iL`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${iL`o\{[^\}]*\}?`}|${iL`\d{1,3}`}`,iM=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,ix=RegExp(iL`
  \\ (?:
    ${iw}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?:
    \? (?:
      [:=!>({]
      | <[=!]
      | <[^>]*>
      | '[^']*'
      | ~\|?
      | #(?:[^)\\]|\\.?)*
      | [^:)]*[:)]
    )?
    | \*[^\)]*\)?
  )?
  | (?:${iM.source})+
  | ${iO}
  | .
`.replace(/\s+/g,""),"gsu"),iP=RegExp(iL`
  \\ (?:
    ${iw}
    | .
  )
  | \[:(?:\^?\p{Alpha}+|\^):\]
  | ${iO}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function iv(e,{inCharClass:t}){let r=e[1];if("c"===r||"C"===r){var n,a=e;let t="c"===a[1]?a[2]:a[3];if(!t||!/[A-Za-z]/.test(t))throw Error(`Unsupported control character "${a}"`);return iU(iI(t.toUpperCase())-64,a)}if("dDhHsSwW".includes(r)){let t;return iG({d:"digit",h:"hex",s:"space",w:"word"}[t=(n=e)[1].toLowerCase()],n,{negate:n[1]!==t})}if(e.startsWith(iL`\o{`))throw Error(`Incomplete, invalid, or unsupported octal code point "${e}"`);if(/^\\[pP]\{/.test(e)){if(3===e.length)throw Error(`Incomplete or invalid Unicode property "${e}"`);return function(e){let{p:t,neg:r,value:n}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(e).groups;return iG("property",e,{value:n,negate:"P"===t&&!r||"p"===t&&!!r})}(e)}if(/^\\x[89A-Fa-f]\p{AHex}/u.test(e))try{let t=e.split(/\\x/).slice(1).map(e=>parseInt(e,16)),r=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(t)),n=new TextEncoder;return[...r].map(e=>{let t=[...n.encode(e)].map(e=>`\\x${e.toString(16)}`).join("");return iU(iI(e),t)})}catch{throw Error(`Multibyte code "${e}" incomplete or invalid in Oniguruma`)}if("u"===r||"x"===r)return iU(function(e){if(/^(?:\\u(?!\p{AHex}{4})|\\x(?!\p{AHex}{1,2}|\{\p{AHex}{1,8}\}))/u.test(e))throw Error(`Incomplete or invalid escape "${e}"`);return parseInt("{"===e[2]?/^\\x\{\s*(?<hex>\p{AHex}+)/u.exec(e).groups.hex:e.slice(2),16)}(e),e);if(iq.has(r))return iU(iq.get(r),e);if(/\d/.test(r))return{type:"EscapedNumber",inCharClass:t,raw:e};if("\\"===e)throw Error(iL`Incomplete escape "\"`);if("M"===r)throw Error(`Unsupported meta "${e}"`);if(2==[...e].length)return iU(e.codePointAt(1),e);throw Error(`Unexpected escape "${e}"`)}function iB(e,t){return{type:"Assertion",kind:e,raw:t}}function iF(e){return{type:"Backreference",raw:e}}function iU(e,t){return{type:"Character",value:e,raw:t}}function iH(e,t){return{type:"CharacterClassOpen",negate:e,raw:t}}function iG(e,t,r={}){return{type:"CharacterSet",kind:e,...r,raw:t}}function i$(e,t,r={}){return"keep"===e?{type:"Directive",kind:e,raw:t}:{type:"Directive",kind:e,flags:iD(r.flags),raw:t}}function ij(e,t,r={}){return{type:"GroupOpen",kind:e,...r,raw:t}}let iY=new Set(["COUNT","CMP","ERROR","FAIL","MAX","MISMATCH","SKIP","TOTAL_COUNT"]),iq=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]);function iW(e){let t=null,r,n;if("{"===e[0]){let{minStr:a,maxStr:s}=/^\{(?<minStr>\d*)(?:,(?<maxStr>\d*))?/.exec(e).groups;if(+a>1e5||s&&+s>1e5)throw Error("Quantifier value unsupported in Oniguruma");if((r=+a)>(n=void 0===s?+a:""===s?1/0:+s)&&(t="possessive",[r,n]=[n,r]),e.endsWith("?")){if("possessive"===t)throw Error('Unsupported possessive interval quantifier chain with "?"');t="lazy"}else t||(t="greedy")}else r=+("+"===e[0]),n="?"===e[0]?1:1/0,t="+"===e[1]?"possessive":"?"===e[1]?"lazy":"greedy";return{type:"Quantifier",kind:t,min:r,max:n,raw:e}}function iz(e){let t={};return e.includes("i")&&(t.ignoreCase=!0),e.includes("m")&&(t.dotAll=!0),e.includes("x")&&(t.extended=!0),Object.keys(t).length?t:null}function iV(e,t){if(!Array.isArray(e.body))throw Error("Expected node with body array");if(1!==e.body.length)return!1;let r=e.body[0];return!t||Object.keys(t).every(e=>t[e]===r[e])}let iQ=new Set(["AbsenceFunction","Backreference","CapturingGroup","Character","CharacterClass","CharacterSet","Group","Quantifier","Subroutine"]);function iX(e,t={}){var r;let n={flags:"",normalizeUnknownPropertyNames:!1,skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t,rules:{captureGroup:!1,singleline:!1,...t.rules}},a=function(e,t={}){let r={flags:"",...t,rules:{captureGroup:!1,singleline:!1,...t.rules}};if("string"!=typeof e)throw Error("String expected as pattern");let n=function(e){let t={ignoreCase:!1,dotAll:!1,extended:!1,digitIsAscii:!1,posixIsAscii:!1,spaceIsAscii:!1,wordIsAscii:!1,textSegmentMode:null};for(let r=0;r<e.length;r++){let n=e[r];if(!"imxDPSWy".includes(n))throw Error(`Invalid flag "${n}"`);if("y"===n){if(!/^y{[gw]}/.test(e.slice(r)))throw Error('Invalid or unspecified flag "y" mode');t.textSegmentMode="g"===e[r+2]?"grapheme":"word",r+=3;continue}t[({i:"ignoreCase",m:"dotAll",x:"extended",D:"digitIsAscii",P:"posixIsAscii",S:"spaceIsAscii",W:"wordIsAscii"})[n]]=!0}return t}(r.flags),a=[n.extended],s={captureGroup:r.rules.captureGroup,getCurrentModX:()=>a.at(-1),numOpenGroups:0,popModX(){a.pop()},pushModX(e){a.push(e)},replaceCurrentModX(e){a[a.length-1]=e},singleline:r.rules.singleline},i=[],o;for(ix.lastIndex=0;o=ix.exec(e);){let t=function(e,t,r,n){let[a,s]=r;if("["===r||"[^"===r){let e=function(e,t,r){let n=[iH("^"===t[1],t)],a=1,s;for(iP.lastIndex=r;s=iP.exec(e);){let e=s[0];if("["===e[0]&&":"!==e[1])a++,n.push(iH("^"===e[1],e));else if("]"===e){if("CharacterClassOpen"===n.at(-1).type)n.push(iU(93,e));else if(a--,n.push({type:"CharacterClassClose",raw:e}),!a)break}else{let t=function(e){if("\\"===e[0])return iv(e,{inCharClass:!0});if("["===e[0]){let t=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(e);if(!t||!iR.has(t.groups.name))throw Error(`Invalid POSIX class "${e}"`);return iG("posix",e,{value:t.groups.name,negate:!!t.groups.negate})}return"-"===e?{type:"CharacterClassHyphen",raw:e}:"&&"===e?{type:"CharacterClassIntersector",raw:e}:iU(iI(e),e)}(e);Array.isArray(t)?n.push(...t):n.push(t)}}return{tokens:n,lastIndex:iP.lastIndex||e.length}}(t,r,n);return{tokens:e.tokens,lastIndex:e.lastIndex}}if("\\"===a){if("AbBGyYzZ".includes(s))return{token:iB(r,r)};if(/^\\g[<']/.test(r)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(r))throw Error(`Invalid group name "${r}"`);return{token:{type:"Subroutine",raw:r}}}if(/^\\k[<']/.test(r)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(r))throw Error(`Invalid group name "${r}"`);return{token:iF(r)}}if("K"===s)return{token:i$("keep",r)};if("N"===s||"R"===s)return{token:iG("newline",r,{negate:"N"===s})};if("O"===s)return{token:iG("any",r)};if("X"===s)return{token:iG("text_segment",r)};let e=iv(r,{inCharClass:!1});return Array.isArray(e)?{tokens:e}:{token:e}}if("("===a){if("*"===s)return{token:function(e){let t=/\(\*(?<name>[A-Za-z_]\w*)?(?:\[(?<tag>(?:[A-Za-z_]\w*)?)\])?(?:\{(?<args>[^}]*)\})?\)/.exec(e);if(!t)throw Error(`Incomplete or invalid named callout "${e}"`);let{name:r,tag:n,args:a}=t.groups;if(!r)throw Error(`Invalid named callout "${e}"`);if(""===n)throw Error(`Named callout tag with empty value not allowed "${e}"`);let s=a?a.split(",").filter(e=>""!==e).map(e=>/^[+-]?\d+$/.test(e)?+e:e):[],[i,o,l]=s,c=iY.has(r)?r.toLowerCase():"custom";switch(c){case"fail":case"mismatch":case"skip":if(s.length>0)throw Error(`Named callout arguments not allowed "${s}"`);break;case"error":if(s.length>1)throw Error(`Named callout allows only one argument "${s}"`);if("string"==typeof i)throw Error(`Named callout argument must be a number "${i}"`);break;case"max":if(!s.length||s.length>2)throw Error(`Named callout must have one or two arguments "${s}"`);if("string"==typeof i&&!/^[A-Za-z_]\w*$/.test(i))throw Error(`Named callout argument one must be a tag or number "${i}"`);if(2===s.length&&("number"==typeof o||!/^[<>X]$/.test(o)))throw Error(`Named callout optional argument two must be '<', '>', or 'X' "${o}"`);break;case"count":case"total_count":if(s.length>1)throw Error(`Named callout allows only one argument "${s}"`);if(1===s.length&&("number"==typeof i||!/^[<>X]$/.test(i)))throw Error(`Named callout optional argument must be '<', '>', or 'X' "${i}"`);break;case"cmp":if(3!==s.length)throw Error(`Named callout must have three arguments "${s}"`);if("string"==typeof i&&!/^[A-Za-z_]\w*$/.test(i))throw Error(`Named callout argument one must be a tag or number "${i}"`);if("number"==typeof o||!/^(?:[<>!=]=|[<>])$/.test(o))throw Error(`Named callout argument two must be '==', '!=', '>', '<', '>=', or '<=' "${o}"`);if("string"==typeof l&&!/^[A-Za-z_]\w*$/.test(l))throw Error(`Named callout argument three must be a tag or number "${l}"`);break;case"custom":throw Error(`Undefined callout name "${r}"`);default:throw Error(`Unexpected named callout kind "${c}"`)}return{type:"NamedCallout",kind:c,tag:n??null,arguments:a?.split(",")??null,raw:e}}(r)};if("(?{"===r)throw Error(`Unsupported callout "${r}"`);if(r.startsWith("(?#")){if(")"!==t[n])throw Error('Unclosed comment group "(?#"');return{lastIndex:n+1}}if(/^\(\?[-imx]+[:)]$/.test(r))return{token:function(e,t){let{on:r,off:n}=/^\(\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?/.exec(e).groups;n??="";let a=(t.getCurrentModX()||r.includes("x"))&&!n.includes("x"),s=iz(r),i=iz(n),o={};if(s&&(o.enable=s),i&&(o.disable=i),e.endsWith(")"))return t.replaceCurrentModX(a),i$("flags",e,{flags:o});if(e.endsWith(":"))return t.pushModX(a),t.numOpenGroups++,ij("group",e,{...(s||i)&&{flags:o}});throw Error(`Unexpected flag modifier "${e}"`)}(r,e)};if(e.pushModX(e.getCurrentModX()),e.numOpenGroups++,"("===r&&!e.captureGroup||"(?:"===r)return{token:ij("group",r)};if("(?>"===r)return{token:ij("atomic",r)};if("(?="===r||"(?!"===r||"(?<="===r||"(?<!"===r)return{token:ij("<"===r[2]?"lookbehind":"lookahead",r,{negate:r.endsWith("!")})};if("("===r&&e.captureGroup||r.startsWith("(?<")&&r.endsWith(">")||r.startsWith("(?'")&&r.endsWith("'"))return{token:ij("capturing",r,{..."("!==r&&{name:r.slice(3,-1)}})};if(r.startsWith("(?~")){if("(?~|"===r)throw Error(`Unsupported absence function kind "${r}"`);return{token:ij("absence_repeater",r)}}throw"(?("===r?Error(`Unsupported conditional "${r}"`):Error(`Invalid or unsupported group option "${r}"`)}if(")"===r){if(e.popModX(),e.numOpenGroups--,e.numOpenGroups<0)throw Error('Unmatched ")"');return{token:{type:"GroupClose",raw:r}}}if(e.getCurrentModX()){if("#"===r){let e=t.indexOf(`
`,n);return{lastIndex:-1===e?t.length:e}}if(/^\s$/.test(r)){let e=/\s+/y;return e.lastIndex=n,{lastIndex:e.exec(t)?e.lastIndex:n}}}return"."===r?{token:iG("dot",r)}:"^"===r||"$"===r?{token:iB(e.singleline?({"^":iL`\A`,$:iL`\Z`})[r]:r,r)}:"|"===r?{token:{type:"Alternator",raw:r}}:iM.test(r)?{tokens:function(e){let t,r=[],n=RegExp(iM,"gy");for(;t=n.exec(e);){let e=t[0];if("{"===e[0]){let t=/^\{(?<min>\d+),(?<max>\d+)\}\??$/.exec(e);if(t){let{min:a,max:s}=t.groups;if(+a>+s&&e.endsWith("?")){n.lastIndex--,r.push(iW(e.slice(0,-1)));continue}}}r.push(iW(e))}return r}(r)}:{token:iU(iI(r),r)}}(s,e,o[0],ix.lastIndex);t.tokens?i.push(...t.tokens):t.token&&i.push(t.token),void 0!==t.lastIndex&&(ix.lastIndex=t.lastIndex)}let l=[],c=0;i.filter(e=>"GroupOpen"===e.type).forEach(e=>{"capturing"===e.kind?e.number=++c:"("===e.raw&&l.push(e)}),c||l.forEach((e,t)=>{e.kind="capturing",e.number=t+1});let u=c||l.length;return{tokens:i.map(e=>"EscapedNumber"===e.type?function(e,t){let{raw:r,inCharClass:n}=e,a=r.slice(1);if(!n&&("0"!==a&&1===a.length||"0"!==a[0]&&+a<=t))return[iF(r)];let s=[],i=a.match(/^[0-7]+|\d/g);for(let e=0;e<i.length;e++){let t,n=i[e];if(0===e&&"8"!==n&&"9"!==n){if((t=parseInt(n,8))>127)throw Error(iL`Octal encoded byte above 177 unsupported "${r}"`)}else t=iI(n);s.push(iU(t,(0===e?"\\":"")+n))}return s}(e,u):e).flat(),flags:n}}(e,{flags:n.flags,rules:{captureGroup:n.rules.captureGroup,singleline:n.rules.singleline}}),s=(e,t)=>{let r=a.tokens[i.nextIndex];switch(i.parent=e,i.nextIndex++,r.type){case"Alternator":return iK();case"Assertion":return function({kind:e}){return iJ(iD({"^":"line_start",$:"line_end","\\A":"string_start","\\b":"word_boundary","\\B":"word_boundary","\\G":"search_start","\\y":"text_segment_boundary","\\Y":"text_segment_boundary","\\z":"string_end","\\Z":"string_end_newline"}[e],`Unexpected assertion kind "${e}"`),{negate:e===iL`\B`||e===iL`\Y`})}(r);case"Backreference":return function({raw:e},t){let r=/^\\k[<']/.test(e),n=r?e.slice(3,-1):e.slice(1),a=(r,n=!1)=>{let a=t.capturingGroups.length,s=!1;if(r>a)if(t.skipBackrefValidation)s=!0;else throw Error(`Not enough capturing groups defined to the left "${e}"`);return t.hasNumberedRef=!0,iZ(n?a+1-r:r,{orphan:s})};if(r){let r=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(n);if(r)return a(+r.groups.num,!!r.groups.sign);if(/[-+]/.test(n))throw Error(`Invalid backref name "${e}"`);if(!t.namedGroupsByName.has(n))throw Error(`Group name not defined to the left "${e}"`);return iZ(n)}return a(+n)}(r,i);case"Character":return i1(r.value,{useLastValid:!!t.isCheckingRangeEnd});case"CharacterClassHyphen":return function(e,t,r){let{tokens:n,walk:a}=t,s=t.parent,i=s.body.at(-1),o=n[t.nextIndex];if(!r.isCheckingRangeEnd&&i&&"CharacterClass"!==i.type&&"CharacterClassRange"!==i.type&&o&&"CharacterClassOpen"!==o.type&&"CharacterClassClose"!==o.type&&"CharacterClassIntersector"!==o.type){let e=a(s,{...r,isCheckingRangeEnd:!0});if("Character"===i.type&&"Character"===e.type)return s.body.pop(),function(e,t){if(t.value<e.value)throw Error("Character class range out of order");return{type:"CharacterClassRange",min:e,max:t}}(i,e);throw Error("Invalid character class range")}return i1(iI("-"))}(0,i,t);case"CharacterClassOpen":return function({negate:e},t,r){let{tokens:n,walk:a}=t,s=n[t.nextIndex],i=[i2()],o=oa(s);for(;"CharacterClassClose"!==o.type;){if("CharacterClassIntersector"===o.type)i.push(i2()),t.nextIndex++;else{let e=i.at(-1);e.body.push(a(e,r))}o=oa(n[t.nextIndex],s)}let l=i2({negate:e});return 1===i.length?l.body=i[0].body:(l.kind="intersection",l.body=i.map(e=>1===e.body.length?e.body[0]:e)),t.nextIndex++,l}(r,i,t);case"CharacterSet":return function({kind:e,negate:t,value:r},n){let{normalizeUnknownPropertyNames:a,skipPropertyNameValidation:s,unicodePropertyMap:i}=n;if("property"===e){let n=on(r);if(!iR.has(n)||i?.has(n))return i9(r,{negate:t,normalizeUnknownPropertyNames:a,skipPropertyNameValidation:s,unicodePropertyMap:i});e="posix",r=n}return"posix"===e?function(e,t){let r=!!t?.negate;if(!iR.has(e))throw Error(`Invalid POSIX class "${e}"`);return{type:"CharacterSet",kind:"posix",value:e,negate:r}}(r,{negate:t}):i3(e,{negate:t})}(r,i);case"Directive":return function(e,t={}){if("keep"===e)return{type:"Directive",kind:e};if("flags"===e)return{type:"Directive",kind:e,flags:iD(t.flags)};throw Error(`Unexpected directive kind "${e}"`)}(r.kind,{flags:r.flags});case"GroupOpen":return function(e,t,r){var n,a;let{tokens:s,capturingGroups:i,namedGroupsByName:o,skipLookbehindValidation:l,walk:c}=t,u=function({flags:e,kind:t,name:r,negate:n,number:a}){switch(t){case"absence_repeater":var s="repeater";!1;return{type:"AbsenceFunction",kind:s,body:i7(void 0)};case"atomic":return i5({atomic:!0});case"capturing":return i0(a,{name:r});case"group":return i5({flags:e});case"lookahead":case"lookbehind":return i8({behind:"lookbehind"===t,negate:n});default:throw Error(`Unexpected group kind "${t}"`)}}(e),d="AbsenceFunction"===u.type,h=or(u),p=h&&u.negate;if("CapturingGroup"===u.type&&(i.push(u),u.name&&(n=u.name,a=[],o.has(n)||o.set(n,a),o.get(n)).push(u)),d&&r.isInAbsenceFunction)throw Error("Nested absence function not supported by Oniguruma");let m=os(s[t.nextIndex]);for(;"GroupClose"!==m.type;){if("Alternator"===m.type)u.body.push(iK()),t.nextIndex++;else{let e=u.body.at(-1),t=c(e,{...r,isInAbsenceFunction:r.isInAbsenceFunction||d,isInLookbehind:r.isInLookbehind||h,isInNegLookbehind:r.isInNegLookbehind||p});if(e.body.push(t),(h||r.isInLookbehind)&&!l){let e="Lookbehind includes a pattern not allowed by Oniguruma";if(p||r.isInNegLookbehind){if(ot(t)||"CapturingGroup"===t.type)throw Error(e)}else if(ot(t)||or(t)&&t.negate)throw Error(e)}}m=os(s[t.nextIndex])}return t.nextIndex++,u}(r,i,t);case"NamedCallout":var n,s;return n=r.kind,s=r.tag,{type:"NamedCallout",kind:n,tag:s,arguments:r.arguments};case"Quantifier":return function({kind:e,min:t,max:r},n){let a=n.parent,s=a.body.at(-1);if(!s||!iQ.has(s.type))throw Error("Quantifier requires a repeatable token");let i=i4(e,t,r,s);return a.body.pop(),i}(r,i);case"Subroutine":return function({raw:e},t){let{capturingGroups:r,subroutines:n}=t,a=e.slice(3,-1),s=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(a);if(s){let e=+s.groups.num,n=r.length;if(t.hasNumberedRef=!0,(a=({"":e,"+":n+e,"-":n+1-e})[s.groups.sign])<1)throw Error("Invalid subroutine number")}else"0"===a&&(a=0);let i=i6(a);return n.push(i),i}(r,i);default:throw Error(`Unexpected token type "${r.type}"`)}},i={capturingGroups:[],hasNumberedRef:!1,namedGroupsByName:new Map,nextIndex:0,normalizeUnknownPropertyNames:n.normalizeUnknownPropertyNames,parent:null,skipBackrefValidation:n.skipBackrefValidation,skipLookbehindValidation:n.skipLookbehindValidation,skipPropertyNameValidation:n.skipPropertyNameValidation,subroutines:[],tokens:a.tokens,unicodePropertyMap:n.unicodePropertyMap,walk:s},o=(r={type:"Flags",...a.flags},{type:"Regex",body:i7(void 0),flags:r}),l=o.body[0];for(;i.nextIndex<a.tokens.length;){let e=s(l,{});"Alternative"===e.type?(o.body.push(e),l=e):l.body.push(e)}let{capturingGroups:c,hasNumberedRef:u,namedGroupsByName:d,subroutines:h}=i;if(u&&d.size&&!n.rules.captureGroup)throw Error("Numbered backref/subroutine not allowed when using named capture");for(let{ref:e}of h)if("number"==typeof e){if(e>c.length)throw Error("Subroutine uses a group number that's not defined");e&&(c[e-1].isSubroutined=!0)}else if(d.has(e)){if(d.get(e).length>1)throw Error(iL`Subroutine uses a duplicate group name "\g<${e}>"`);d.get(e)[0].isSubroutined=!0}else throw Error(iL`Subroutine uses a group name that's not defined "\g<${e}>"`);return o}function iK(e){return{type:"Alternative",body:oe(e?.body)}}function iJ(e,t){let r={type:"Assertion",kind:e};return("word_boundary"===e||"text_segment_boundary"===e)&&(r.negate=!!t?.negate),r}function iZ(e,t){let r=!!t?.orphan;return{type:"Backreference",ref:e,...r&&{orphan:r}}}function i0(e,t){var r;let n={name:void 0,isSubroutined:!1,...t};if(void 0!==n.name&&(r=n.name,!/^[\p{Alpha}\p{Pc}][^)]*$/u.test(r)))throw Error(`Group name "${n.name}" invalid in Oniguruma`);return{type:"CapturingGroup",number:e,...n.name&&{name:n.name},...n.isSubroutined&&{isSubroutined:n.isSubroutined},body:i7(t?.body)}}function i1(e,t){let r={useLastValid:!1,...t};if(e>1114111){let t=e.toString(16);if(r.useLastValid)e=1114111;else throw e>1310719?Error(`Invalid code point out of range "\\x{${t}}"`):Error(`Invalid code point out of range in JS "\\x{${t}}"`)}return{type:"Character",value:e}}function i2(e){let t={kind:"union",negate:!1,...e};return{type:"CharacterClass",kind:t.kind,negate:t.negate,body:oe(e?.body)}}function i3(e,t){let r=!!t?.negate,n={type:"CharacterSet",kind:e};return("digit"===e||"hex"===e||"newline"===e||"space"===e||"word"===e)&&(n.negate=r),"text_segment"!==e&&("newline"!==e||r)||(n.variableLength=!0),n}function i5(e){let t=e?.atomic,r=e?.flags;if(t&&r)throw Error("Atomic group cannot have flags");return{type:"Group",...t&&{atomic:t},...r&&{flags:r},body:i7(e?.body)}}function i8(e){let t={behind:!1,negate:!1,...e};return{type:"LookaroundAssertion",kind:t.behind?"lookbehind":"lookahead",negate:t.negate,body:i7(e?.body)}}function i4(e,t,r,n){if(t>r)throw Error("Invalid reversed quantifier range");return{type:"Quantifier",kind:e,min:t,max:r,body:n}}function i6(e){return{type:"Subroutine",ref:e}}function i9(e,t){let r={negate:!1,normalizeUnknownPropertyNames:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t},n=r.unicodePropertyMap?.get(on(e));if(!n){if(r.normalizeUnknownPropertyNames)n=e.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,e=>e[0].toUpperCase()+e.slice(1).toLowerCase());else if(r.unicodePropertyMap&&!r.skipPropertyNameValidation)throw Error(iL`Invalid Unicode property "\p{${e}}"`)}return{type:"CharacterSet",kind:"property",value:n??e,negate:r.negate}}function i7(e){if(void 0===e)e=[iK()];else if(!Array.isArray(e)||!e.length||!e.every(e=>"Alternative"===e.type))throw Error("Invalid body; expected array of one or more Alternative nodes");return e}function oe(e){if(void 0===e)e=[];else if(!Array.isArray(e)||!e.every(e=>!!e.type))throw Error("Invalid body; expected array of nodes");return e}function ot(e){return"LookaroundAssertion"===e.type&&"lookahead"===e.kind}function or(e){return"LookaroundAssertion"===e.type&&"lookbehind"===e.kind}function on(e){return e.replace(/[- _]+/g,"").toLowerCase()}function oa(e,t){return iD(e,`${t?.type==="Character"&&93===t.value?"Empty":"Unclosed"} character class`)}function os(e){return iD(e,"Unclosed group")}function oi(e,t,r=null){function n(e,t){for(let r=0;r<e.length;r++){let n=a(e[r],t,r,e);r=Math.max(-1,r+n)}}function a(s,i=null,o=null,l=null){let c=0,u=!1,d={node:s,parent:i,key:o,container:l,root:e,remove(){oo(l).splice(Math.max(0,ol(o)+c),1),c--,u=!0},removeAllNextSiblings:()=>oo(l).splice(ol(o)+1),removeAllPrevSiblings(){let e=ol(o)+c;return c-=e,oo(l).splice(0,Math.max(0,e))},replaceWith(e,t={}){let r=!!t.traverse;l?l[Math.max(0,ol(o)+c)]=e:iD(i,"Can't replace root node")[o]=e,r&&a(e,i,o,l),u=!0},replaceWithMultiple(e,t={}){let r=!!t.traverse;if(oo(l).splice(Math.max(0,ol(o)+c),1,...e),c+=e.length-1,r){let t=0;for(let r=0;r<e.length;r++)t+=a(e[r],i,ol(o)+r+t,l)}u=!0},skip(){u=!0}},{type:h}=s,p=t["*"],m=t[h],f="function"==typeof p?p:p?.enter,g="function"==typeof m?m:m?.enter;if(f?.(d,r),g?.(d,r),!u)switch(h){case"AbsenceFunction":case"CapturingGroup":case"Group":case"Alternative":case"CharacterClass":case"LookaroundAssertion":n(s.body,s);break;case"Assertion":case"Backreference":case"Character":case"CharacterSet":case"Directive":case"Flags":case"NamedCallout":case"Subroutine":break;case"CharacterClassRange":a(s.min,s,"min"),a(s.max,s,"max");break;case"Quantifier":a(s.body,s,"body");break;case"Regex":n(s.body,s),a(s.flags,s,"flags");break;default:throw Error(`Unexpected node type "${h}"`)}return m?.exit?.(d,r),p?.exit?.(d,r),c}return a(e),e}function oo(e){if(!Array.isArray(e))throw Error("Container expected");return e}function ol(e){if("number"!=typeof e)throw Error("Numeric key expected");return e}let oc=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`,ou=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function od(e,t,r,n){let a=RegExp(String.raw`${t}|(?<$skip>\[\^?|\\?.)`,"gsu"),s=[!1],i=0,o="";for(let t of e.matchAll(a)){let{0:e,groups:{$skip:a}}=t;if(!a&&(!n||n===ou.DEFAULT==!i)){r instanceof Function?o+=r(t,{context:i?ou.CHAR_CLASS:ou.DEFAULT,negated:s[s.length-1]}):o+=r;continue}"["===e[0]?(i++,s.push("^"===e[1])):"]"===e&&i&&(i--,s.pop()),o+=e}return o}function oh(e,t,r){return!!function(e,t,r=0,n){let a;if(!RegExp(t,"su").test(e))return null;let s=RegExp(`${t}|(?<$skip>\\\\?.)`,"gsu");s.lastIndex=r;let i=0;for(;a=s.exec(e);){let{0:e,groups:{$skip:t}}=a;if(!t&&(!n||n===ou.DEFAULT==!i))return a;"["===e?i++:"]"===e&&i&&i--,s.lastIndex==a.index&&s.lastIndex++}return null}(e,t,0,r)}let op=RegExp(String.raw`(?<noncapturingStart>${oc})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu"),om=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,of=RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${om})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu"),og=String.raw,oE=og`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`,oT=og`\(\?R=(?<rDepth>[^\)]+)\)|${oE}`,o_=og`\(\?<(?![=!])(?<captureName>[^>]+)>`,oA=og`${o_}|(?<unnamed>\()(?!\?)`,oC=RegExp(og`${o_}|${oT}|\(\?|\\?.`,"gsu"),oN="Cannot use multiple overlapping recursions";function ob(e){let t=`Max depth must be integer between 2 and 100; used ${e}`;if(!/^[1-9]\d*$/.test(e)||(e*=1)<2||e>100)throw Error(t)}function oy(e,t,r,n,a,s,i){let o=new Set;n&&od(e+t,o_,({groups:{captureName:e}})=>{o.add(e)},ou.DEFAULT);let l=[r,n?o:null,a,s,i];return`${e}${ok(`(?:${e}`,"forward",...l)}(?:)${ok(`${t})`,"backward",...l)}${t}`}function ok(e,t,r,n,a,s,i){let o=e=>"forward"===t?e+2:r-e+2-1,l="";for(let t=0;t<r;t++){let r=o(t);l+=od(e,og`${oA}|\\k<(?<backref>[^>]+)>`,({0:e,groups:{captureName:t,unnamed:o,backref:l}})=>{if(l&&n&&!n.has(l))return e;let c=`_$${r}`;if(o||t){let r=i+s.length+1;return s.push(r),function(e,t){for(let r=0;r<e.length;r++)e[r]>=t&&e[r]++}(a,r),o?e:`(?<${t}${c}>`}return og`\k<${l}${c}>`},ou.DEFAULT)}return l}function oS(e,t,r,n,a,s){if(e.size&&n){let i=0;od(t,oA,()=>i++,ou.DEFAULT);let o=s-i+a,l=new Map;return e.forEach((e,t)=>{let a=(n-i*r)/r,s=i*r,c=t>o+i?t+n:t,u=[];for(let t of e)if(t<=o)u.push(t);else if(t>o+i+a)u.push(t+n);else if(t<=o+i)for(let e=0;e<=r;e++)u.push(t+i*e);else for(let e=0;e<=r;e++)u.push(t+s+a*e);l.set(c,u)}),l}return e}var oI=String.fromCodePoint,oR=String.raw,oL={flagGroups:(()=>{try{RegExp("(?i:)")}catch{return!1}return!0})(),unicodeSets:(()=>{try{RegExp("","v")}catch{return!1}return!0})()};function oD(e,{enable:t,disable:r}){return{dotAll:!r?.dotAll&&!!(t?.dotAll||e.dotAll),ignoreCase:!r?.ignoreCase&&!!(t?.ignoreCase||e.ignoreCase)}}function oO(e,t,r){return e.has(t)||e.set(t,r),e.get(t)}oL.bugFlagVLiteralHyphenIsRange=!!oL.unicodeSets&&(()=>{try{RegExp(oR`[\d\-a]`,"v")}catch{return!0}return!1})(),oL.bugNestedClassIgnoresNegation=oL.unicodeSets&&RegExp("[[^a]]","v").test("a");var ow={ES2025:2025,ES2024:2024,ES2018:2018},oM={auto:"auto",ES2025:"ES2025",ES2024:"ES2024",ES2018:"ES2018"};function ox(e={}){if("[object Object]"!==({}).toString.call(e))throw Error("Unexpected options");if(void 0!==e.target&&!oM[e.target])throw Error(`Unexpected target "${e.target}"`);let t={accuracy:"default",avoidSubclass:!1,flags:"",global:!1,hasIndices:!1,lazyCompileLength:1/0,target:"auto",verbose:!1,...e,rules:{allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1,...e.rules}};return"auto"===t.target&&(t.target=oL.flagGroups?"ES2025":oL.unicodeSets?"ES2024":"ES2018"),t}var oP=new Set([oI(304),oI(305)]),ov=oR`[\p{L}\p{M}\p{N}\p{Pc}]`;function oB(e){if(oP.has(e))return[e];let t=new Set,r=e.toLowerCase(),n=r.toUpperCase(),a=oG.get(r),s=oU.get(r),i=oH.get(r);return 1==[...n].length&&t.add(n),i&&t.add(i),a&&t.add(a),t.add(r),s&&t.add(s),[...t]}var oF=new Map(`C Other
Cc Control cntrl
Cf Format
Cn Unassigned
Co Private_Use
Cs Surrogate
L Letter
LC Cased_Letter
Ll Lowercase_Letter
Lm Modifier_Letter
Lo Other_Letter
Lt Titlecase_Letter
Lu Uppercase_Letter
M Mark Combining_Mark
Mc Spacing_Mark
Me Enclosing_Mark
Mn Nonspacing_Mark
N Number
Nd Decimal_Number digit
Nl Letter_Number
No Other_Number
P Punctuation punct
Pc Connector_Punctuation
Pd Dash_Punctuation
Pe Close_Punctuation
Pf Final_Punctuation
Pi Initial_Punctuation
Po Other_Punctuation
Ps Open_Punctuation
S Symbol
Sc Currency_Symbol
Sk Modifier_Symbol
Sm Math_Symbol
So Other_Symbol
Z Separator
Zl Line_Separator
Zp Paragraph_Separator
Zs Space_Separator
ASCII
ASCII_Hex_Digit AHex
Alphabetic Alpha
Any
Assigned
Bidi_Control Bidi_C
Bidi_Mirrored Bidi_M
Case_Ignorable CI
Cased
Changes_When_Casefolded CWCF
Changes_When_Casemapped CWCM
Changes_When_Lowercased CWL
Changes_When_NFKC_Casefolded CWKCF
Changes_When_Titlecased CWT
Changes_When_Uppercased CWU
Dash
Default_Ignorable_Code_Point DI
Deprecated Dep
Diacritic Dia
Emoji
Emoji_Component EComp
Emoji_Modifier EMod
Emoji_Modifier_Base EBase
Emoji_Presentation EPres
Extended_Pictographic ExtPict
Extender Ext
Grapheme_Base Gr_Base
Grapheme_Extend Gr_Ext
Hex_Digit Hex
IDS_Binary_Operator IDSB
IDS_Trinary_Operator IDST
ID_Continue IDC
ID_Start IDS
Ideographic Ideo
Join_Control Join_C
Logical_Order_Exception LOE
Lowercase Lower
Math
Noncharacter_Code_Point NChar
Pattern_Syntax Pat_Syn
Pattern_White_Space Pat_WS
Quotation_Mark QMark
Radical
Regional_Indicator RI
Sentence_Terminal STerm
Soft_Dotted SD
Terminal_Punctuation Term
Unified_Ideograph UIdeo
Uppercase Upper
Variation_Selector VS
White_Space space
XID_Continue XIDC
XID_Start XIDS`.split(/\s/).map(e=>[on(e),e])),oU=new Map([["s",oI(383)],[oI(383),"s"]]),oH=new Map([[oI(223),oI(7838)],[oI(107),oI(8490)],[oI(229),oI(8491)],[oI(969),oI(8486)]]),oG=new Map([oj(453),oj(456),oj(459),oj(498),...oY(8072,8079),...oY(8088,8095),...oY(8104,8111),oj(8124),oj(8140),oj(8188)]),o$=new Map([["alnum",oR`[\p{Alpha}\p{Nd}]`],["alpha",oR`\p{Alpha}`],["ascii",oR`\p{ASCII}`],["blank",oR`[\p{Zs}\t]`],["cntrl",oR`\p{Cc}`],["digit",oR`\p{Nd}`],["graph",oR`[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]`],["lower",oR`\p{Lower}`],["print",oR`[[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],["punct",oR`[\p{P}\p{S}]`],["space",oR`\p{space}`],["upper",oR`\p{Upper}`],["word",oR`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],["xdigit",oR`\p{AHex}`]]);function oj(e){let t=oI(e);return[t.toLowerCase(),t]}function oY(e,t){return(function(e,t){let r=[];for(let n=e;n<=t;n++)r.push(n);return r})(e,t).map(e=>oj(e))}var oq=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]),oW={AbsenceFunction({node:e,parent:t,replaceWith:r}){let{body:n,kind:a}=e;if("repeater"===a){let e=i5();e.body[0].body.push(i8({negate:!0,body:n}),i9("Any"));let a=i5();a.body[0].body.push(i4("greedy",0,1/0,e)),r(o5(a,t),{traverse:!0})}else throw Error('Unsupported absence function "(?~|"')},Alternative:{enter({node:e,parent:t,key:r},{flagDirectivesByAlt:n}){let a=e.body.filter(e=>"flags"===e.kind);for(let e=r+1;e<t.body.length;e++)oO(n,t.body[e],[]).push(...a)},exit({node:e},{flagDirectivesByAlt:t}){if(t.get(e)?.length){let r=oJ(t.get(e));if(r){let t=i5({flags:r});t.body[0].body=e.body,e.body=[o5(t,e)]}}}},Assertion({node:e,parent:t,key:r,container:n,root:a,remove:s,replaceWith:i},o){let{kind:l,negate:c}=e,{asciiWordBoundaries:u,avoidSubclass:d,supportedGNodes:h,wordIsAscii:p}=o;if("text_segment_boundary"===l)throw Error(`Unsupported text segment boundary "\\${c?"Y":"y"}"`);if("line_end"===l)i(o5(i8({body:[iK({body:[iJ("string_end")]}),iK({body:[i1(10)]})]}),t));else if("line_start"===l)i(o5(o1(oR`(?<=\A|\n(?!\z))`,{skipLookbehindValidation:!0}),t));else if("search_start"===l)if(h.has(e))a.flags.sticky=!0,s();else{var m;let e,a=n[r-1];if(a&&((e=["Character","CharacterClass","CharacterSet"]).includes((m=a).type)||"Quantifier"===m.type&&m.min&&e.includes(m.body.type)))i(o5(i8({negate:!0}),t));else if(d)throw Error(oR`Uses "\G" in a way that requires a subclass`);else i(o3(iJ("string_start"),t)),o.strategy="clip_search"}else if("string_end"===l||"string_start"===l);else if("string_end_newline"===l)i(o5(o1(oR`(?=\n?\z)`),t));else if("word_boundary"===l){if(!p&&!u){let e=`(?:(?<=${ov})(?!${ov})|(?<!${ov})(?=${ov}))`,r=`(?:(?<=${ov})(?=${ov})|(?<!${ov})(?!${ov}))`;i(o5(o1(c?r:e),t))}}else throw Error(`Unexpected assertion kind "${l}"`)},Backreference({node:e},{jsGroupNameMap:t}){let{ref:r}=e;"string"!=typeof r||o0(r)||(e.ref=r=oK(r,t))},CapturingGroup({node:e},{jsGroupNameMap:t,subroutineRefMap:r}){let{name:n}=e;n&&!o0(n)&&(e.name=n=oK(n,t)),r.set(e.number,e),n&&r.set(n,e)},CharacterClassRange({node:e,parent:t,replaceWith:r}){"intersection"===t.kind&&r(o5(i2({body:[e]}),t),{traverse:!0})},CharacterSet({node:e,parent:t,replaceWith:r},{accuracy:n,minTargetEs2024:a,digitIsAscii:s,spaceIsAscii:i,wordIsAscii:o}){let{kind:l,negate:c,value:u}=e;if(s&&("digit"===l||"digit"===u))return void r(o3(i3("digit",{negate:c}),t));if(i&&("space"===l||"space"===u))return void r(o5(o2(o1("[	-\r ]"),c),t));if(o&&("word"===l||"word"===u))return void r(o3(i3("word",{negate:c}),t));if("any"===l)r(o3(i9("Any"),t));else if("digit"===l)r(o3(i9("Nd",{negate:c}),t));else if("dot"===l);else if("text_segment"===l){if("strict"===n)throw Error(oR`Use of "\X" requires non-strict accuracy`);let e="\\p{Emoji}(?:\\p{EMod}|\\uFE0F\\u20E3?|[\\x{E0020}-\\x{E007E}]+\\x{E007F})?",s=oR`\p{RI}{2}|${e}(?:\u200D${e})*`;r(o5(o1(oR`(?>\r\n|${a?oR`\p{RGI_Emoji}`:s}|\P{M}\p{M}*)`,{skipPropertyNameValidation:!0}),t))}else if("hex"===l)r(o3(i9("AHex",{negate:c}),t));else if("newline"===l)r(o5(o1(c?"[^\n]":"(?>\r\n?|[\n\v\f\u2028\u2029])"),t));else if("posix"===l)if(a||"graph"!==u&&"print"!==u)r(o5(o2(o1(o$.get(u)),c),t));else{if("strict"===n)throw Error(`POSIX class "${u}" requires min target ES2024 or non-strict accuracy`);let e={graph:"!-~",print:" -~"}[u];c&&(e=`\0-${oI(e.codePointAt(0)-1)}${oI(e.codePointAt(2)+1)}-\u{10FFFF}`),r(o5(o1(`[${e}]`),t))}else if("property"===l)oF.has(on(u))||(e.key="sc");else if("space"===l)r(o3(i9("space",{negate:c}),t));else if("word"===l)r(o5(o2(o1(ov),c),t));else throw Error(`Unexpected character set kind "${l}"`)},Directive({node:e,parent:t,root:r,remove:n,replaceWith:a,removeAllPrevSiblings:s,removeAllNextSiblings:i}){let{kind:o,flags:l}=e;if("flags"===o)if(l.enable||l.disable){let e=i5({flags:l});e.body[0].body=i(),a(o5(e,t),{traverse:!0})}else n();else if("keep"===o){let e=r.body[0],n=1===r.body.length&&iV(e,{type:"Group"})&&1===e.body[0].body.length?e.body[0]:r;if(t.parent!==n||n.body.length>1)throw Error(oR`Uses "\K" in a way that's unsupported`);let i=i8({behind:!0});i.body[0].body=s(),a(o5(i,t))}else throw Error(`Unexpected directive kind "${o}"`)},Flags({node:e,parent:t}){if(e.posixIsAscii)throw Error('Unsupported flag "P"');if("word"===e.textSegmentMode)throw Error('Unsupported flag "y{w}"');["digitIsAscii","extended","posixIsAscii","spaceIsAscii","wordIsAscii","textSegmentMode"].forEach(t=>delete e[t]),Object.assign(e,{global:!1,hasIndices:!1,multiline:!1,sticky:e.sticky??!1}),t.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:e}){if(!e.flags)return;let{enable:t,disable:r}=e.flags;t?.extended&&delete t.extended,r?.extended&&delete r.extended,t?.dotAll&&r?.dotAll&&delete t.dotAll,t?.ignoreCase&&r?.ignoreCase&&delete t.ignoreCase,t&&!Object.keys(t).length&&delete e.flags.enable,r&&!Object.keys(r).length&&delete e.flags.disable,e.flags.enable||e.flags.disable||delete e.flags},LookaroundAssertion({node:e},t){let{kind:r}=e;"lookbehind"===r&&(t.passedLookbehind=!0)},NamedCallout({node:e,parent:t,replaceWith:r}){let{kind:n}=e;if("fail"===n)r(o5(i8({negate:!0}),t));else throw Error(`Unsupported named callout "(*${n.toUpperCase()}"`)},Quantifier({node:e}){if("Quantifier"===e.body.type){let t=i5();t.body[0].body.push(e.body),e.body=o5(t,e)}},Regex:{enter({node:e},{supportedGNodes:t}){let r=[],n=!1,a=!1;for(let t of e.body)if(1===t.body.length&&"search_start"===t.body[0].kind)t.body.pop();else{let e=function e(t){let r=t.find(e=>"search_start"===e.kind||function(e,t){let r={negate:null,...t};return"LookaroundAssertion"===e.type&&(null===r.negate||e.negate===r.negate)&&1===e.body.length&&iV(e.body[0],{type:"Assertion",kind:"search_start"})}(e,{negate:!1})||!function({type:e}){return"Assertion"===e||"Directive"===e||"LookaroundAssertion"===e}(e));if(!r)return null;if("search_start"===r.kind)return r;if("LookaroundAssertion"===r.type)return r.body[0].body[0];if("CapturingGroup"===r.type||"Group"===r.type){let t=[];for(let n of r.body){let r=e(n.body);if(!r)return null;Array.isArray(r)?t.push(...r):t.push(r)}return t}return null}(t.body);e?(n=!0,Array.isArray(e)?r.push(...e):r.push(e)):a=!0}n&&!a&&r.forEach(e=>t.add(e))},exit(e,{accuracy:t,passedLookbehind:r,strategy:n}){if("strict"===t&&r&&n)throw Error(oR`Uses "\G" in a way that requires non-strict accuracy`)}},Subroutine({node:e},{jsGroupNameMap:t}){let{ref:r}=e;"string"!=typeof r||o0(r)||(e.ref=r=oK(r,t))}},oz={Backreference({node:e},{multiplexCapturesToLeftByRef:t,reffedNodesByReferencer:r}){let{orphan:n,ref:a}=e;n||r.set(e,[...t.get(a).map(({node:e})=>e)])},CapturingGroup:{enter({node:e,parent:t,replaceWith:r,skip:n},{groupOriginByCopy:a,groupsByName:s,multiplexCapturesToLeftByRef:i,openRefs:o,reffedNodesByReferencer:l}){let c=a.get(e);if(c&&o.has(e.number)){let n=o3(oX(e.number),t);l.set(n,o.get(e.number)),r(n);return}o.set(e.number,e),i.set(e.number,[]),e.name&&oO(i,e.name,[]);let u=i.get(e.name??e.number);for(let t=0;t<u.length;t++){let r=u[t];if(c===r.node||c&&c===r.origin||e===r.origin){u.splice(t,1);break}}if(i.get(e.number).push({node:e,origin:c}),e.name&&i.get(e.name).push({node:e,origin:c}),e.name){let t=oO(s,e.name,new Map),r=!1;if(c)r=!0;else for(let e of t.values())if(!e.hasDuplicateNameToRemove){r=!0;break}s.get(e.name).set(e,{node:e,hasDuplicateNameToRemove:r})}},exit({node:e},{openRefs:t}){t.delete(e.number)}},Group:{enter({node:e},t){t.prevFlags=t.currentFlags,e.flags&&(t.currentFlags=oD(t.currentFlags,e.flags))},exit(e,t){t.currentFlags=t.prevFlags}},Subroutine({node:e,parent:t,replaceWith:r},n){let{isRecursive:a,ref:s}=e;if(a){let r=t;for(;(r=r.parent)&&("CapturingGroup"!==r.type||r.name!==s&&r.number!==s););n.reffedNodesByReferencer.set(e,r);return}let i=n.subroutineRefMap.get(s),o=0===s,l=o?oX(0):function e(t,r,n,a){let s=Array.isArray(t)?[]:{};for(let[i,o]of Object.entries(t))"parent"===i?s.parent=Array.isArray(n)?a:n:o&&"object"==typeof o?s[i]=e(o,r,s,n):("type"===i&&"CapturingGroup"===o&&r.set(s,r.get(t)??t),s[i]=o);return s}(i,n.groupOriginByCopy,null),c=l;if(!o){var u,d;let e=oJ(function(e,t){let r=[];for(;e=e.parent;)(!t||t(e))&&r.push(e);return r}(i,e=>"Group"===e.type&&!!e.flags)),t=e?oD(n.globalFlags,e):n.globalFlags;u=t,d=n.currentFlags,(u.dotAll!==d.dotAll||u.ignoreCase!==d.ignoreCase)&&(c=i5({flags:function({dotAll:e,ignoreCase:t}){let r={};return(e||t)&&(r.enable={},e&&(r.enable.dotAll=!0),t&&(r.enable.ignoreCase=!0)),e&&t||(r.disable={},e||(r.disable.dotAll=!0),t||(r.disable.ignoreCase=!0)),r}(t)})).body[0].body.push(l)}r(o5(c,t),{traverse:!o})}},oV={Backreference({node:e,parent:t,replaceWith:r},n){if(e.orphan){n.highestOrphanBackref=Math.max(n.highestOrphanBackref,e.ref);return}let a=n.reffedNodesByReferencer.get(e).filter(t=>(function(e,t){let r=t;do{if("Regex"===r.type)return!1;if("Alternative"===r.type)continue;if(r===e)return!1;for(let t of oZ(r.parent)){if(t===r)break;if(t===e||function e(t,r){for(let n of oZ(t)??[])if(n===r||e(n,r))return!0;return!1}(t,e))return!0}}while(r=r.parent)throw Error("Unexpected path")})(t,e));a.length?a.length>1?r(o5(i5({atomic:!0,body:a.reverse().map(e=>iK({body:[iZ(e.number)]}))}),t)):e.ref=a[0].number:r(o5(i8({negate:!0}),t))},CapturingGroup({node:e},t){e.number=++t.numCapturesToLeft,e.name&&t.groupsByName.get(e.name).get(e).hasDuplicateNameToRemove&&delete e.name},Regex:{exit({node:e},t){let r=Math.max(t.highestOrphanBackref-t.numCapturesToLeft,0);for(let t=0;t<r;t++){let t=i0();e.body.at(-1).body.push(t)}}},Subroutine({node:e},t){e.isRecursive&&0!==e.ref&&(e.ref=t.reffedNodesByReferencer.get(e).number)}};function oQ(e){oi(e,{"*"({node:e,parent:t}){e.parent=t}})}function oX(e){let t=i6(e);return t.isRecursive=!0,t}function oK(e,t){if(t.has(e))return t.get(e);let r=`$${t.size}_${e.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/ug,"_")}`;return t.set(e,r),r}function oJ(e){let t=["dotAll","ignoreCase"],r={enable:{},disable:{}};return(e.forEach(({flags:e})=>{t.forEach(t=>{e.enable?.[t]&&(delete r.disable[t],r.enable[t]=!0),e.disable?.[t]&&(r.disable[t]=!0)})}),Object.keys(r.enable).length||delete r.enable,Object.keys(r.disable).length||delete r.disable,r.enable||r.disable)?r:null}function oZ(e){if(!e)throw Error("Node expected");let{body:t}=e;return Array.isArray(t)?t:t?[t]:null}function o0(e){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(e)}function o1(e,t){let r=iX(e,{...t,unicodePropertyMap:oF}).body;return r.length>1||r[0].body.length>1?i5({body:r}):r[0].body[0]}function o2(e,t){return e.negate=t,e}function o3(e,t){return e.parent=t,e}function o5(e,t){return oQ(e),e.parent=t,e}var o8={"*":{enter({node:e},t){if(ls(e)){let r=t.getCurrentModI();t.pushModI(e.flags?oD({ignoreCase:r},e.flags).ignoreCase:r)}},exit({node:e},t){ls(e)&&t.popModI()}},Backreference(e,t){t.setHasCasedChar()},Character({node:e},t){lr(oI(e.value))&&t.setHasCasedChar()},CharacterClassRange({node:e,skip:t},r){t(),ln(e,{firstOnly:!0}).length&&r.setHasCasedChar()},CharacterSet({node:e},t){"property"===e.kind&&oq.has(e.value)&&t.setHasCasedChar()}},o4={Alternative:({body:e},t,r)=>e.map(r).join(""),Assertion({kind:e,negate:t}){if("string_end"===e)return"$";if("string_start"===e)return"^";if("word_boundary"===e)return t?oR`\B`:oR`\b`;throw Error(`Unexpected assertion kind "${e}"`)},Backreference({ref:e},t){if("number"!=typeof e)throw Error("Unexpected named backref in transformed AST");if(!t.useFlagMods&&"strict"===t.accuracy&&t.currentFlags.ignoreCase&&!t.captureMap.get(e).ignoreCase)throw Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");return"\\"+e},CapturingGroup(e,t,r){let{body:n,name:a,number:s}=e,i={ignoreCase:t.currentFlags.ignoreCase},o=t.originMap.get(e);return o&&(i.hidden=!0,s>o.number&&(i.transferTo=o.number)),t.captureMap.set(s,i),`(${a?`?<${a}>`:""}${n.map(r).join("|")})`},Character({value:e},t){let r=oI(e),n=la(e,{escDigit:"Backreference"===t.lastNode.type,inCharClass:t.inCharClass,useFlagV:t.useFlagV});if(n!==r)return n;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&lr(r)){let e=oB(r);return t.inCharClass?e.join(""):e.length>1?`[${e.join("")}]`:e[0]}return r},CharacterClass(e,t,r){let{kind:n,negate:a,parent:s}=e,{body:i}=e;if("intersection"===n&&!t.useFlagV)throw Error("Use of class intersection requires min target ES2024");oL.bugFlagVLiteralHyphenIsRange&&t.useFlagV&&i.some(li)&&(i=[i1(45),...i.filter(e=>!li(e))]);let o=()=>`[${a?"^":""}${i.map(r).join("intersection"===n?"&&":"")}]`;if(!t.inCharClass){if((!t.useFlagV||oL.bugNestedClassIgnoresNegation)&&!a){let t=i.filter(e=>"CharacterClass"===e.type&&"union"===e.kind&&e.negate);if(t.length){let n=i5(),a=n.body[0];return n.parent=s,a.parent=n,e.body=i=i.filter(e=>!t.includes(e)),i.length?(e.parent=a,a.body.push(e)):n.body.pop(),t.forEach(e=>{let t=iK({body:[e]});e.parent=t,t.parent=n,n.body.push(t)}),r(n)}}t.inCharClass=!0;let n=o();return t.inCharClass=!1,n}let l=i[0];if("union"===n&&!a&&l&&((!t.useFlagV||!t.verbose)&&"union"===s.kind&&!(oL.bugFlagVLiteralHyphenIsRange&&t.useFlagV)||!t.verbose&&"intersection"===s.kind&&1===i.length&&"CharacterClassRange"!==l.type))return i.map(r).join("");if(!t.useFlagV&&"CharacterClass"===s.type)throw Error("Use of nested character class requires min target ES2024");return o()},CharacterClassRange(e,t){let r=e.min.value,n=e.max.value,a={escDigit:!1,inCharClass:!0,useFlagV:t.useFlagV},s=la(r,a),i=la(n,a),o=new Set;return t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&(function(e){let t=e.map(e=>e.codePointAt(0)).sort((e,t)=>e-t),r=[],n=null;for(let e=0;e<t.length;e++)t[e+1]===t[e]+1?n??=t[e]:null===n?r.push(t[e]):(r.push([n,t[e]]),n=null);return r})(ln(e)).forEach(e=>{o.add(Array.isArray(e)?`${la(e[0],a)}-${la(e[1],a)}`:la(e,a))}),`${s}-${i}${[...o].join("")}`},CharacterSet({kind:e,negate:t,value:r,key:n},a){if("dot"===e)return a.currentFlags.dotAll?a.appliedGlobalFlags.dotAll||a.useFlagMods?".":"[^]":oR`[^\n]`;if("digit"===e)return t?oR`\D`:oR`\d`;if("property"===e){if(a.useAppliedIgnoreCase&&a.currentFlags.ignoreCase&&oq.has(r))throw Error(`Unicode property "${r}" can't be case-insensitive when other chars have specific case`);return`${t?oR`\P`:oR`\p`}{${n?`${n}=`:""}${r}}`}if("word"===e)return t?oR`\W`:oR`\w`;throw Error(`Unexpected character set kind "${e}"`)},Flags:(e,t)=>(t.appliedGlobalFlags.ignoreCase?"i":"")+(e.dotAll?"s":"")+(e.sticky?"y":""),Group({atomic:e,body:t,flags:r,parent:n},a,s){let i=a.currentFlags;r&&(a.currentFlags=oD(i,r));let o=t.map(s).join("|"),l=a.verbose||1!==t.length||"Quantifier"===n.type||e||a.useFlagMods&&r?`(?${function(e,t,r){if(e)return">";let n="";if(t&&r){let{enable:e,disable:r}=t;n=(e?.ignoreCase?"i":"")+(e?.dotAll?"s":"")+(r?"-":"")+(r?.ignoreCase?"i":"")+(r?.dotAll?"s":"")}return`${n}:`}(e,r,a.useFlagMods)}${o})`:o;return a.currentFlags=i,l},LookaroundAssertion({body:e,kind:t,negate:r},n,a){let s=`${"lookahead"===t?"":"<"}${r?"!":"="}`;return`(?${s}${e.map(a).join("|")})`},Quantifier:(e,t,r)=>r(e.body)+function({kind:e,max:t,min:r}){return(r||1!==t?r||t!==1/0?1===r&&t===1/0?"+":r===t?`{${r}}`:`{${r},${t===1/0?"":t}}`:"*":"?")+({greedy:"",lazy:"?",possessive:"+"})[e]}(e),Subroutine({isRecursive:e,ref:t},r){if(!e)throw Error("Unexpected non-recursive subroutine in transformed AST");let n=r.recursionLimit;return 0===t?`(?R=${n})`:oR`\g<${t}&R=${n}>`}},o6=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),o9=new Set(["-","\\","]","^","["]),o7=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),le=new Map([[9,oR`\t`],[10,oR`\n`],[11,oR`\v`],[12,oR`\f`],[13,oR`\r`],[8232,oR`\u2028`],[8233,oR`\u2029`],[65279,oR`\uFEFF`]]),lt=/^\p{Cased}$/u;function lr(e){return lt.test(e)}function ln(e,t){let r=!!t?.firstOnly,n=e.min.value,a=e.max.value,s=[];if(n<65&&(65535===a||a>=131071)||65536===n&&a>=131071)return s;for(let e=n;e<=a;e++){let t=oI(e);if(!lr(t))continue;let i=oB(t).filter(e=>{let t=e.codePointAt(0);return t<n||t>a});if(i.length&&(s.push(...i),r))break}return s}function la(e,{escDigit:t,inCharClass:r,useFlagV:n}){var a;if(le.has(e))return le.get(e);if(e<32||e>126&&e<160||e>262143||t&&(a=e)>47&&a<58)return e>255?`\\u{${e.toString(16).toUpperCase()}}`:`\\x${e.toString(16).toUpperCase().padStart(2,"0")}`;let s=oI(e);return((r?n?o7:o9:o6).has(s)?"\\":"")+s}function ls({type:e}){return"CapturingGroup"===e||"Group"===e||"LookaroundAssertion"===e}function li({type:e,value:t}){return"Character"===e&&45===t}var lo=class e extends RegExp{#e=new Map;#t=null;#r;#n=null;#a=null;rawOptions={};get source(){return this.#r||"(?:)"}constructor(t,r,n){const a=!!n?.lazyCompile;if(t instanceof RegExp){if(n)throw Error("Cannot provide options when copying a regexp");super(t,r),this.#r=t.source,t instanceof e&&(this.#e=t.#e,this.#n=t.#n,this.#a=t.#a,this.rawOptions=t.rawOptions)}else{const e={hiddenCaptures:[],strategy:null,transfers:[],...n};super(a?"":t,r),this.#r=t,this.#e=function(e,t){let r=new Map;for(let t of e)r.set(t,{hidden:!0});for(let[e,n]of t)for(let t of n)oO(r,t,{}).transferTo=e;return r}(e.hiddenCaptures,e.transfers),this.#a=e.strategy,this.rawOptions=n??{}}a||(this.#t=this)}exec(t){if(!this.#t){let{lazyCompile:t,...r}=this.rawOptions;this.#t=new e(this.#r,this.flags,r)}let r=this.global||this.sticky,n=this.lastIndex;if("clip_search"===this.#a&&r&&n){this.lastIndex=0;let e=this.#s(t.slice(n));return e&&(function(e,t,r,n){if(e.index+=t,e.input=r,n){let r=e.indices;for(let e=0;e<r.length;e++){let n=r[e];n&&(r[e]=[n[0]+t,n[1]+t])}let n=r.groups;n&&Object.keys(n).forEach(e=>{let r=n[e];r&&(n[e]=[r[0]+t,r[1]+t])})}}(e,n,t,this.hasIndices),this.lastIndex+=n),e}return this.#s(t)}#s(e){let t;this.#t.lastIndex=this.lastIndex;let r=super.exec.call(this.#t,e);if(this.lastIndex=this.#t.lastIndex,!r||!this.#e.size)return r;let n=[...r];r.length=1,this.hasIndices&&(t=[...r.indices],r.indices.length=1);let a=[0];for(let e=1;e<n.length;e++){let{hidden:s,transferTo:i}=this.#e.get(e)??{};if(s?a.push(null):(a.push(r.length),r.push(n[e]),this.hasIndices&&r.indices.push(t[e])),i&&void 0!==n[e]){let s=a[i];if(!s)throw Error(`Invalid capture transfer to "${s}"`);if(r[s]=n[e],this.hasIndices&&(r.indices[s]=t[e]),r.groups){this.#n||(this.#n=function(e){let t,r=/(?<capture>\((?:\?<(?![=!])(?<name>[^>]+)>|(?!\?)))|\\?./gsu,n=new Map,a=0,s=0;for(;t=r.exec(e);){let{0:e,groups:{capture:r,name:i}}=t;"["===e?a++:a?"]"===e&&a--:r&&(s++,i&&n.set(s,i))}return n}(this.source));let a=this.#n.get(i);a&&(r.groups[a]=n[e],this.hasIndices&&(r.indices.groups[a]=t[e]))}}}return r}};class ll{constructor(e,t={}){this.patterns=e,this.options=t;const{forgiving:r=!1,cache:n,regexConstructor:a}=t;if(!a)throw Error("Option `regexConstructor` is not provided");this.regexps=e.map(e=>{if("string"!=typeof e)return e;let t=n?.get(e);if(t){if(t instanceof RegExp)return t;if(r)return null;throw t}try{let t=a(e);return n?.set(e,t),t}catch(t){if(n?.set(e,t),r)return null;throw t}})}regexps;findNextMatchSync(e,t,r){let n="string"==typeof e?e:e.content,a=[];function s(e,t,r=0){return{index:e,captureIndices:t.indices.map(e=>null==e?{start:0xffffffff,end:0xffffffff,length:0}:{start:e[0]+r,end:e[1]+r,length:e[1]-e[0]})}}for(let e=0;e<this.regexps.length;e++){let r=this.regexps[e];if(r)try{r.lastIndex=t;let i=r.exec(n);if(!i)continue;if(i.index===t)return s(e,i,0);a.push([e,i,0])}catch(e){if(this.options.forgiving)continue;throw e}}if(a.length){let e=Math.min(...a.map(e=>e[1].index));for(let[t,r,n]of a)if(r.index===e)return s(t,r,n)}return null}}var lc=e.i(197649);let lu=(e,t)=>{if(0===e.length)return t.classGroupId;let r=e[0],n=t.nextPart.get(r),a=n?lu(e.slice(1),n):void 0;if(a)return a;if(0===t.validators.length)return;let s=e.join("-");return t.validators.find(({validator:e})=>e(s))?.classGroupId},ld=/^\[(.+)\]$/,lh=(e,t,r,n)=>{e.forEach(e=>{if("string"==typeof e){(""===e?t:lp(t,e)).classGroupId=r;return}"function"==typeof e?lm(e)?lh(e(n),t,r,n):t.validators.push({validator:e,classGroupId:r}):Object.entries(e).forEach(([e,a])=>{lh(a,lp(t,e),r,n)})})},lp=(e,t)=>{let r=e;return t.split("-").forEach(e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r},lm=e=>e.isThemeGetter,lf=/\s+/;function lg(){let e,t,r=0,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=lE(e))&&(n&&(n+=" "),n+=t);return n}let lE=e=>{let t;if("string"==typeof e)return e;let r="";for(let n=0;n<e.length;n++)e[n]&&(t=lE(e[n]))&&(r&&(r+=" "),r+=t);return r},lT=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},l_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lC=/^\d+\/\d+$/,lN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ly=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,lk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lI=e=>lC.test(e),lR=e=>!!e&&!Number.isNaN(Number(e)),lL=e=>!!e&&Number.isInteger(Number(e)),lD=e=>e.endsWith("%")&&lR(e.slice(0,-1)),lO=e=>lN.test(e),lw=()=>!0,lM=e=>lb.test(e)&&!ly.test(e),lx=()=>!1,lP=e=>lk.test(e),lv=e=>lS.test(e),lB=e=>!lU(e)&&!lq(e),lF=e=>lJ(e,l2,lx),lU=e=>l_.test(e),lH=e=>lJ(e,l3,lM),lG=e=>lJ(e,l5,lR),l$=e=>lJ(e,l0,lx),lj=e=>lJ(e,l1,lv),lY=e=>lJ(e,l4,lP),lq=e=>lA.test(e),lW=e=>lZ(e,l3),lz=e=>lZ(e,l8),lV=e=>lZ(e,l0),lQ=e=>lZ(e,l2),lX=e=>lZ(e,l1),lK=e=>lZ(e,l4,!0),lJ=(e,t,r)=>{let n=l_.exec(e);return!!n&&(n[1]?t(n[1]):r(n[2]))},lZ=(e,t,r=!1)=>{let n=lA.exec(e);return!!n&&(n[1]?t(n[1]):r)},l0=e=>"position"===e||"percentage"===e,l1=e=>"image"===e||"url"===e,l2=e=>"length"===e||"size"===e||"bg-size"===e,l3=e=>"length"===e,l5=e=>"number"===e,l8=e=>"family-name"===e,l4=e=>"shadow"===e,l6=function(e,...t){let r,n,a,s=function(o){var l;let c;return n=(r={cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,r=new Map,n=new Map,a=(a,s)=>{r.set(a,s),++t>e&&(t=0,n=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(a(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):a(e,t)}}})((l=t.reduce((e,t)=>t(e),e())).cacheSize),parseClassName:(e=>{let{prefix:t,experimentalParseClassName:r}=e,n=e=>{let t,r,n=[],a=0,s=0,i=0;for(let t=0;t<e.length;t++){let o=e[t];if(0===a&&0===s){if(":"===o){n.push(e.slice(i,t)),i=t+1;continue}if("/"===o){r=t;continue}}"["===o?a++:"]"===o?a--:"("===o?s++:")"===o&&s--}let o=0===n.length?e:e.substring(i),l=(t=o).endsWith("!")?t.substring(0,t.length-1):t.startsWith("!")?t.substring(1):t;return{modifiers:n,hasImportantModifier:l!==o,baseClassName:l,maybePostfixModifierPosition:r&&r>i?r-i:void 0}};if(t){let e=t+":",r=n;n=t=>t.startsWith(e)?r(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(r){let e=n;n=t=>r({className:t,parseClassName:e})}return n})(l),sortModifiers:(c=Object.fromEntries(l.orderSensitiveModifiers.map(e=>[e,!0])),e=>{if(e.length<=1)return e;let t=[],r=[];return e.forEach(e=>{"["===e[0]||c[e]?(t.push(...r.sort(),e),r=[]):r.push(e)}),t.push(...r.sort()),t}),...(e=>{let t=(e=>{let{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(let e in r)lh(r[e],n,e,t);return n})(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{let r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),lu(r,t)||(e=>{if(ld.test(e)){let t=ld.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}})(e)},getConflictingClassGroupIds:(e,t)=>{let a=r[e]||[];return t&&n[e]?[...a,...n[e]]:a}}})(l)}).cache.get,a=r.cache.set,s=i,i(o)};function i(e){let t=n(e);if(t)return t;let s=((e,t)=>{let{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:s}=t,i=[],o=e.trim().split(lf),l="";for(let e=o.length-1;e>=0;e-=1){let t=o[e],{isExternal:c,modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=r(t);if(c){l=t+(l.length>0?" "+l:l);continue}let m=!!p,f=n(m?h.substring(0,p):h);if(!f){if(!m||!(f=n(h))){l=t+(l.length>0?" "+l:l);continue}m=!1}let g=s(u).join(":"),E=d?g+"!":g,T=E+f;if(i.includes(T))continue;i.push(T);let _=a(f,m);for(let e=0;e<_.length;++e){let t=_[e];i.push(E+t)}l=t+(l.length>0?" "+l:l)}return l})(e,r);return a(e,s),s}return function(){return s(lg.apply(null,arguments))}}(()=>{let e=lT("color"),t=lT("font"),r=lT("text"),n=lT("font-weight"),a=lT("tracking"),s=lT("leading"),i=lT("breakpoint"),o=lT("container"),l=lT("spacing"),c=lT("radius"),u=lT("shadow"),d=lT("inset-shadow"),h=lT("text-shadow"),p=lT("drop-shadow"),m=lT("blur"),f=lT("perspective"),g=lT("aspect"),E=lT("ease"),T=lT("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...A(),lq,lU],N=()=>["auto","hidden","clip","visible","scroll"],b=()=>["auto","contain","none"],y=()=>[lq,lU,l],k=()=>[lI,"full","auto",...y()],S=()=>[lL,"none","subgrid",lq,lU],I=()=>["auto",{span:["full",lL,lq,lU]},lL,lq,lU],R=()=>[lL,"auto",lq,lU],L=()=>["auto","min","max","fr",lq,lU],D=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],O=()=>["start","end","center","stretch","center-safe","end-safe"],w=()=>["auto",...y()],M=()=>[lI,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],x=()=>[e,lq,lU],P=()=>[...A(),lV,l$,{position:[lq,lU]}],v=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",lQ,lF,{size:[lq,lU]}],F=()=>[lD,lW,lH],U=()=>["","none","full",c,lq,lU],H=()=>["",lR,lW,lH],G=()=>["solid","dashed","dotted","double"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>[lR,lD,lV,l$],Y=()=>["","none",m,lq,lU],q=()=>["none",lR,lq,lU],W=()=>["none",lR,lq,lU],z=()=>[lR,lq,lU],V=()=>[lI,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[lO],breakpoint:[lO],color:[lw],container:[lO],"drop-shadow":[lO],ease:["in","out","in-out"],font:[lB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[lO],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[lO],shadow:[lO],spacing:["px",lR],text:[lO],"text-shadow":[lO],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",lI,lU,lq,g]}],container:["container"],columns:[{columns:[lR,lU,lq,o]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[lL,"auto",lq,lU]}],basis:[{basis:[lI,"full","auto",o,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[lR,lI,"auto","initial","none",lU]}],grow:[{grow:["",lR,lq,lU]}],shrink:[{shrink:["",lR,lq,lU]}],order:[{order:[lL,"first","last","none",lq,lU]}],"grid-cols":[{"grid-cols":S()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":S()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:[...D(),"normal"]}],"justify-items":[{"justify-items":[...O(),"normal"]}],"justify-self":[{"justify-self":["auto",...O()]}],"align-content":[{content:["normal",...D()]}],"align-items":[{items:[...O(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...O(),{baseline:["","last"]}]}],"place-content":[{"place-content":D()}],"place-items":[{"place-items":[...O(),"baseline"]}],"place-self":[{"place-self":["auto",...O()]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:w()}],mx:[{mx:w()}],my:[{my:w()}],ms:[{ms:w()}],me:[{me:w()}],mt:[{mt:w()}],mr:[{mr:w()}],mb:[{mb:w()}],ml:[{ml:w()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:M()}],w:[{w:[o,"screen",...M()]}],"min-w":[{"min-w":[o,"screen","none",...M()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[i]},...M()]}],h:[{h:["screen","lh",...M()]}],"min-h":[{"min-h":["screen","lh","none",...M()]}],"max-h":[{"max-h":["screen","lh",...M()]}],"font-size":[{text:["base",r,lW,lH]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,lq,lG]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",lD,lU]}],"font-family":[{font:[lz,lU,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,lq,lU]}],"line-clamp":[{"line-clamp":[lR,"none",lq,lG]}],leading:[{leading:[s,...y()]}],"list-image":[{"list-image":["none",lq,lU]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",lq,lU]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:x()}],"text-color":[{text:x()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[lR,"from-font","auto",lq,lH]}],"text-decoration-color":[{decoration:x()}],"underline-offset":[{"underline-offset":[lR,"auto",lq,lU]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lq,lU]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lq,lU]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:P()}],"bg-repeat":[{bg:v()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},lL,lq,lU],radial:["",lq,lU],conic:[lL,lq,lU]},lX,lj]}],"bg-color":[{bg:x()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:x()}],"gradient-via":[{via:x()}],"gradient-to":[{to:x()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:H()}],"border-w-x":[{"border-x":H()}],"border-w-y":[{"border-y":H()}],"border-w-s":[{"border-s":H()}],"border-w-e":[{"border-e":H()}],"border-w-t":[{"border-t":H()}],"border-w-r":[{"border-r":H()}],"border-w-b":[{"border-b":H()}],"border-w-l":[{"border-l":H()}],"divide-x":[{"divide-x":H()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":H()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:x()}],"border-color-x":[{"border-x":x()}],"border-color-y":[{"border-y":x()}],"border-color-s":[{"border-s":x()}],"border-color-e":[{"border-e":x()}],"border-color-t":[{"border-t":x()}],"border-color-r":[{"border-r":x()}],"border-color-b":[{"border-b":x()}],"border-color-l":[{"border-l":x()}],"divide-color":[{divide:x()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[lR,lq,lU]}],"outline-w":[{outline:["",lR,lW,lH]}],"outline-color":[{outline:x()}],shadow:[{shadow:["","none",u,lK,lY]}],"shadow-color":[{shadow:x()}],"inset-shadow":[{"inset-shadow":["none",d,lK,lY]}],"inset-shadow-color":[{"inset-shadow":x()}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:x()}],"ring-offset-w":[{"ring-offset":[lR,lH]}],"ring-offset-color":[{"ring-offset":x()}],"inset-ring-w":[{"inset-ring":H()}],"inset-ring-color":[{"inset-ring":x()}],"text-shadow":[{"text-shadow":["none",h,lK,lY]}],"text-shadow-color":[{"text-shadow":x()}],opacity:[{opacity:[lR,lq,lU]}],"mix-blend":[{"mix-blend":[...$(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":$()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[lR]}],"mask-image-linear-from-pos":[{"mask-linear-from":j()}],"mask-image-linear-to-pos":[{"mask-linear-to":j()}],"mask-image-linear-from-color":[{"mask-linear-from":x()}],"mask-image-linear-to-color":[{"mask-linear-to":x()}],"mask-image-t-from-pos":[{"mask-t-from":j()}],"mask-image-t-to-pos":[{"mask-t-to":j()}],"mask-image-t-from-color":[{"mask-t-from":x()}],"mask-image-t-to-color":[{"mask-t-to":x()}],"mask-image-r-from-pos":[{"mask-r-from":j()}],"mask-image-r-to-pos":[{"mask-r-to":j()}],"mask-image-r-from-color":[{"mask-r-from":x()}],"mask-image-r-to-color":[{"mask-r-to":x()}],"mask-image-b-from-pos":[{"mask-b-from":j()}],"mask-image-b-to-pos":[{"mask-b-to":j()}],"mask-image-b-from-color":[{"mask-b-from":x()}],"mask-image-b-to-color":[{"mask-b-to":x()}],"mask-image-l-from-pos":[{"mask-l-from":j()}],"mask-image-l-to-pos":[{"mask-l-to":j()}],"mask-image-l-from-color":[{"mask-l-from":x()}],"mask-image-l-to-color":[{"mask-l-to":x()}],"mask-image-x-from-pos":[{"mask-x-from":j()}],"mask-image-x-to-pos":[{"mask-x-to":j()}],"mask-image-x-from-color":[{"mask-x-from":x()}],"mask-image-x-to-color":[{"mask-x-to":x()}],"mask-image-y-from-pos":[{"mask-y-from":j()}],"mask-image-y-to-pos":[{"mask-y-to":j()}],"mask-image-y-from-color":[{"mask-y-from":x()}],"mask-image-y-to-color":[{"mask-y-to":x()}],"mask-image-radial":[{"mask-radial":[lq,lU]}],"mask-image-radial-from-pos":[{"mask-radial-from":j()}],"mask-image-radial-to-pos":[{"mask-radial-to":j()}],"mask-image-radial-from-color":[{"mask-radial-from":x()}],"mask-image-radial-to-color":[{"mask-radial-to":x()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[lR]}],"mask-image-conic-from-pos":[{"mask-conic-from":j()}],"mask-image-conic-to-pos":[{"mask-conic-to":j()}],"mask-image-conic-from-color":[{"mask-conic-from":x()}],"mask-image-conic-to-color":[{"mask-conic-to":x()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:P()}],"mask-repeat":[{mask:v()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",lq,lU]}],filter:[{filter:["","none",lq,lU]}],blur:[{blur:Y()}],brightness:[{brightness:[lR,lq,lU]}],contrast:[{contrast:[lR,lq,lU]}],"drop-shadow":[{"drop-shadow":["","none",p,lK,lY]}],"drop-shadow-color":[{"drop-shadow":x()}],grayscale:[{grayscale:["",lR,lq,lU]}],"hue-rotate":[{"hue-rotate":[lR,lq,lU]}],invert:[{invert:["",lR,lq,lU]}],saturate:[{saturate:[lR,lq,lU]}],sepia:[{sepia:["",lR,lq,lU]}],"backdrop-filter":[{"backdrop-filter":["","none",lq,lU]}],"backdrop-blur":[{"backdrop-blur":Y()}],"backdrop-brightness":[{"backdrop-brightness":[lR,lq,lU]}],"backdrop-contrast":[{"backdrop-contrast":[lR,lq,lU]}],"backdrop-grayscale":[{"backdrop-grayscale":["",lR,lq,lU]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[lR,lq,lU]}],"backdrop-invert":[{"backdrop-invert":["",lR,lq,lU]}],"backdrop-opacity":[{"backdrop-opacity":[lR,lq,lU]}],"backdrop-saturate":[{"backdrop-saturate":[lR,lq,lU]}],"backdrop-sepia":[{"backdrop-sepia":["",lR,lq,lU]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",lq,lU]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[lR,"initial",lq,lU]}],ease:[{ease:["linear","initial",E,lq,lU]}],delay:[{delay:[lR,lq,lU]}],animate:[{animate:["none",T,lq,lU]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[f,lq,lU]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:q()}],"rotate-x":[{"rotate-x":q()}],"rotate-y":[{"rotate-y":q()}],"rotate-z":[{"rotate-z":q()}],scale:[{scale:W()}],"scale-x":[{"scale-x":W()}],"scale-y":[{"scale-y":W()}],"scale-z":[{"scale-z":W()}],"scale-3d":["scale-3d"],skew:[{skew:z()}],"skew-x":[{"skew-x":z()}],"skew-y":[{"skew-y":z()}],transform:[{transform:[lq,lU,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:V()}],"translate-x":[{"translate-x":V()}],"translate-y":[{"translate-y":V()}],"translate-z":[{"translate-z":V()}],"translate-none":["translate-none"],accent:[{accent:x()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:x()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lq,lU]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lq,lU]}],fill:[{fill:["none",...x()]}],"stroke-w":[{stroke:[lR,lW,lH,lG]}],stroke:[{stroke:["none",...x()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});var l9=e.i(370927),l7=(...e)=>l6((0,lc.clsx)(e)),ce=(e,t,r)=>{let n="string"==typeof t?new Blob([t],{type:r}):t,a=URL.createObjectURL(n),s=document.createElement("a");s.href=a,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)},ct=/<pre(\s|>)/,cr=(0,H.createContext)({code:""}),cn=new class{constructor(){this.lightHighlighter=null,this.darkHighlighter=null,this.lightTheme=null,this.darkTheme=null,this.loadedLanguages=new Set,this.initializationPromise=null}isLanguageSupported(e){return Object.hasOwn(n7,e)}getFallbackLanguage(){return"text"}async ensureHighlightersInitialized(e,t){var r,n;let[a,s]=e,i=function(e={}){let t=Object.assign({target:"auto",cache:new Map},e);return t.regexConstructor||=e=>{let r;return(r=function(e,t){var r;let n,a,s,i,o=ox(t),l=(r=iX(e,{flags:o.flags,normalizeUnknownPropertyNames:!0,rules:{captureGroup:o.rules.captureGroup,singleline:o.rules.singleline},skipBackrefValidation:o.rules.allowOrphanBackrefs,unicodePropertyMap:oF}),n={accuracy:"default",asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:"ES2025",...{accuracy:o.accuracy,asciiWordBoundaries:o.rules.asciiWordBoundaries,avoidSubclass:o.avoidSubclass,bestEffortTarget:o.target}},oQ(r),a={accuracy:n.accuracy,asciiWordBoundaries:n.asciiWordBoundaries,avoidSubclass:n.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:ow[n.bestEffortTarget]>=ow.ES2024,passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:r.flags.digitIsAscii,spaceIsAscii:r.flags.spaceIsAscii,wordIsAscii:r.flags.wordIsAscii},oi(r,oW,a),i={currentFlags:s={dotAll:r.flags.dotAll,ignoreCase:r.flags.ignoreCase},prevFlags:null,globalFlags:s,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:a.subroutineRefMap},oi(r,oz,i),oi(r,oV,{groupsByName:i.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:i.reffedNodesByReferencer}),r._originMap=i.groupOriginByCopy,r._strategy=a.strategy,r),c=function(e,t){let r=ox(t),n=ow[r.target]>=ow.ES2024,a=ow[r.target]>=ow.ES2025,s=r.rules.recursionLimit;if(!Number.isInteger(s)||s<2||s>20)throw Error("Invalid recursionLimit; use 2-20");let i=null,o=null;if(!a){let t=[e.flags.ignoreCase];oi(e,o8,{getCurrentModI:()=>t.at(-1),popModI(){t.pop()},pushModI(e){t.push(e)},setHasCasedChar(){t.at(-1)?i=!0:o=!0}})}let l={dotAll:e.flags.dotAll,ignoreCase:!!((e.flags.ignoreCase||i)&&!o)},c=e,u={accuracy:r.accuracy,appliedGlobalFlags:l,captureMap:new Map,currentFlags:{dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},inCharClass:!1,lastNode:c,originMap:e._originMap,recursionLimit:s,useAppliedIgnoreCase:!!(!a&&i&&o),useFlagMods:a,useFlagV:n,verbose:r.verbose};function d(e){return u.lastNode=c,c=e,(function(e,t){if(null==e)throw Error(t??"Value expected");return e})(o4[e.type],`Unexpected node type "${e.type}"`)(e,u,d)}let h={pattern:e.body.map(d).join("|"),flags:d(e.flags),options:{...e.options}};return n||(delete h.options.force.v,h.options.disable.v=!0,h.options.unicodeSetsPlugin=null),h._captureTransfers=new Map,h._hiddenCaptures=[],u.captureMap.forEach((e,t)=>{e.hidden&&h._hiddenCaptures.push(t),e.transferTo&&oO(h._captureTransfers,e.transferTo,[]).push(t)}),h}(l,o),u=function(e,t){let r,{hiddenCaptures:n,mode:a}={hiddenCaptures:[],mode:"plugin",...t},s=t?.captureTransfers??new Map;if(!RegExp(oT,"su").test(e))return{pattern:e,captureTransfers:s,hiddenCaptures:n};if("plugin"===a&&oh(e,og`\(\?\(DEFINE\)`,ou.DEFAULT))throw Error("DEFINE groups cannot be used with recursion");let i=[],o=oh(e,og`\\[1-9]`,ou.DEFAULT),l=new Map,c=[],u=!1,d=0,h=0;for(oC.lastIndex=0;r=oC.exec(e);){let{0:t,groups:{captureName:p,rDepth:m,gRNameOrNum:f,gRDepth:g}}=r;if("["===t)d++;else if(d)"]"===t&&d--;else if(m){if(ob(m),u)throw Error(oN);if(o)throw Error(`${"external"===a?"Backrefs":"Numbered backrefs"} cannot be used with global recursion`);let t=e.slice(0,r.index),l=e.slice(oC.lastIndex);if(oh(l,oT,ou.DEFAULT))throw Error(oN);let c=m-1;e=oy(t,l,c,!1,n,i,h),s=oS(s,t,c,i.length,0,h);break}else if(f){ob(g);let d=!1;for(let e of c)if(e.name===f||e.num===+f){if(d=!0,e.hasRecursedWithin)throw Error(oN);break}if(!d)throw Error(og`Recursive \g cannot be used outside the referenced group "${"external"===a?f:og`\g<${f}&R=${g}>`}"`);let p=l.get(f),m=function(e,t){let r,n=/\\?./gsu;n.lastIndex=t;let a=e.length,s=0,i=1;for(;r=n.exec(e);){let[e]=r;if("["===e)s++;else if(s)"]"===e&&s--;else if("("===e)i++;else if(")"===e&&!--i){a=r.index;break}}return e.slice(t,a)}(e,p);if(o&&oh(m,og`${o_}|\((?!\?)`,ou.DEFAULT))throw Error(`${"external"===a?"Backrefs":"Numbered backrefs"} cannot be used with recursion of capturing groups`);let E=e.slice(p,r.index),T=m.slice(E.length+t.length),_=i.length,A=g-1,C=oy(E,T,A,!0,n,i,h);s=oS(s,E,A,i.length-_,_,h);let N=e.slice(0,p),b=e.slice(p+m.length);e=`${N}${C}${b}`,oC.lastIndex+=C.length-t.length-E.length-T.length,c.forEach(e=>e.hasRecursedWithin=!0),u=!0}else if(p)h++,l.set(String(h),oC.lastIndex),l.set(p,oC.lastIndex),c.push({num:h,name:p});else if("("===t[0]){let e="("===t;e&&(h++,l.set(String(h),oC.lastIndex)),c.push(e?{num:h}:{})}else")"===t&&c.pop()}return n.push(...i),{pattern:e,captureTransfers:s,hiddenCaptures:n}}(c.pattern,{captureTransfers:c._captureTransfers,hiddenCaptures:c._hiddenCaptures,mode:"external"}),d=function(e,t){let r,n=t?.hiddenCaptures??[],a=t?.captureTransfers??new Map;if(!/\(\?>/.test(e))return{pattern:e,captureTransfers:a,hiddenCaptures:n};let s="(?:(?=(",i=[0],o=[],l=0,c=0,u=NaN;do{let t;r=!1;let d=0,h=0,p=!1;for(op.lastIndex=Number.isNaN(u)?0:u+s.length;t=op.exec(e);){let{0:m,index:f,groups:{capturingStart:g,noncapturingStart:E}}=t;if("["===m)d++;else if(d)"]"===m&&d--;else if("(?>"!==m||p){if(p&&E)h++;else if(g)p?h++:(l++,i.push(l+c));else if(")"===m&&p){if(!h){let t=l+ ++c;e=`${e.slice(0,u)}${s}${e.slice(u+3,f)}))<$$${t}>)${e.slice(f+1)}`,r=!0,o.push(t);for(let e=0;e<n.length;e++)n[e]>=t&&n[e]++;if(a.size){let e=new Map;a.forEach((r,n)=>{e.set(n>=t?n+1:n,r.map(e=>e>=t?e+1:e))}),a=e}break}h--}}else u=f,p=!0}}while(r)return n.push(...o),{pattern:e=od(e,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:e,groups:{backrefNum:t,wrappedBackrefNum:r}})=>{if(t){let r=+t;if(r>i.length-1)throw Error(`Backref "${e}" greater than number of captures`);return`\\${i[r]}`}return`\\${r}`},ou.DEFAULT),captureTransfers:a,hiddenCaptures:n}}(function(e){let t;if(!RegExp(`${om}\\+`).test(e))return{pattern:e};let r=[],n=null,a=null,s="",i=0;for(of.lastIndex=0;t=of.exec(e);){let{0:c,index:u,groups:{qBase:d,qMod:h,invalidQ:p}}=t;if("["===c)i||(a=u),i++;else if("]"===c)i?i--:a=null;else if(!i)if("+"===h&&s&&!s.startsWith("(")){if(p)throw Error(`Invalid quantifier "${c}"`);let t=-1;if(/^\{\d+\}$/.test(d)){var o,l;o=e,l=u+d.length,e=o.slice(0,l)+""+o.slice(l+h.length)}else{if(")"===s||"]"===s){let t=")"===s?n:a;if(null===t)throw Error(`Invalid unmatched "${s}"`);e=`${e.slice(0,t)}(?>${e.slice(t,u)}${d})${e.slice(u+c.length)}`}else e=`${e.slice(0,u-s.length)}(?>${s}${d})${e.slice(u+c.length)}`;t+=4}of.lastIndex+=t}else"("===c[0]?r.push(u):")"===c&&(n=r.length?r.pop():null);s=c}return{pattern:e}}(u.pattern).pattern,{captureTransfers:u.captureTransfers,hiddenCaptures:u.hiddenCaptures}),h={pattern:d.pattern,flags:`${o.hasIndices?"d":""}${o.global?"g":""}${c.flags}${c.options.disable.v?"u":"v"}`};if(o.avoidSubclass){if(o.lazyCompileLength!==1/0)throw Error("Lazy compilation requires subclass")}else{let e=d.hiddenCaptures.sort((e,t)=>e-t),t=Array.from(d.captureTransfers),r=l._strategy,n=h.pattern.length>=o.lazyCompileLength;(e.length||t.length||r||n)&&(h.options={...e.length&&{hiddenCaptures:e},...t.length&&{transfers:t},...r&&{strategy:r},...n&&{lazyCompile:n}})}return h}(e,{global:!0,hasIndices:!0,lazyCompileLength:3e3,rules:{allowOrphanBackrefs:!0,asciiWordBoundaries:!0,captureGroup:!0,recursionLimit:5,singleline:!0},...{target:t.target}})).options?new lo(r.pattern,r.flags,r.options):new RegExp(r.pattern,r.flags)},{createScanner:e=>new ll(e,t),createString:e=>({content:e})}}({forgiving:!0}),o=!this.lightHighlighter||this.lightTheme!==a,l=!this.darkHighlighter||this.darkTheme!==s;(o||l)&&this.loadedLanguages.clear();let c=this.isLanguageSupported(t),u=!this.loadedLanguages.has(t)&&c;if(o?(this.lightHighlighter=await iS({themes:[a],langs:c?[t]:[],engine:i}),this.lightTheme=a,c&&this.loadedLanguages.add(t)):u&&await (null==(r=this.lightHighlighter)?void 0:r.loadLanguage(t)),l){let e=u?[...this.loadedLanguages].concat(c?[t]:[]):Array.from(this.loadedLanguages);this.darkHighlighter=await iS({themes:[s],langs:e.length>0?e:c?[t]:[],engine:i}),this.darkTheme=s}else u&&await (null==(n=this.darkHighlighter)?void 0:n.loadLanguage(t));u&&this.loadedLanguages.add(t)}async highlightCode(e,t,r,n){var a,s;this.initializationPromise&&await this.initializationPromise,this.initializationPromise=this.ensureHighlightersInitialized(r,t),await this.initializationPromise,this.initializationPromise=null;let[i,o]=r,l=this.isLanguageSupported(t)?t:this.getFallbackLanguage(),c=null==(a=this.lightHighlighter)?void 0:a.codeToHtml(e,{lang:l,theme:i}),u=null==(s=this.darkHighlighter)?void 0:s.codeToHtml(e,{lang:l,theme:o}),d=e=>n?e.replace(ct,`<pre class="${n}"$1`):e;return[ca(d(c)),ca(d(u))]}},ca=e=>e.replace(/(<pre[^>]*)(style="[^"]*background[^";]*;?[^"]*")([^>]*>)/g,"$1$3"),cs=({code:e,language:t,className:r,children:n,preClassName:a,...s})=>{let[i,o]=(0,H.useState)(""),[l,c]=(0,H.useState)(""),u=(0,H.useRef)(!1),[d,h]=(0,H.useContext)(c2);return(0,H.useEffect)(()=>(u.current=!0,cn.highlightCode(e,t,[d,h],a).then(([e,t])=>{u.current&&(o(e),c(t))}),()=>{u.current=!1}),[e,t,d,h,a]),(0,ej.jsx)(cr.Provider,{value:{code:e},children:(0,ej.jsxs)("div",{className:"my-4 w-full overflow-hidden rounded-xl border","data-code-block-container":!0,"data-language":t,children:[(0,ej.jsxs)("div",{className:"flex items-center justify-between bg-muted/80 p-3 text-muted-foreground text-xs","data-code-block-header":!0,"data-language":t,children:[(0,ej.jsx)("span",{className:"ml-1 font-mono lowercase",children:t}),(0,ej.jsx)("div",{className:"flex items-center gap-2",children:n})]}),(0,ej.jsx)("div",{className:"w-full",children:(0,ej.jsxs)("div",{className:"min-w-full",children:[(0,ej.jsx)("div",{className:l7("overflow-x-auto dark:hidden",r),dangerouslySetInnerHTML:{__html:i},"data-code-block":!0,"data-language":t,...s}),(0,ej.jsx)("div",{className:l7("hidden overflow-x-auto dark:block",r),dangerouslySetInnerHTML:{__html:l},"data-code-block":!0,"data-language":t,...s})]})})]})})},ci={"1c":"1c","1c-query":"1cq",abap:"abap","actionscript-3":"as",ada:"ada",adoc:"adoc","angular-html":"html","angular-ts":"ts",apache:"conf",apex:"cls",apl:"apl",applescript:"applescript",ara:"ara",asciidoc:"adoc",asm:"asm",astro:"astro",awk:"awk",ballerina:"bal",bash:"sh",bat:"bat",batch:"bat",be:"be",beancount:"beancount",berry:"berry",bibtex:"bib",bicep:"bicep",blade:"blade.php",bsl:"bsl",c:"c","c#":"cs","c++":"cpp",cadence:"cdc",cairo:"cairo",cdc:"cdc",clarity:"clar",clj:"clj",clojure:"clj","closure-templates":"soy",cmake:"cmake",cmd:"cmd",cobol:"cob",codeowners:"CODEOWNERS",codeql:"ql",coffee:"coffee",coffeescript:"coffee","common-lisp":"lisp",console:"sh",coq:"v",cpp:"cpp",cql:"cql",crystal:"cr",cs:"cs",csharp:"cs",css:"css",csv:"csv",cue:"cue",cypher:"cql",d:"d",dart:"dart",dax:"dax",desktop:"desktop",diff:"diff",docker:"dockerfile",dockerfile:"dockerfile",dotenv:"env","dream-maker":"dm",edge:"edge",elisp:"el",elixir:"ex",elm:"elm","emacs-lisp":"el",erb:"erb",erl:"erl",erlang:"erl",f:"f","f#":"fs",f03:"f03",f08:"f08",f18:"f18",f77:"f77",f90:"f90",f95:"f95",fennel:"fnl",fish:"fish",fluent:"ftl",for:"for","fortran-fixed-form":"f","fortran-free-form":"f90",fs:"fs",fsharp:"fs",fsl:"fsl",ftl:"ftl",gdresource:"tres",gdscript:"gd",gdshader:"gdshader",genie:"gs",gherkin:"feature","git-commit":"gitcommit","git-rebase":"gitrebase",gjs:"js",gleam:"gleam","glimmer-js":"js","glimmer-ts":"ts",glsl:"glsl",gnuplot:"plt",go:"go",gql:"gql",graphql:"graphql",groovy:"groovy",gts:"gts",hack:"hack",haml:"haml",handlebars:"hbs",haskell:"hs",haxe:"hx",hbs:"hbs",hcl:"hcl",hjson:"hjson",hlsl:"hlsl",hs:"hs",html:"html","html-derivative":"html",http:"http",hxml:"hxml",hy:"hy",imba:"imba",ini:"ini",jade:"jade",java:"java",javascript:"js",jinja:"jinja",jison:"jison",jl:"jl",js:"js",json:"json",json5:"json5",jsonc:"jsonc",jsonl:"jsonl",jsonnet:"jsonnet",jssm:"jssm",jsx:"jsx",julia:"jl",kotlin:"kt",kql:"kql",kt:"kt",kts:"kts",kusto:"kql",latex:"tex",lean:"lean",lean4:"lean",less:"less",liquid:"liquid",lisp:"lisp",lit:"lit",llvm:"ll",log:"log",logo:"logo",lua:"lua",luau:"luau",make:"mak",makefile:"mak",markdown:"md",marko:"marko",matlab:"m",md:"md",mdc:"mdc",mdx:"mdx",mediawiki:"wiki",mermaid:"mmd",mips:"s",mipsasm:"s",mmd:"mmd",mojo:"mojo",move:"move",nar:"nar",narrat:"narrat",nextflow:"nf",nf:"nf",nginx:"conf",nim:"nim",nix:"nix",nu:"nu",nushell:"nu",objc:"m","objective-c":"m","objective-cpp":"mm",ocaml:"ml",pascal:"pas",perl:"pl",perl6:"p6",php:"php",plsql:"pls",po:"po",polar:"polar",postcss:"pcss",pot:"pot",potx:"potx",powerquery:"pq",powershell:"ps1",prisma:"prisma",prolog:"pl",properties:"properties",proto:"proto",protobuf:"proto",ps:"ps",ps1:"ps1",pug:"pug",puppet:"pp",purescript:"purs",py:"py",python:"py",ql:"ql",qml:"qml",qmldir:"qmldir",qss:"qss",r:"r",racket:"rkt",raku:"raku",razor:"cshtml",rb:"rb",reg:"reg",regex:"regex",regexp:"regexp",rel:"rel",riscv:"s",rs:"rs",rst:"rst",ruby:"rb",rust:"rs",sas:"sas",sass:"sass",scala:"scala",scheme:"scm",scss:"scss",sdbl:"sdbl",sh:"sh",shader:"shader",shaderlab:"shader",shell:"sh",shellscript:"sh",shellsession:"sh",smalltalk:"st",solidity:"sol",soy:"soy",sparql:"rq",spl:"spl",splunk:"spl",sql:"sql","ssh-config":"config",stata:"do",styl:"styl",stylus:"styl",svelte:"svelte",swift:"swift","system-verilog":"sv",systemd:"service",talon:"talon",talonscript:"talon",tasl:"tasl",tcl:"tcl",templ:"templ",terraform:"tf",tex:"tex",tf:"tf",tfvars:"tfvars",toml:"toml",ts:"ts","ts-tags":"ts",tsp:"tsp",tsv:"tsv",tsx:"tsx",turtle:"ttl",twig:"twig",typ:"typ",typescript:"ts",typespec:"tsp",typst:"typ",v:"v",vala:"vala",vb:"vb",verilog:"v",vhdl:"vhdl",vim:"vim",viml:"vim",vimscript:"vim",vue:"vue","vue-html":"html","vue-vine":"vine",vy:"vy",vyper:"vy",wasm:"wasm",wenyan:"wy",wgsl:"wgsl",wiki:"wiki",wikitext:"wiki",wit:"wit",wl:"wl",wolfram:"wl",xml:"xml",xsl:"xsl",yaml:"yaml",yml:"yml",zenscript:"zs",zig:"zig",zsh:"zsh",:"wy"},co=({onDownload:e,onError:t,language:r,children:n,className:a,code:s,...i})=>{let o=(0,H.useContext)(cr).code,l=null!=s?s:o,c=`file.${r&&r in ci?ci[r]:"txt"}`;return(0,ej.jsx)("button",{className:l7("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground",a),onClick:()=>{try{ce(c,l,"text/plain"),null==e||e()}catch(e){null==t||t(e)}},title:"Download file",type:"button",...i,children:null!=n?n:(0,ej.jsx)(n8,{size:14})})},cl=({onCopy:e,onError:t,timeout:r=2e3,children:n,className:a,code:s,...i})=>{let[o,l]=(0,H.useState)(!1),c=(0,H.useRef)(0),u=(0,H.useContext)(cr).code,d=null!=s?s:u,h=async()=>{var n;if("undefined"==typeof window||!(null!=(n=null==navigator?void 0:navigator.clipboard)&&n.writeText)){null==t||t(Error("Clipboard API not available"));return}try{o||(await navigator.clipboard.writeText(d),l(!0),null==e||e(),c.current=window.setTimeout(()=>l(!1),r))}catch(e){null==t||t(e)}};return(0,H.useEffect)(()=>()=>{window.clearTimeout(c.current)},[]),(0,ej.jsx)("button",{className:l7("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground",a),onClick:h,type:"button",...i,children:null!=n?n:(0,ej.jsx)(o?n3:n5,{size:14})})},cc=async t=>{let r={startOnLoad:!1,theme:"default",securityLevel:"strict",fontFamily:"monospace",suppressErrorRendering:!0,...t},n=(await e.A(628226)).default;return n.initialize(r),n},cu=({chart:e,className:t,config:r})=>{let[n,a]=(0,H.useState)(null),[s,i]=(0,H.useState)(!0),[o,l]=(0,H.useState)(""),[c,u]=(0,H.useState)("");return((0,H.useEffect)(()=>{(async()=>{try{a(null),i(!0);let t=await cc(r),n=e.split("").reduce((e,t)=>(e<<5)-e+t.charCodeAt(0)|0,0),s=`mermaid-${Math.abs(n)}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,{svg:o}=await t.render(s,e);l(o),u(o)}catch(e){c||o||a(e instanceof Error?e.message:"Failed to render Mermaid chart")}finally{i(!1)}})()},[e,r]),!s||o||c)?!n||o||c?(0,ej.jsx)("div",{"aria-label":"Mermaid chart",className:l7("my-4 flex justify-center",t),dangerouslySetInnerHTML:{__html:o||c},role:"img"}):(0,ej.jsxs)("div",{className:l7("rounded-lg border border-red-200 bg-red-50 p-4",t),children:[(0,ej.jsxs)("p",{className:"font-mono text-red-700 text-sm",children:["Mermaid Error: ",n]}),(0,ej.jsxs)("details",{className:"mt-2",children:[(0,ej.jsx)("summary",{className:"cursor-pointer text-red-600 text-xs",children:"Show Code"}),(0,ej.jsx)("pre",{className:"mt-2 overflow-x-auto rounded bg-red-100 p-2 text-red-800 text-xs",children:e})]})]}):(0,ej.jsx)("div",{className:l7("my-4 flex justify-center p-4",t),children:(0,ej.jsxs)("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[(0,ej.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-current border-b-2"}),(0,ej.jsx)("span",{className:"text-sm",children:"Loading diagram..."})]})})};function cd(e){var t,r;let n=[],a=[];for(let r of e.querySelectorAll("thead th"))n.push((null==(t=r.textContent)?void 0:t.trim())||"");for(let t of e.querySelectorAll("tbody tr")){let e=[];for(let n of t.querySelectorAll("td"))e.push((null==(r=n.textContent)?void 0:r.trim())||"");a.push(e)}return{headers:n,rows:a}}function ch(e){let{headers:t,rows:r}=e,n=e=>e.includes(",")||e.includes('"')||e.includes(`
`)?`"${e.replace(/"/g,'""')}"`:e,a=[];for(let e of(t.length>0&&a.push(t.map(n).join(",")),r))a.push(e.map(n).join(","));return a.join(`
`)}function cp(e){let{headers:t,rows:r}=e;if(0===t.length)return"";let n=[],a=t.map(e=>e.replace(/\|/g,"\\|"));for(let e of(n.push(`| ${a.join(" | ")} |`),n.push(`| ${t.map(()=>"---").join(" | ")} |`),r)){let r=[...e];for(;r.length<t.length;)r.push("");let a=r.map(e=>e.replace(/\|/g,"\\|"));n.push(`| ${a.join(" | ")} |`)}return n.join(`
`)}var cm=({children:e,className:t,onCopy:r,onError:n,timeout:a=2e3,format:s="markdown"})=>{let[i,o]=(0,H.useState)(!1),l=(0,H.useRef)(0),c=async e=>{var t;if("undefined"==typeof window||!(null!=(t=null==navigator?void 0:navigator.clipboard)&&t.write)){null==n||n(Error("Clipboard API not available"));return}try{if(!i){let t=e.currentTarget.closest('[data-streamdown="table-wrapper"]'),i=null==t?void 0:t.querySelector("table");if(!i){null==n||n(Error("Table not found"));return}let c=cd(i),u=new ClipboardItem({"text/plain":"markdown"===s?cp(c):ch(c),"text/html":new Blob([i.outerHTML],{type:"text/html"})});await navigator.clipboard.write([u]),o(!0),null==r||r(),l.current=window.setTimeout(()=>o(!1),a)}}catch(e){null==n||n(e)}};return(0,H.useEffect)(()=>()=>{window.clearTimeout(l.current)},[]),(0,ej.jsx)("button",{className:l7("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground",t),onClick:c,title:`Copy table as ${s}`,type:"button",children:null!=e?e:(0,ej.jsx)(i?n3:n5,{size:14})})},cf=({children:e,className:t,onDownload:r,onError:n})=>{let[a,s]=(0,H.useState)(!1),i=(0,H.useRef)(null),o=e=>{var t;try{let a=null==(t=i.current)?void 0:t.closest('[data-streamdown="table-wrapper"]'),o=null==a?void 0:a.querySelector("table");if(!o){null==n||n(Error("Table not found"));return}let l=cd(o),c="csv"===e?ch(l):cp(l);ce(`table.${"csv"===e?"csv":"md"}`,c,"csv"===e?"text/csv":"text/markdown"),s(!1),null==r||r(e)}catch(e){null==n||n(e)}};return(0,H.useEffect)(()=>{let e=e=>{i.current&&!i.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,ej.jsxs)("div",{className:"relative",ref:i,children:[(0,ej.jsx)("button",{className:l7("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground",t),onClick:()=>s(!a),title:"Download table",type:"button",children:null!=e?e:(0,ej.jsx)(n8,{size:14})}),a&&(0,ej.jsxs)("div",{className:"absolute top-full right-0 z-10 mt-1 min-w-[120px] rounded-md border border-border bg-background shadow-lg",children:[(0,ej.jsx)("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>o("csv"),type:"button",children:"CSV"}),(0,ej.jsx)("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>o("markdown"),type:"button",children:"Markdown"})]})]})},cg=/language-([^\s]+)/;function cE(e,t){if(!(null!=e&&e.position||null!=t&&t.position))return!0;if(!(null!=e&&e.position&&null!=t&&t.position))return!1;let r=e.position.start,n=t.position.start,a=e.position.end,s=t.position.end;return(null==r?void 0:r.line)===(null==n?void 0:n.line)&&(null==r?void 0:r.column)===(null==n?void 0:n.column)&&(null==a?void 0:a.line)===(null==s?void 0:s.line)&&(null==a?void 0:a.column)===(null==s?void 0:s.column)}function cT(e,t){return e.className===t.className&&cE(e.node,t.node)}var c_=(e,t)=>"boolean"==typeof e?e:!1!==e[t],cA=(0,H.memo)(({children:e,className:t,...r})=>(0,ej.jsx)("ol",{className:l7("ml-4 list-outside list-decimal whitespace-normal",t),"data-streamdown":"ordered-list",...r,children:e}),(e,t)=>cT(e,t));cA.displayName="MarkdownOl";var cC=(0,H.memo)(({children:e,className:t,...r})=>(0,ej.jsx)("li",{className:l7("py-1",t),"data-streamdown":"list-item",...r,children:e}),(e,t)=>e.className===t.className&&cE(e.node,t.node));cC.displayName="MarkdownLi";var cN=(0,H.memo)(({children:e,className:t,...r})=>(0,ej.jsx)("ul",{className:l7("ml-4 list-outside list-disc whitespace-normal",t),"data-streamdown":"unordered-list",...r,children:e}),(e,t)=>cT(e,t));cN.displayName="MarkdownUl";var cb=(0,H.memo)(({className:e,...t})=>(0,ej.jsx)("hr",{className:l7("my-6 border-border",e),"data-streamdown":"horizontal-rule",...t}),(e,t)=>cT(e,t));cb.displayName="MarkdownHr";var cy=(0,H.memo)(({children:e,className:t,...r})=>(0,ej.jsx)("span",{className:l7("font-semibold",t),"data-streamdown":"strong",...r,children:e}),(e,t)=>cT(e,t));cy.displayName="MarkdownStrong";var ck=(0,H.memo)(({children:e,className:t,href:r,...n})=>(0,ej.jsx)("a",{className:l7("wrap-anywhere font-medium text-primary underline",t),"data-incomplete":"streamdown:incomplete-link"===r,"data-streamdown":"link",href:r,rel:"noreferrer",target:"_blank",...n,children:e}),(e,t)=>cT(e,t)&&e.href===t.href);ck.displayName="MarkdownA";var cS=(0,H.memo)(({children:e,className:t,...r})=>(0,ej.jsx)("h1",{className:l7("mt-6 mb-2 font-semibold text-3xl",t),"data-streamdown":"heading-1",...r,children:e}),(e,t)=>cT(e,t));cS.displayName="MarkdownH1";var cI=(0,H.memo)(({children:e,className:t,...r})=>(0,ej.jsx)("h2",{className:l7("mt-6 mb-2 font-semibold text-2xl",t),"data-streamdown":"heading-2",...r,children:e}),(e,t)=>cT(e,t));cI.displayName="MarkdownH2";var cR=(0,H.memo)(({children:e,className:t,...r})=>(0,ej.jsx)("h3",{className:l7("mt-6 mb-2 font-semibold text-xl",t),"data-streamdown":"heading-3",...r,children:e}),(e,t)=>cT(e,t));cR.displayName="MarkdownH3";var cL=(0,H.memo)(({children:e,className:t,...r})=>(0,ej.jsx)("h4",{className:l7("mt-6 mb-2 font-semibold text-lg",t),"data-streamdown":"heading-4",...r,children:e}),(e,t)=>cT(e,t));cL.displayName="MarkdownH4";var cD=(0,H.memo)(({children:e,className:t,...r})=>(0,ej.jsx)("h5",{className:l7("mt-6 mb-2 font-semibold text-base",t),"data-streamdown":"heading-5",...r,children:e}),(e,t)=>cT(e,t));cD.displayName="MarkdownH5";var cO=(0,H.memo)(({children:e,className:t,...r})=>(0,ej.jsx)("h6",{className:l7("mt-6 mb-2 font-semibold text-sm",t),"data-streamdown":"heading-6",...r,children:e}),(e,t)=>cT(e,t));cO.displayName="MarkdownH6";var cw=(0,H.memo)(({children:e,className:t,...r})=>{let n=c_((0,H.useContext)(c5),"table");return(0,ej.jsxs)("div",{className:"my-4 flex flex-col space-y-2","data-streamdown":"table-wrapper",children:[n&&(0,ej.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,ej.jsx)(cm,{}),(0,ej.jsx)(cf,{})]}),(0,ej.jsx)("div",{className:"overflow-x-auto",children:(0,ej.jsx)("table",{className:l7("w-full border-collapse border border-border",t),"data-streamdown":"table",...r,children:e})})]})},(e,t)=>cT(e,t));cw.displayName="MarkdownTable";var cM=(0,H.memo)(({children:e,className:t,...r})=>(0,ej.jsx)("thead",{className:l7("bg-muted/80",t),"data-streamdown":"table-header",...r,children:e}),(e,t)=>cT(e,t));cM.displayName="MarkdownThead";var cx=(0,H.memo)(({children:e,className:t,...r})=>(0,ej.jsx)("tbody",{className:l7("divide-y divide-border bg-muted/40",t),"data-streamdown":"table-body",...r,children:e}),(e,t)=>cT(e,t));cx.displayName="MarkdownTbody";var cP=(0,H.memo)(({children:e,className:t,...r})=>(0,ej.jsx)("tr",{className:l7("border-border border-b",t),"data-streamdown":"table-row",...r,children:e}),(e,t)=>cT(e,t));cP.displayName="MarkdownTr";var cv=(0,H.memo)(({children:e,className:t,...r})=>(0,ej.jsx)("th",{className:l7("whitespace-nowrap px-4 py-2 text-left font-semibold text-sm",t),"data-streamdown":"table-header-cell",...r,children:e}),(e,t)=>cT(e,t));cv.displayName="MarkdownTh";var cB=(0,H.memo)(({children:e,className:t,...r})=>(0,ej.jsx)("td",{className:l7("px-4 py-2 text-sm",t),"data-streamdown":"table-cell",...r,children:e}),(e,t)=>cT(e,t));cB.displayName="MarkdownTd";var cF=(0,H.memo)(({children:e,className:t,...r})=>(0,ej.jsx)("blockquote",{className:l7("my-4 border-muted-foreground/30 border-l-4 pl-4 text-muted-foreground italic",t),"data-streamdown":"blockquote",...r,children:e}),(e,t)=>cT(e,t));cF.displayName="MarkdownBlockquote";var cU=(0,H.memo)(({children:e,className:t,...r})=>(0,ej.jsx)("sup",{className:l7("text-sm",t),"data-streamdown":"superscript",...r,children:e}),(e,t)=>cT(e,t));cU.displayName="MarkdownSup";var cH=(0,H.memo)(({children:e,className:t,...r})=>(0,ej.jsx)("sub",{className:l7("text-sm",t),"data-streamdown":"subscript",...r,children:e}),(e,t)=>cT(e,t));cH.displayName="MarkdownSub";var cG=(0,H.memo)(({node:e,className:t,children:r,...n})=>{var a,s,i;let o=(null==(a=null==e?void 0:e.position)?void 0:a.start.line)===(null==(s=null==e?void 0:e.position)?void 0:s.end.line),l=(0,H.useContext)(c3),c=(0,H.useContext)(c5);if(o)return(0,ej.jsx)("code",{className:l7("rounded bg-muted px-1.5 py-0.5 font-mono text-sm",t),"data-streamdown":"inline-code",...n,children:r});let u=null==t?void 0:t.match(cg),d=null!=(i=null==u?void 0:u.at(1))?i:"",h="";if((0,H.isValidElement)(r)&&r.props&&"object"==typeof r.props&&"children"in r.props&&"string"==typeof r.props.children?h=r.props.children:"string"==typeof r&&(h=r),"mermaid"===d){let e=c_(c,"mermaid");return(0,ej.jsxs)("div",{className:l7("group relative my-4 h-auto rounded-xl border p-4",t),"data-streamdown":"mermaid-block",children:[e&&(0,ej.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,ej.jsx)(co,{code:h,language:d}),(0,ej.jsx)(cl,{code:h})]}),(0,ej.jsx)(cu,{chart:h,config:l})]})}let p=c_(c,"code");return(0,ej.jsx)(cs,{className:l7("overflow-x-auto border-t",t),code:h,"data-language":d,"data-streamdown":"code-block",language:d,preClassName:"overflow-x-auto font-mono text-xs p-4 bg-muted/40",children:p&&(0,ej.jsxs)(ej.Fragment,{children:[(0,ej.jsx)(co,{code:h,language:d}),(0,ej.jsx)(cl,{})]})})},(e,t)=>e.className===t.className&&cE(e.node,t.node));cG.displayName="MarkdownCode";var c$=(0,H.memo)(({node:e,className:t,src:r,alt:n,...a})=>{let s=async()=>{var e;if(r)try{let t=await (await fetch(r)).blob(),a=new URL(r,window.location.origin).pathname.split("/").pop()||"",s=a.includes(".")&&(null==(e=a.split(".").pop())?void 0:e.length)<=4,i="";if(s)i=a;else{let e=t.type,r="png";e.includes("jpeg")||e.includes("jpg")?r="jpg":e.includes("png")?r="png":e.includes("svg")?r="svg":e.includes("gif")?r="gif":e.includes("webp")&&(r="webp"),i=`${(n||a||"image").replace(/\.[^/.]+$/,"")}.${r}`}ce(i,t,t.type)}catch(e){console.error("Failed to download image:",e)}};return r?(0,ej.jsxs)("div",{className:"group relative my-4 inline-block","data-streamdown":"image-wrapper",children:[(0,ej.jsx)("img",{alt:n,className:l7("max-w-full rounded-lg",t),"data-streamdown":"image",src:r,...a}),(0,ej.jsx)("div",{className:"pointer-events-none absolute inset-0 hidden rounded-lg bg-black/10 group-hover:block"}),(0,ej.jsx)("button",{className:l7("absolute right-2 bottom-2 flex h-8 w-8 cursor-pointer items-center justify-center rounded-md border border-border bg-background/90 shadow-sm backdrop-blur-sm transition-all duration-200 hover:bg-background","opacity-0 group-hover:opacity-100"),onClick:s,title:"Download image",type:"button",children:(0,ej.jsx)(n8,{size:14})})]}):null},(e,t)=>e.className===t.className&&cE(e.node,t.node));c$.displayName="MarkdownImg";var cj={ol:cA,li:cC,ul:cN,hr:cb,strong:cy,a:ck,h1:cS,h2:cI,h3:cR,h4:cL,h5:cD,h6:cO,table:cw,thead:cM,tbody:cx,tr:cP,th:cv,td:cB,blockquote:cF,code:cG,img:c$,pre:({children:e})=>e,sup:cU,sub:cH},cY=/(!?\[)([^\]]*?)$/,cq=/(\*\*)([^*]*?)$/,cW=/(__)([^_]*?)$/,cz=/(\*\*\*)([^*]*?)$/,cV=/(\*)([^*]*?)$/,cQ=/(_)([^_]*?)$/,cX=/(`)([^`]*?)$/,cK=/(~~)([^~]*?)$/,cJ=e=>{let t=(e.match(/```/g)||[]).length;return t>0&&t%2==0&&e.includes(`
`)},cZ=(e,t)=>{let r=!1,n=!1;for(let a=0;a<e.length&&a<t;a++){if("\\"===e[a]&&"$"===e[a+1]){a++;continue}"$"===e[a]&&("$"===e[a+1]?(n=!n,a++,r=!1):n||(r=!r))}return r||n},c0=(e,t)=>{let r="```"===e.substring(t,t+3),n=t>0&&"```"===e.substring(t-1,t+2),a=t>1&&"```"===e.substring(t-2,t+1);return r||n||a},c1=(nK.default.default||nK.default)(function(e){var t;let r,n,a,s,i,o=(r=(t=e).rehypePlugins||eQ,n=t.remarkPlugins||eQ,a=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...eX}:eX,(0,eW.unified)().use(eY.default).use(n).use(eq.default,a).use(r)),l=(s=e.children||"",i=new eV.VFile,"string"==typeof s?i.value=s:(0,G.unreachable)("Unexpected value `"+s+"` for `children` prop, expected `string`"),i);return function(e,t){let r=t.allowedElements,n=t.allowElement,a=t.components,s=t.disallowedElements,i=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||eZ;for(let e of eJ)Object.hasOwn(t,e.from)&&(0,G.unreachable)("Unexpected `"+e.from+"` prop, "+(e.to?"use `"+e.to+"` instead":"remove it")+" (see <https://github.com/remarkjs/react-markdown/blob/main/changelog.md#"+e.id+"> for more info)");return r&&s&&(0,G.unreachable)("Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other"),(0,ez.visit)(e,function(e,t,a){if("raw"===e.type&&a&&"number"==typeof t)return i?a.children.splice(t,1):a.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in e$.urlAttributes)if(Object.hasOwn(e$.urlAttributes,t)&&Object.hasOwn(e.properties,t)){let r=e.properties[t],n=e$.urlAttributes[t];(null===n||n.includes(e.tagName))&&(e.properties[t]=l(String(r||""),t,e))}}if("element"===e.type){let i=r?!r.includes(e.tagName):!!s&&s.includes(e.tagName);if(!i&&n&&"number"==typeof t&&(i=!n(e,t,a)),i&&a&&"number"==typeof t)return o&&e.children?a.children.splice(t,1,...e.children):a.children.splice(t,1),t}}),function(e,t){var r,n,a,s,i;let o;if(!t||void 0===t.Fragment)throw TypeError("Expected `Fragment` in options");let l=t.filePath||void 0;if(t.development){if("function"!=typeof t.jsxDEV)throw TypeError("Expected `jsxDEV` in options when `development: true`");r=l,n=t.jsxDEV,o=function(e,t,a,s){let i=Array.isArray(a.children),o=(0,eI.pointStart)(e);return n(t,a,s,i,{columnNumber:o?o.column-1:void 0,fileName:r,lineNumber:o?o.line:void 0},void 0)}}else{if("function"!=typeof t.jsx)throw TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw TypeError("Expected `jsxs` in production options");a=0,s=t.jsx,i=t.jsxs,o=function(e,t,r,n){let a=Array.isArray(r.children)?i:s;return n?a(t,r,n):a(t,r)}}let c={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:o,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:l,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?ey:eb,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},u=eP(c,e,void 0);return u&&"string"!=typeof u?u:c.create(e,c.Fragment,{children:u||void 0},void 0)}(e,{Fragment:ej.Fragment,components:a,ignoreInvalidStyle:!0,jsx:ej.jsx,jsxs:ej.jsxs,passKeys:!0,passNode:!0})}(o.runSync(o.parse(l),l),e)}),c2=(0,H.createContext)(["github-light","github-dark"]),c3=(0,H.createContext)(void 0),c5=(0,H.createContext)(!0),c8={singleDollarTextMath:!1},c4={},c6=(0,H.memo)(({content:e,shouldParseIncompleteMarkdown:t,...r})=>{let n=(0,H.useMemo)(()=>"string"==typeof e&&t?(e=>{if(!e||"string"!=typeof e)return e;let t=e,r=(e=>{let t=e.match(cY);if(t){if(t[1].startsWith("!")){let r=e.lastIndexOf(t[1]);return e.substring(0,r)}return`${e}](streamdown:incomplete-link)`}return e})(t);return r.endsWith("](streamdown:incomplete-link)")?r:t=(e=>{if((e.match(/\$\$/g)||[]).length%2==0)return e;let t=e.indexOf("$$");return -1===t||-1===e.indexOf(`
`,t)||e.endsWith(`
`)?`${e}$$`:`${e}
$$`})(t=(e=>{let t=e.match(cK);if(t){let r=t[2];if(!r||/^[\s_~*`]*$/.test(r))return e;if((e.match(/~~/g)||[]).length%2==1)return`${e}~~`}return e})(t=(e=>{if(e.match(/^```[^`\n]*```?$/)&&!e.includes(`
`))return e.endsWith("``")&&!e.endsWith("```")?`${e}\``:e;let t=(e.match(/```/g)||[]).length;if(t>0&&t%2==0&&e.includes(`
`)||(e.endsWith("```\n")||e.endsWith("```"))&&t%2==0)return e;let r=e.match(cX);if(r&&t%2!=1){let t=r[2];if(!t||/^[\s_~*`]*$/.test(t))return e;if((e=>{let t=0;for(let r=0;r<e.length;r++)"`"===e[r]&&!c0(e,r)&&t++;return t})(e)%2==1)return`${e}\``}return e})(t=(e=>{if(cJ(e))return e;if(e.match(cQ)){let t=-1;for(let r=0;r<e.length;r++)if("_"===e[r]&&"_"!==e[r-1]&&"_"!==e[r+1]&&"\\"!==e[r-1]&&!cZ(e,r)){let n=r>0?e[r-1]:"",a=r<e.length-1?e[r+1]:"";if(n&&a&&/[\p{L}\p{N}_]/u.test(n)&&/[\p{L}\p{N}_]/u.test(a))continue;t=r;break}if(-1===t)return e;let r=e.substring(t+1);if(!r||/^[\s_~*`]*$/.test(r))return e;if(e.split("").reduce((t,r,n)=>{if("_"===r){let r=e[n-1],a=e[n+1];if("\\"===r||cZ(e,n)||r&&a&&/[\p{L}\p{N}_]/u.test(r)&&/[\p{L}\p{N}_]/u.test(a))return t;if("_"!==r&&"_"!==a)return t+1}return t},0)%2==1){let t=e.match(/\n+$/);return t?`${e.slice(0,-t[0].length)}_${t[0]}`:`${e}_`}}return e})(t=(e=>{if(cJ(e))return e;if(e.match(cV)){let t=-1;for(let r=0;r<e.length;r++)if("*"===e[r]&&"*"!==e[r-1]&&"*"!==e[r+1]){t=r;break}if(-1===t)return e;let r=e.substring(t+1);if(!r||/^[\s_~*`]*$/.test(r))return e;if(e.split("").reduce((t,r,n)=>{if("*"===r){let r=e[n-1],a=e[n+1];if("\\"===r)return t;let s=n;for(let t=n-1;t>=0;t--){if(e[t]===`
`){s=t+1;break}if(0===t){s=0;break}}if(""===e.substring(s,n).trim()&&(" "===a||"	"===a))return t;if("*"!==r&&"*"!==a)return t+1}return t},0)%2==1)return`${e}*`}return e})(t=(e=>{let t=e.match(cW);if(t){let r=t[2];if(!r||/^[\s_~*`]*$/.test(r))return e;let n=e.lastIndexOf(t[1]),a=e.substring(0,n).lastIndexOf(`
`),s=e.substring(-1===a?0:a+1,n);if(/^[\s]*[-*+][\s]+$/.test(s)&&r.includes(`
`))return e;if((e.match(/__/g)||[]).length%2==1)return`${e}__`}return e})(t=(e=>{if(cJ(e))return e;let t=e.match(cq);if(t){let r=t[2];if(!r||/^[\s_~*`]*$/.test(r))return e;let n=e.lastIndexOf(t[1]),a=e.substring(0,n).lastIndexOf(`
`),s=e.substring(-1===a?0:a+1,n);if(/^[\s]*[-*+][\s]+$/.test(s)&&r.includes(`
`))return e;if((e.match(/\*\*/g)||[]).length%2==1)return`${e}**`}return e})(t=(e=>{if(cJ(e)||/^\*{4,}$/.test(e))return e;let t=e.match(cz);if(t){let r=t[2];if(!r||/^[\s_~*`]*$/.test(r))return e;if((e=>{let t=0;for(let r of e.match(/\*+/g)||[]){let e=r.length;e>=3&&(t+=Math.floor(e/3))}return t})(e)%2==1)return`${e}***`}return e})(t=r))))))))})(e.trim()):e,[e,t]);return(0,ej.jsx)(c1,{...r,children:n})},(e,t)=>e.content===t.content);c6.displayName="Block";var c9=(0,H.memo)(({children:e,allowedImagePrefixes:t=["*"],allowedLinkPrefixes:r=["*"],defaultOrigin:n,parseIncompleteMarkdown:a=!0,components:s,rehypePlugins:i,remarkPlugins:o,className:l,shikiTheme:c=["github-light","github-dark"],mermaidConfig:u,controls:d=!0,...h})=>{let p=(0,H.useId)(),m=(0,H.useMemo)(()=>(e=>{let t=l9.Lexer.lex(e,{gfm:!0}).map(e=>e.raw),r=[];for(let e of t){if("$$"===e.trim()&&r.length>0){let t=r.at(-1);if(!t)continue;let n=t.trimStart().startsWith("$$"),a=(t.match(/\$\$/g)||[]).length;if(n&&a%2==1){r[r.length-1]=t+e;continue}}if(r.length>0&&e.trimEnd().endsWith("$$")){let t=r.at(-1);if(!t)continue;let n=t.trimStart().startsWith("$$"),a=(t.match(/\$\$/g)||[]).length,s=(e.match(/\$\$/g)||[]).length;if(n&&a%2==1&&!e.trimStart().startsWith("$$")&&1===s){r[r.length-1]=t+e;continue}}r.push(e)}return r})("string"==typeof e?e:""),[e]),f=(0,H.useMemo)(()=>()=>{let e;return e={errorColor:"var(--color-muted-foreground)"},function(t,r){(0,tA.visitParents)(t,"element",function(t,n){let a,s=Array.isArray(t.properties.className)?t.properties.className:tC,i=s.includes("language-math"),o=s.includes("math-display"),l=s.includes("math-inline"),c=o;if(!i&&!o&&!l)return;let u=n[n.length-1],d=t;if("code"===t.tagName&&i&&u&&"element"===u.type&&"pre"===u.tagName&&(d=u,u=n[n.length-2],c=!0),!u)return;let h=function(e,t={}){let r,n="children"in e?e.children:[],a=tg(e),s=tT(e,{whitespace:t.whitespace||"normal",breakBefore:!1,breakAfter:!1}),i=[];("text"===e.type||"comment"===e.type)&&i.push(...tE(e,{whitespace:s,breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<n.length;)i.push(...function e(t,r,n){return"element"===t.type?function(t,r,n){let a,s,i=tT(t,n),o=t.children||[],l=-1,c=[];if(tf(t))return c;for(td(t)||tm(t)&&ts(r,t,tm)?s="\n":tp(t)?(a=2,s=2):tg(t)&&(a=1,s=1);++l<o.length;)c=c.concat(e(o[l],t,{whitespace:i,breakBefore:l?void 0:a,breakAfter:l<o.length-1?td(o[l+1]):s}));return th(t)&&ts(r,t,th)&&c.push("	"),a&&c.unshift(a),s&&c.push(s),c}(t,r,n):"text"===t.type?"normal"===n.whitespace?tE(t,n):[String(t.value)]:[]}(n[o],e,{whitespace:s,breakBefore:o?void 0:a,breakAfter:o<n.length-1?td(n[o+1]):a}));let l=[];for(o=-1;++o<i.length;){let e=i[o];"number"==typeof e?void 0!==r&&e>r&&(r=e):e&&(void 0!==r&&r>-1&&l.push("\n".repeat(r)||" "),r=-1,l.push(e))}return l.join("")}(d,{whitespace:"pre"});try{a=t_.default.renderToString(h,{...e,displayMode:c,throwOnError:!0})}catch(i){let s=i.name.toLowerCase();r.message("Could not render math with KaTeX",{ancestors:[...n,t],cause:i,place:t.position,ruleId:s,source:"rehype-katex"});try{a=t_.default.renderToString(h,{...e,displayMode:c,strict:"ignore",throwOnError:!1})}catch{a=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(e.errorColor||"#cc0000"),title:String(i)},children:[{type:"text",value:h}]}]}}if("string"==typeof a){var p,m,f;let e;a=(p=a,m={fragment:!0},tt(m?.fragment?(f=p,(e=document.createElement("template")).innerHTML=f,e.content):tn.parseFromString(p,"text/html"),{})||{type:"root",children:[]}).children}let g=u.children.indexOf(d);return u.children.splice(g,1,...a),tA.SKIP})}},[]);return(0,ej.jsx)(c2.Provider,{value:c,children:(0,ej.jsx)(c3.Provider,{value:u,children:(0,ej.jsx)(c5.Provider,{value:d,children:(0,ej.jsx)("div",{className:l7("space-y-4",l),...h,children:m.map((e,l)=>(0,ej.jsx)(c6,{allowedImagePrefixes:t,allowedLinkPrefixes:r,components:{...cj,...s},content:e,defaultOrigin:n,rehypePlugins:[nB,f,...null!=i?i:[]],remarkPlugins:[[nG,c4],[nX,c8],...null!=o?o:[]],shouldParseIncompleteMarkdown:a},`${p}-block_${l}`))})})})})},(e,t)=>e.children===t.children&&e.shikiTheme===t.shikiTheme);c9.displayName="Streamdown",e.s(["ControlsContext",()=>c5,"MermaidConfigContext",()=>c3,"ShikiThemeContext",()=>c2,"Streamdown",()=>c9],531275)},686651,e=>{e.n(e.i(531275))}]);

//# debugId=c7c9d2af-13f7-6f10-4100-141d474ad2d8
//# sourceMappingURL=027c4aef0ac14091.js.map