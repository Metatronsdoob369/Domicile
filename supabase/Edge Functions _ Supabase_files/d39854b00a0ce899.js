;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="7e2ed330-8dc8-b94a-1efe-5bd499c0c8eb")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,489084,e=>{"use strict";let t=(0,e.i(388019).default)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);e.s(["default",()=>t])},382710,e=>{"use strict";let t=(0,e.i(388019).default)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);e.s(["Monitor",()=>t],382710)},940750,e=>{"use strict";var t=e.i(478902),i=e.i(389959);let r=(0,i.createContext)(null),a=(0,i.createContext)(()=>{});e.s(["MainScrollContainerProvider",0,({children:e})=>{let[s,o]=(0,i.useState)(null);return(0,t.jsx)(r.Provider,{value:s,children:(0,t.jsx)(a.Provider,{value:o,children:e})})},"useMainScrollContainer",0,()=>(0,i.useContext)(r),"useSetMainScrollContainer",0,()=>(0,i.useContext)(a)])},710377,e=>{"use strict";let t=(0,e.i(388019).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],710377)},427432,e=>{"use strict";var t=e.i(478902);e.s(["default",0,({active:e})=>e?(0,t.jsx)("div",{className:"logs-shimmering-loader w-full h-0.5"}):null])},677436,e=>{"use strict";var t=e.i(38429),i=e.i(356003),r=e.i(355901),a=e.i(234745),s=e.i(522525);async function o({projectRef:e,is_default:t,branchName:i,gitBranch:r,region:s,withData:o,desired_instance_size:n}){let{data:l,error:c}=await (0,a.post)("/v1/projects/{ref}/branches",{params:{path:{ref:e}},body:{is_default:t,branch_name:i,git_branch:r,region:s,with_data:o,desired_instance_size:n}});return c&&(0,a.handleError)(c),l}e.s(["useBranchCreateMutation",0,({onSuccess:e,onError:a,...n}={})=>{let l=(0,i.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>o(e),async onSuccess(t,i,r){let{projectRef:a}=i;await l.invalidateQueries({queryKey:s.branchKeys.list(a)}),await e?.(t,i,r)},async onError(e,t,i){void 0===a?r.toast.error(`Failed to create branch: ${e.message}`):a(e,t,i)},...n})}])},362784,e=>{"use strict";var t=e.i(38429),i=e.i(355901),r=e.i(234745);async function a({repositoryId:e,branchName:t},i){let{data:a,error:s}=await (0,r.get)("/platform/integrations/github/repositories/{repository_id}/branches/{branch_name}",{params:{path:{repository_id:e,branch_name:t}},signal:i});return s&&(0,r.handleError)(s),a}e.s(["useCheckGithubBranchValidity",0,({onSuccess:e,onError:r,...s}={})=>(0,t.useMutation)({mutationFn:e=>a(e),async onSuccess(t,i,r){await e?.(t,i,r)},async onError(e,t,a){void 0===r?i.toast.error(`Failed to check GitHub branch: ${e.message}`):r(e,t,a)},...s})])},462142,e=>{"use strict";var t=e.i(242882),i=e.i(234745),r=e.i(78162);async function a({projectRef:e},t){if(!e)throw Error("projectRef is required");let{data:r,error:a}=await (0,i.get)("/platform/projects/{ref}/config/postgrest",{params:{path:{ref:e}},signal:t});return a&&(0,i.handleError)(a),r}e.s(["useProjectPostgrestConfigQuery",0,({projectRef:e},{enabled:i=!0,...s}={})=>(0,t.useQuery)({queryKey:r.configKeys.postgrest(e),queryFn:({signal:t})=>a({projectRef:e},t),enabled:i&&void 0!==e,...s})])},148210,e=>{"use strict";var t=e.i(242882),i=e.i(234745),r=e.i(224649);async function a({organizationId:e},t){if(!e)throw Error("organizationId is required");let{data:r,error:a}=await (0,i.get)("/platform/integrations/github/connections",{params:{query:{organization_id:e}},signal:t});return a&&(0,i.handleError)(a),r.connections}e.s(["useGitHubConnectionsQuery",0,({organizationId:e},{enabled:i=!0,...s}={})=>(0,t.useQuery)({queryKey:r.integrationKeys.githubConnectionsList(e),queryFn:({signal:t})=>a({organizationId:e},t),enabled:i&&void 0!==e,staleTime:18e5,...s})])},585915,e=>{"use strict";let t=(0,e.i(388019).default)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);e.s(["Loader",()=>t],585915)},1606,136764,e=>{"use strict";let t=(0,e.i(388019).default)("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);e.s(["default",()=>t],136764),e.s(["PauseCircle",()=>t],1606)},589314,598952,210942,e=>{"use strict";var t=e.i(242882);e.i(128328);var i=e.i(86086),r=e.i(234745),a=e.i(557282);async function s(e,t){let{data:i,error:a}=await (0,r.get)("/platform/projects-resource-warnings",{params:{query:{ref:e?.ref,slug:e?.slug}},signal:t});return a&&(0,r.handleError)(a),i}e.s(["useResourceWarningsQuery",0,(e,{enabled:r=!0,...o}={})=>(0,t.useQuery)({queryKey:a.usageKeys.resourceWarnings(e.slug,e.ref),queryFn:({signal:t})=>s(e,t),enabled:i.IS_PLATFORM&&r&&(void 0!==e.ref||void 0!==e.slug),staleTime:36e5,...o})],589314);var o=e.i(10429);let n={is_readonly_mode_enabled:{bannerContent:{warning:{title:"Your project is currently in read-only mode and is no longer accepting write requests",description:"You will need to manually override read-only mode and reduce the disk size to below 95%"},critical:{title:"Your project is currently in read-only mode and is no longer accepting write requests",description:"You will need to manually override read-only mode and reduce the disk size to below 95%"}},cardContent:{warning:{title:"Project is in read-only mode",description:"Database is no longer accepting write requests."},critical:{title:"Project is in read-only mode",description:"Database is no longer accepting write requests."}},docsUrl:`${o.DOCS_URL}/guides/platform/database-size#disabling-read-only-mode`,buttonText:"Learn more",metric:"read_only"},disk_io_exhaustion:{bannerContent:{warning:{title:"Your project is about to deplete its Disk IO Budget, and may become unresponsive once fully exhausted",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."},critical:{title:"Your project has depleted its Disk IO Budget, and may become unresponsive",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."}},cardContent:{warning:{title:"Project is depleting its Disk IO Budget",description:"It may become unresponsive if fully exhausted"},critical:{title:"Project has depleted its Disk IO Budget",description:"It may become unresponsive"}},docsUrl:`${o.DOCS_URL}/guides/troubleshooting/exhaust-disk-io`,buttonText:"Learn more",metric:"disk_io"},disk_space_exhaustion:{bannerContent:{warning:{title:"Your project is about to exhaust its available disk space, and may become unresponsive once fully exhausted",description:"You can opt to increase your disk size up to 200GB on the Database Settings page."},critical:{title:"Your project has exhausted its available disk space, and may become unresponsive",description:"You can opt to increase your disk size up to 200GB on the Database Settings page."}},cardContent:{warning:{title:"Project is exhausting its available disk space",description:"It may become unresponsive if fully exhausted"},critical:{title:"Project has exhausted its available disk space",description:"It may become unresponsive"}},docsUrl:`${o.DOCS_URL}/guides/platform/database-size#disk-management`,buttonText:void 0,metric:"disk_space"},cpu_exhaustion:{bannerContent:{warning:{title:"Your project is currently facing high CPU usage, and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."},critical:{title:"Your project's CPU usage is at 100% and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."}},cardContent:{warning:{title:"Project has high CPU usage",description:"Performance is affected"},critical:{title:"Project CPU usage is at 100%",description:"Performance is affected"}},docsUrl:`${o.DOCS_URL}/guides/troubleshooting/high-cpu-usage`,buttonText:"Learn more",metric:"cpu"},memory_and_swap_exhaustion:{bannerContent:{warning:{title:"Your project is currently facing high memory usage, and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."},critical:{title:"Your project's memory usage is at 100%, and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."}},cardContent:{warning:{title:"Project has high memory usage",description:"Performance is affected"},critical:{title:"Project memory usage is at 100%",description:"Performance is affected"}},docsUrl:`${o.DOCS_URL}/guides/troubleshooting/exhaust-ram`,buttonText:"Learn more",metric:"ram"},auth_rate_limit_exhaustion:{bannerContent:{warning:{title:"Your project has exceeded email rate limits in the past 24 hours and may not reliably send auth related emails to users",description:"Set up a custom SMTP and adjust rate limits where necessary to ensure that emails are sent out reliably."},critical:{title:void 0,description:void 0}},cardContent:{warning:{title:"Your project has exceeded email rate limits",description:"You will need to set up a custom SMTP provider and adjust rate limits where necessary"},critical:{title:void 0,description:void 0}},docsUrl:`${o.DOCS_URL}/guides/platform/going-into-prod#auth-rate-limits`,buttonText:"Enable custom SMTP",metric:"auth_email_rate_limit"},multiple_resource_warnings:{bannerContent:{warning:{title:"Your project is currently exhausting multiple resources, and its performance is affected",description:"Check which resources are reaching their threshold on your project's usage page."},critical:{title:"Your project has exhausted multiple resources, and its performance is affected",description:"Check which resources have reached their threshold on your project's usage page."}},cardContent:{warning:{title:"Project is exhausting multiple resources",description:"Performance is affected."},critical:{title:"Project has exhausted multiple resources",description:"Performance is affected."}},docsUrl:void 0,buttonText:"Check usage",metric:null}};e.s(["RESOURCE_WARNING_MESSAGES",0,n],598952),e.s(["getWarningContent",0,(e,t,i)=>{if("is_readonly_mode_enabled"===t)return n.is_readonly_mode_enabled.cardContent.warning;let r=e[t];if("string"==typeof r)return n[t]?.[i]?.[r]}],210942)},31563,e=>{"use strict";var t=e.i(242882),i=e.i(234745),r=e.i(711950);async function a({slug:e},t){if(!e)throw Error("slug is required");let{data:r,error:a}=await (0,i.get)("/platform/organizations/{slug}/members/reached-free-project-limit",{params:{path:{slug:e}},signal:t});return a&&(0,i.handleError)(a),r}e.s(["useFreeProjectLimitCheckQuery",0,({slug:e},{enabled:i=!0,...s}={})=>(0,t.useQuery)({queryKey:r.organizationKeys.freeProjectLimitCheck(e),queryFn:({signal:t})=>a({slug:e},t),enabled:i&&void 0!==e,...s})])},423782,e=>{"use strict";var t=e.i(478902),i=e.i(389959),r=e.i(874311),a=e.i(613580),s=e.i(843778);let o=(0,i.forwardRef)(({...e},i)=>(0,t.jsxs)(a.Tooltip,{children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(r.DropdownMenuItem,{ref:i,...e,className:(0,s.cn)(e.className,"!pointer-events-auto"),onClick:t=>{!e.disabled&&e.onClick&&e.onClick(t)},children:e.children})}),e.disabled&&void 0!==e.tooltip.content.text&&(0,t.jsx)(a.TooltipContent,{...e.tooltip.content,children:e.tooltip.content.text})]}));o.displayName="DropdownMenuItemTooltip",e.s(["DropdownMenuItemTooltip",0,o])},981682,e=>{"use strict";var t=e.i(38429),i=e.i(355901),r=e.i(234745);async function a({projectRef:e,orgSlug:t,reasons:i,message:a,exitAction:s}){let{data:o,error:n}=await (0,r.post)("/platform/feedback/downgrade",{body:{...void 0!==e&&{projectRef:e},...void 0!==t&&{orgSlug:t},reasons:i,additionalFeedback:a,exitAction:s}});return n&&(0,r.handleError)(n),o}e.s(["useSendDowngradeFeedbackMutation",0,({onError:e,...r}={})=>(0,t.useMutation)({mutationFn:e=>a(e),async onError(t,r,a){void 0===e?i.toast.error(`Failed to submit exit survey: ${t.message}`):e(t,r,a)},...r})])},872646,e=>{"use strict";let t=(0,e.i(388019).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],872646)},786741,e=>{"use strict";let t=(0,e.i(388019).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>t],786741)},776578,e=>{"use strict";e.s(["CANCELLATION_REASONS",0,[{value:"I was just exploring, or it was a hobby/student project."},{value:"I was not satisfied with the customer support I received.",label:"Could you tell us more about your experience with our support team?"},{value:"Supabase is missing a specific feature I need.",label:"What specific feature(s) are we missing?"},{value:"I found it difficult to use or build with.",label:"What specific parts of Supabase did you find difficult or frustrating?"},{value:"Performance or reliability insufficient.",label:"Could you tell us more about the specific issues you encountered (e.g., UI bugs, API latency, downtime)?"},{value:"My project was cancelled or put on hold."},{value:"Too expensive",label:"We appreciate your perspective on our pricing, what aspects of the cost felt too high?"},{value:"The pricing is unpredictable and hard to budget for.",label:"Which aspects of our pricing model made it difficult for you to predict your monthly costs?"},{value:"My company went out of business or was acquired."},{value:"I lost trust in the company or its future direction.",label:"Building and maintaining your trust is our highest priority, could you please share the specific event or reason that led to this loss of trust?"}],"USAGE_APPROACHING_THRESHOLD",0,.8])},699879,e=>{"use strict";let t=(0,e.i(388019).default)("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);e.s(["Minimize2",()=>t],699879)},295057,e=>{"use strict";e.i(10429);var t=e.i(837508);let i={micro:{label:"Micro",ram:"1 GB",cpu:"2-core",priceHourly:.01344,priceMonthly:10,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},small:{label:"Small",ram:"2 GB",cpu:"2-core",priceHourly:.0206,priceMonthly:15,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},medium:{label:"Medium",ram:"4 GB",cpu:"2-core",priceHourly:.0822,priceMonthly:60,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},large:{label:"Large",ram:"8 GB",cpu:"2-core",priceHourly:.1517,priceMonthly:110,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},xlarge:{label:"XL",ram:"16 GB",cpu:"4-core",priceHourly:.2877,priceMonthly:210,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},"2xlarge":{label:"2XL",ram:"32 GB",cpu:"8-core",priceHourly:.562,priceMonthly:410,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},"4xlarge":{label:"4XL",ram:"64 GB",cpu:"16-core",priceHourly:1.32,priceMonthly:960,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},"8xlarge":{label:"8XL",ram:"128 GB",cpu:"32-core",priceHourly:2.562,priceMonthly:1870,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"12xlarge":{label:"12XL",ram:"192 GB",cpu:"48-core",priceHourly:3.836,priceMonthly:2800,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"16xlarge":{label:"16XL",ram:"256 GB",cpu:"64-core",priceHourly:5.12,priceMonthly:3730,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"24xlarge":{label:"24XL",ram:"384 GB",cpu:"96-core",priceHourly:9.73,priceMonthly:7100,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"24xlarge_optimized_cpu":{label:"24XL - Optimized CPU",ram:"192 GB",cpu:"96-core",priceHourly:8.9,priceMonthly:6500,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"24xlarge_optimized_memory":{label:"24XL - Optimized Memory",ram:"768 GB",cpu:"96-core",priceHourly:13.84,priceMonthly:10100,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"24xlarge_high_memory":{label:"24XL - High Memory",ram:"1536 GB",cpu:"96-core",priceHourly:21.91,priceMonthly:16e3,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"48xlarge":{label:"48XL",ram:"768 GB",cpu:"192-core",priceHourly:19.47,priceMonthly:14200,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"48xlarge_optimized_cpu":{label:"48XL - Optimized CPU",ram:"384 GB",cpu:"192-core",priceHourly:17.8,priceMonthly:13e3,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"48xlarge_optimized_memory":{label:"48XL - Optimized Memory",ram:"1536 GB",cpu:"192-core",priceHourly:27.68,priceMonthly:20200,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"48xlarge_high_memory":{label:"48XL - High Memory",ram:"3072 GB",cpu:"192-core",priceHourly:43.84,priceMonthly:32e3,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]}};e.s(["instanceSizeSpecs",0,i])},467619,219187,e=>{"use strict";var t=e.i(242882),i=e.i(234745),r=e.i(78162);async function a({cloudProvider:e,dbRegion:t,organizationSlug:r},a){if(!r)throw Error("organizationSlug is required");let{data:s,error:o}=await (0,i.post)("/platform/organizations/{slug}/available-versions",{params:{path:{slug:r}},body:{provider:e,region:t},signal:a});return o&&(0,i.handleError)(o),s}let s=({cloudProvider:e,dbRegion:i,organizationSlug:s},{enabled:o=!0,...n}={})=>(0,t.useQuery)({queryKey:r.configKeys.projectCreationPostgresVersions(s,e,i),queryFn:({signal:t})=>a({organizationSlug:s,cloudProvider:e,dbRegion:i},t),enabled:o&&void 0!==s&&"_"!==s&&void 0!==i,...n});async function o({projectRef:e},t){if(!e)throw Error("projectRef is required");let{data:r,error:a}=await (0,i.get)("/platform/projects/{ref}/restore/versions",{params:{path:{ref:e}},signal:t});return a&&(0,i.handleError)(a),r}e.s(["useAvailableOrioleImageVersion",0,({cloudProvider:e,dbRegion:t,organizationSlug:i},{enabled:r})=>{let{data:a}=s({cloudProvider:e,dbRegion:t,organizationSlug:i},{enabled:r});return(a?.available_versions??[]).find(e=>"17-oriole"===e.postgres_engine)},"useProjectCreationPostgresVersionsQuery",0,s],467619),e.s(["useProjectUnpausePostgresVersionsQuery",0,({projectRef:e},{enabled:i=!0,...a}={})=>(0,t.useQuery)({queryKey:r.configKeys.projectUnpausePostgresVersions(e),queryFn:({signal:t})=>o({projectRef:e},t),enabled:i&&void 0!==e,...a})],219187)},372598,715801,e=>{"use strict";var t=e.i(478902),i=e.i(389959),r=e.i(467619),a=e.i(219187),s=e.i(635494),o=e.i(587433),n=e.i(451031),l=e.i(57492),c=e.i(831927),d=e.i(156722),u=e.i(719754),p=e.i(449123),h=e.i(538482);e.i(744541);var m=e.i(295057);e.i(287509);var f=e.i(434934);function g(e){return f.SMART_REGION_TO_EXACT_REGION_MAP.get(e)??e}function y(e){switch(e){case"AWS":case"AWS_K8S":return f.AWS_REGIONS;case"AWS_NIMBUS":return{EAST_US:f.AWS_REGIONS.EAST_US};case"FLY":return f.FLY_REGIONS;default:throw Error("Invalid cloud provider")}}e.s(["getAvailableRegions",()=>y,"instanceLabel",0,e=>m.instanceSizeSpecs[e]?.label||"Micro","monthlyInstancePrice",0,e=>m.instanceSizeSpecs[e]?.priceMonthly||10,"smartRegionToExactRegion",()=>g],715801);let x=({postgres_engine:e,release_channel:t})=>`${e}|${t}`;e.s(["PostgresVersionSelector",0,({cloudProvider:e,dbRegion:m,organizationSlug:f,field:y,form:b,type:v="create",layout:S="horizontal",label:_="Postgres version"})=>{let{data:j}=(0,s.useSelectedProjectQuery)(),R=g(m),{data:C,isPending:P,isSuccess:w}=(0,r.useProjectCreationPostgresVersionsQuery)({cloudProvider:e,dbRegion:R,organizationSlug:f},{enabled:"create"===v}),{data:E,isPending:I}=(0,a.useProjectUnpausePostgresVersionsQuery)({projectRef:j?.ref},{enabled:"unpause"===v}),O=("create"===v?C?.available_versions??[]:E?.available_versions??[]).sort((e,t)=>e.version.localeCompare(t.version)).reverse(),{postgresVersionSelection:D}=b.watch();return(0,i.useEffect)(()=>{if(O.length>0){let e=O.find(e=>"ga"===e.release_channel),t=e?x(e):x(O[0]);b.setValue("postgresVersionSelection",t)}},[w,O,b]),(0,t.jsx)(h.FormItemLayout,{label:_,layout:S,children:(0,t.jsxs)(p.Select_Shadcn_,{value:D,onValueChange:y.onChange,disabled:0===O.length||"create"===v&&P||"unpause"===v&&I,children:[(0,t.jsx)(d.SelectTrigger_Shadcn_,{className:"[&>:nth-child(1)]:w-full [&>:nth-child(1)]:flex [&>:nth-child(1)]:items-start",children:(0,t.jsx)(u.SelectValue_Shadcn_,{placeholder:"Select a Postgres version for your project"})}),(0,t.jsx)(n.SelectContent_Shadcn_,{children:(0,t.jsx)(l.SelectGroup_Shadcn_,{children:O.map(e=>{let i=e.version.split("supabase-postgres-")[1].replace("-orioledb","");return(0,t.jsx)(c.SelectItem_Shadcn_,{value:x(e),className:"w-full [&>:nth-child(2)]:w-full",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between w-full",children:[(0,t.jsx)("span",{className:"text-foreground",children:i}),(0,t.jsxs)("div",{className:"flex flex-row gap-x-2",children:["ga"!==e.release_channel&&(0,t.jsx)(o.Badge,{variant:"warning",children:e.release_channel}),e.postgres_engine.includes("oriole")&&(0,t.jsx)(o.Badge,{variant:"default",children:"OrioleDB"})]})]})},x(e))})})})]})})},"extractPostgresVersionDetails",0,e=>{if(!e)return{postgresEngine:void 0,releaseChannel:void 0};let[t,i]=e.split("|");return{postgresEngine:t,releaseChannel:i}}],372598)},170149,e=>{"use strict";var t=e.i(478902);e.i(128328);var i=e.i(657588),r=e.i(532728),a=e.i(370410),s=e.i(816467),o=e.i(389959),n=e.i(408891),l=e.i(837710),c=e.i(253214),d=e.i(24315),u=e.i(215317),p=e.i(61863),h=e.i(191209),m=e.i(837243),f=e.i(846887),g=e.i(428353),y=e.i(378277),x=e.i(843778),b=e.i(375761),v=e.i(97429),S=e.i(710483);let _=(0,o.forwardRef)(({title:e,size:i="small",onConfirm:_,visible:j,onCancel:R,loading:C,cancelLabel:P="Cancel",confirmLabel:w="Submit",confirmPlaceholder:E,confirmString:I,alert:O,input:D,label:N,description:M,formMessage:k,text:z,children:T,blockDeleteButton:A=!0,variant:V="default",errorMessage:$="Value entered does not match",enableCopy:L=!1,...B},F)=>{let[W,q]=(0,o.useState)(!1),U=v.z.object({confirmValue:v.z.preprocess(e=>"string"==typeof e?e.trim():e,v.z.literal(I.trim(),{errorMap:()=>({message:$})}))}),Y=(0,n.useForm)({resolver:(0,r.zodResolver)(U),reValidateMode:"onChange",defaultValues:{confirmValue:""}}),K=Y.formState.isValid;return(0,o.useEffect)(()=>{I&&Y.reset()},[I]),(0,o.useEffect)(()=>{if(!W)return;let e=setTimeout(()=>q(!1),2e3);return()=>clearTimeout(e)},[W]),(0,t.jsx)(c.Dialog,{open:j,...B,onOpenChange:()=>{j&&R()},children:(0,t.jsxs)(c.DialogContent,{ref:F,className:"p-0 gap-0 pb-5 !block",size:i,children:[(0,t.jsx)(c.DialogHeader,{className:(0,x.cn)("border-b"),padding:"small",children:(0,t.jsx)(c.DialogTitle,{className:"",children:e})}),O&&(0,t.jsx)(S.Admonition,{type:V,label:O.title,description:O.description,className:"border-x-0 rounded-none -mt-px",...O?.base}),T&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.DialogSection,{padding:"small",children:T}),(0,t.jsx)(c.DialogSectionSeparator,{})]}),void 0!==z&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.DialogSection,{className:"p-5",padding:"small",children:(0,t.jsx)("p",{className:"text-foreground-light text-sm",children:z})}),(0,t.jsx)(c.DialogSectionSeparator,{})]}),(0,t.jsx)(g.Form_Shadcn_,{...Y,children:(0,t.jsxs)("form",{autoComplete:"off",onSubmit:Y.handleSubmit(function(e){_()}),className:"px-5 flex flex-col gap-y-3 pt-3",children:[(0,t.jsx)(p.FormField_Shadcn_,{control:Y.control,name:"confirmValue",render:({field:e})=>(0,t.jsxs)(h.FormItem_Shadcn_,{className:"flex flex-col gap-y-2",children:[(0,t.jsxs)(m.FormLabel_Shadcn_,{...N,enableSelection:!L,children:["Type"," ",L?(0,t.jsx)(l.Button,{type:"default",className:"h-[23px] px-1.5 py-0 border-muted text-sm whitespace-pre break-all",iconRight:W?(0,t.jsx)(a.Check,{strokeWidth:2,className:"text-brand"}):(0,t.jsx)(s.Copy,{}),onClick:()=>{q(!0),(0,b.copyToClipboard)(I)},children:I}):(0,t.jsx)("span",{className:"text-foreground break-all whitespace-pre",children:I})," ","to confirm."]}),(0,t.jsx)(d.FormControl_Shadcn_,{children:(0,t.jsx)(y.Input_Shadcn_,{autoComplete:"off",placeholder:E,...D,...e})}),!!M&&(0,t.jsx)(u.FormDescription_Shadcn_,{...M}),(0,t.jsx)(f.FormMessage_Shadcn_,{...k})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[!A&&(0,t.jsx)(l.Button,{size:"medium",block:!0,type:"default",disabled:C,onClick:R,children:P}),(0,t.jsx)(l.Button,{block:!0,size:"medium",type:"destructive"===V?"danger":"warning"===V?"warning":"primary",htmlType:"submit",loading:C,disabled:!K||C,className:"truncate",children:w})]})]})})]})})});_.displayName="TextConfirmModal",e.s(["TextConfirmModal",0,e=>{let r=(0,i.useFlag)("textConfirmationModalClickToCopy");return(0,t.jsx)(_,{...e,enableCopy:r})}],170149)},240788,e=>{"use strict";var t=e.i(242882),i=e.i(234745),r=e.i(10429),a=e.i(68205);async function s({projectRef:e},t){if(!e)throw Error("projectRef is required");let{data:r,error:a}=await (0,i.get)("/v1/projects/{ref}/functions",{params:{path:{ref:e}},signal:t});return a&&(0,i.handleError)(a),r}e.s(["useEdgeFunctionsQuery",0,({projectRef:e},{enabled:i=!0,...o}={})=>(0,t.useQuery)({queryKey:a.edgeFunctionsKeys.list(e),queryFn:({signal:t})=>s({projectRef:e},t),enabled:r.IS_PLATFORM&&i&&void 0!==e,...o})])},471998,e=>{"use strict";let t=(0,e.i(388019).default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);e.s(["MoreVertical",()=>t],471998)},488194,(e,t,i)=>{e.e,t.exports=function(e,t,i){e=e||{};var r=t.prototype,a={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(e,t,i,a){return r.fromToBase(e,t,i,a)}i.en.relativeTime=a,r.fromToBase=function(t,r,s,o,n){for(var l,c,d,u=s.$locale().relativeTime||a,p=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],h=p.length,m=0;m<h;m+=1){var f=p[m];f.d&&(l=o?i(t).diff(s,f.d,!0):s.diff(t,f.d,!0));var g=(e.rounding||Math.round)(Math.abs(l));if(d=l>0,g<=f.r||!f.r){g<=1&&m>0&&(f=p[m-1]);var y=u[f.l];n&&(g=n(""+g)),c="string"==typeof y?y.replace("%d",g):y(g,r,f.l,d);break}}if(r)return c;var x=d?u.future:u.past;return"function"==typeof x?x(c):x.replace("%s",c)},r.to=function(e,t){return s(e,t,this,!0)},r.from=function(e,t){return s(e,t,this)};var o=function(e){return e.$u?i.utc():i()};r.toNow=function(e){return this.to(o(this),e)},r.fromNow=function(e){return this.from(o(this),e)}}},421781,(e,t,i)=>{e.e,t.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(r,a,s){var o=a.prototype;s.utc=function(e){var t={date:e,utc:!0,args:arguments};return new a(t)},o.utc=function(t){var i=s(this.toDate(),{locale:this.$L,utc:!0});return t?i.add(this.utcOffset(),e):i},o.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var n=o.parse;o.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),n.call(this,e)};var l=o.init;o.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var c=o.utcOffset;o.utcOffset=function(r,a){var s=this.$utils().u;if(s(r))return this.$u?0:s(this.$offset)?c.call(this):this.$offset;if("string"==typeof r&&null===(r=function(e){void 0===e&&(e="");var r=e.match(t);if(!r)return null;var a=(""+r[0]).match(i)||["-",0,0],s=a[0],o=60*a[1]+ +a[2];return 0===o?0:"+"===s?o:-o}(r)))return this;var o=16>=Math.abs(r)?60*r:r,n=this;if(a)return n.$offset=o,n.$u=0===r,n;if(0!==r){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(n=this.local().add(o+l,e)).$offset=o,n.$x.$localOffset=l}else n=this.utc();return n};var d=o.format;o.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,t)},o.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},o.isUTC=function(){return!!this.$u},o.toISOString=function(){return this.toDate().toISOString()},o.toString=function(){return this.toDate().toUTCString()};var u=o.toDate;o.toDate=function(e){return"s"===e&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var p=o.diff;o.diff=function(e,t,i){if(e&&this.$u===e.$u)return p.call(this,e,t,i);var r=this.local(),a=s(e).local();return p.call(r,a,t,i)}}}()},955909,e=>{"use strict";var t=e.i(478902),i=e.i(389959),r=e.i(843778),a=e.i(375761),s=e.i(613580),o=e.i(55956),n=e.i(488194),l=e.i(421781);o.default.extend(n.default),o.default.extend(l.default);let c=e=>o.default.unix(Number(e)/1e3/1e3).toISOString(),d=e=>{let t=16===String(e).length;return!Number.isNaN(Number(e))&&t},u=({utcTimestamp:e,format:t})=>{let i=d(e)?c(e):e;return o.default.utc(i).local().format(t)},p=({utcTimestamp:e,format:t})=>{let i=d(e)?c(e):e;return o.default.utc(i).format(t)};e.s(["TimestampInfo",0,({utcTimestamp:e,className:n,displayAs:l="local",format:h="DD MMM YY HH:mm:ss",labelFormat:m="DD MMM YY HH:mm:ss",label:f})=>{let g=u({utcTimestamp:e,format:h}),y=p({utcTimestamp:e,format:h}),x=(({utcTimestamp:e})=>{let t=d(e)?c(e):e;return o.default.utc(t).fromNow()})({utcTimestamp:e}),[b,v]=(0,i.useState)("start"),S=(0,i.useRef)(null),_=Intl.DateTimeFormat().resolvedOptions().timeZone;(0,i.useEffect)(()=>{let e=()=>{if(S.current){let e=S.current.getBoundingClientRect(),t=window.innerHeight;v(e.top<t/2?"start":"end")}};return e(),window.addEventListener("scroll",e),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}},[]);let j=({label:e,value:s})=>{let[o,n]=(0,i.useState)(!1);return(0,t.jsxs)("div",{onPointerDown:e=>{e.stopPropagation()},onMouseDown:e=>{e.stopPropagation()},onClick:e=>{e.stopPropagation(),e.preventDefault(),(0,a.copyToClipboard)(s,()=>{n(!0),setTimeout(()=>{n(!1)},1e3)})},className:(0,r.cn)("relative cursor-pointer flex gap-y-2 gap-x-0.5 hover:bg-surface-100 px-2 py-1 group",{"bg-surface-100":o}),children:[(0,t.jsxs)("div",{className:"flex items-center gap-x-2 text-left truncate",children:[(0,t.jsx)("p",{children:e}),(0,t.jsx)("div",{className:"border-t w-full border-dashed"})]}),(0,t.jsxs)("div",{className:"relative flex items-center gap-x-2 flex-grow",children:[(0,t.jsx)("div",{className:"border-t w-full border-dashed z-10"}),o&&(0,t.jsx)("span",{className:"flex items-center justify-end w-full absolute inset-0 flex items-right text-brand-600 bg-surface-100",children:"Copied!"}),(0,t.jsx)("span",{className:"flex items-center gap-x-2 justify-end whitespace-nowrap",children:s})]})]})};return(0,t.jsxs)(s.Tooltip,{children:[(0,t.jsx)(s.TooltipTrigger,{asChild:!0,ref:S,className:`text-xs ${n} border-b border-transparent hover:border-dashed hover:border-foreground-light`,children:(0,t.jsx)("span",{children:f||("local"===l?u({utcTimestamp:e,format:m}):p({utcTimestamp:e,format:m}))})}),(0,t.jsxs)(s.TooltipContent,{align:b,side:"right",className:"font-mono p-0 py-1 min-w-80",children:[(0,t.jsx)(j,{label:"UTC",value:y}),(0,t.jsx)(j,{label:_,value:g}),(0,t.jsx)(j,{label:"Relative",value:x}),(0,t.jsx)(j,{label:"Timestamp",value:String(e)})]})]})},"timestampLocalFormatter",0,u])},753515,e=>{"use strict";var t=e.i(478902),i=e.i(305551),r=e.i(843778);function a({align:e="left",children:a,className:s,descriptionText:o,error:n,id:l,label:c,labelOptional:d,layout:u="vertical",style:p,labelLayout:h,responsive:m=!0,size:f="medium",beforeLabel:g,afterLabel:y,nonBoxInput:x=!c}){let b=i.default.form_layout,v="flex"===u,S=[];S.push(b.size[f]);let _=[],j=[];"horizontal"===u||h||v?"horizontal"===h?_.push(b.labels_horizontal_layout):_.push(b.labels_vertical_layout):_.push(b.labels_horizontal_layout),"horizontal"!==u?j.push(b.data_input_horizontal_layout):(j.push(b.data_input_vertical_layout),"right"===e&&j.push(b.data_input_vertical_layout__align_right)),v?(S.push(b.flex[e].base),"left"===e&&(_.push(b.flex.left.labels),j.push(b.flex.left.data_input)),"right"===e&&(_.push(b.flex.right.labels),j.push(b.flex.right.data_input))):S.push(b.container,m?b.responsive:b.non_responsive),s&&S.push(s);let R=!!(c||g||y),C=n&&(0,t.jsx)("p",{"data-state":n?"show":"hide",className:[b.error.base,b.error.size[f]].join(" "),children:n}),P=o&&(0,t.jsx)("div",{className:[b.description.base,b.description.size[f]].join(" "),id:l+"-description",children:o});return(0,t.jsxs)("div",{className:S.join(" "),children:[v&&(0,t.jsx)("div",{className:b.flex[e].content,children:a}),R||d||"horizontal"===u?(0,t.jsxs)("div",{className:_.join(" "),children:[R&&(0,t.jsxs)("label",{className:(0,r.cn)(b.label.base,b.label.size[f],"break-all"),htmlFor:l,children:[g&&(0,t.jsx)("span",{className:[b.label_before.base,b.label_before.size[f]].join(" "),id:l+"-before",children:g}),c,y&&(0,t.jsx)("span",{className:[b.label_after.base,b.label_after.size[f]].join(" "),id:l+"-after",children:y})]}),d&&(0,t.jsx)("span",{className:[b.label_optional.base,b.label_optional.size[f]].join(" "),id:l+"-optional",children:d}),v&&(0,t.jsxs)(t.Fragment,{children:[P,C]})]}):null,!v&&(0,t.jsx)("div",{className:j.join(" "),style:p,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:x&&c&&"vertical"===u?b.non_box_data_input_spacing_vertical:x&&c&&"horizontal"===u?b.non_box_data_input_spacing_horizontal:"",children:a}),C,P]})})]})}e.s(["FormLayout",()=>a])},140449,e=>{"use strict";var t=e.i(478902),i=e.i(389959);let r=(0,i.createContext)({formContextOnChange:null,values:null,errors:null,handleBlur:null,touched:null,fieldLevelValidation:null});e.s(["FormContextProvider",0,e=>{let{formContextOnChange:i,values:a,errors:s,handleBlur:o,touched:n,fieldLevelValidation:l}=e;return(0,t.jsx)(r.Provider,{value:{formContextOnChange:i,values:a,errors:s,handleBlur:o,touched:n,fieldLevelValidation:l},children:e.children})},"useFormContext",0,()=>{let e=(0,i.useContext)(r);if(void 0===e)throw Error("useFormContextOnChange must be used within a FormContextProvider.");return e}])},440401,701823,e=>{"use strict";var t=e.i(478902),i=e.i(938933),r=e.i(867637);let a={tiny:14,small:16,medium:20,large:24,xlarge:32};function s({style:e,size:s="medium"}){let o=(0,i.default)("inputErrorIcon");return(0,t.jsx)("div",{className:o.base,style:e,children:(0,t.jsx)(r.AlertCircle,{size:a[s],strokeWidth:2})})}e.s(["default",()=>s],440401);var o=e.i(843778);function n({icon:e,className:r,size:a}){let s=(0,i.default)("inputIconContainer");return(0,t.jsx)("div",{className:(0,o.cn)(s.base,s.size[a],r),children:e})}e.s(["default",()=>n],701823)},440523,e=>{"use strict";var t=e.i(478902),i=e.i(389959),r=e.i(816467),a=e.i(753515),s=e.i(440401),o=e.i(701823),n=e.i(282410),l=e.i(938933),c=e.i(375761),d=e.i(843778),u=e.i(837710),p=e.i(140449);function h({autoComplete:e,autoFocus:h,className:m,inputClassName:f,iconContainerClassName:g,copy:y,defaultValue:x,descriptionText:b,disabled:v,error:S,icon:_,id:j="",name:R="",inputRef:C,label:P,afterLabel:w,beforeLabel:E,labelOptional:I,layout:O,onChange:D,onBlur:N,onCopy:M,placeholder:k,type:z="text",value:T,style:A,reveal:V=!1,actions:$,size:L="medium",borderless:B=!1,validation:F,...W}){let[q,U]=(0,i.useState)("Copy"),[Y,K]=(0,i.useState)(!0),H=(0,l.default)("input"),{formContextOnChange:G,values:Q,errors:X,handleBlur:Z,touched:J,fieldLevelValidation:ee}=(0,p.useFormContext)();Q&&!T&&(T=Q[j||R]),S||(X&&!S&&(S=X[j||R]),S=J&&J[j]?S:void 0),(0,i.useEffect)(()=>{F&&ee(j,F(T))},[]);let et=["peer/input",H.base];return S&&et.push(H.variants.error),S||et.push(H.variants.standard),L&&et.push(H.size[L]),_&&et.push(H.with_icon[L]),v&&et.push(H.disabled),f&&et.push(f),(0,t.jsx)(a.FormLayout,{label:P,afterLabel:w,beforeLabel:E,labelOptional:I,layout:O,id:j,error:S,descriptionText:b,style:A,size:L,className:m,children:(0,t.jsxs)("div",{className:H.container,children:[(0,t.jsx)("input",{"data-size":L,autoComplete:e,autoFocus:h,defaultValue:x,disabled:v,id:j,name:R,onChange:function(e){D&&D(e),G&&G(e),F&&ee(j,F(e.target.value))},onBlur:function(e){Z&&setTimeout(()=>{Z(e)},100),N&&N(e)},onCopy:M,placeholder:k,ref:C,type:z,value:V&&Y?n.HIDDEN_PLACEHOLDER:T,className:(0,d.cn)(et),...W}),_&&(0,t.jsx)(o.default,{size:L,icon:_,className:g}),y||S||$?(0,t.jsxs)("div",{className:H.actions_container,children:[S&&(0,t.jsx)(s.default,{size:L}),y&&!(V&&Y)?(0,t.jsx)(u.Button,{size:"tiny",type:"default",icon:(0,t.jsx)(r.Copy,{}),onClick:()=>{var e;return e=T,void(0,c.copyToClipboard)(e,()=>{U("Copied"),setTimeout(()=>{U("Copy")},3e3),M?.()})},children:q}):null,V&&Y?(0,t.jsx)(u.Button,{size:"tiny",type:"default",onClick:function(){K(!1)},children:"Reveal"}):null,$&&$]}):null]})})}h.TextArea=function({className:e,textAreaClassName:o,descriptionText:n,disabled:d,error:h,icon:m,id:f="",name:g="",label:y,afterLabel:x,beforeLabel:b,labelOptional:v,layout:S,onChange:_,onBlur:j,placeholder:R,value:C,style:P,rows:w=4,limit:E,size:I="medium",borderless:O=!1,validation:D,copy:N=!1,onCopy:M,actions:k,...z}){let[T,A]=(0,i.useState)(0),[V,$]=(0,i.useState)("Copy"),{formContextOnChange:L,values:B,errors:F,handleBlur:W,touched:q,fieldLevelValidation:U}=(0,p.useFormContext)();B&&!C&&(C=B[f||g]),h||(F&&!h&&(h=F[f||g]),h=q&&q[f||g]?h:void 0),(0,i.useEffect)(()=>{D&&U(f,D(C))},[]);let Y=(0,l.default)("input"),K=[Y.base];return h&&K.push(Y.variants.error),h||K.push(Y.variants.standard),m&&K.push(Y.with_icon[I]),I&&K.push(Y.size[I]),d&&K.push(Y.disabled),o&&K.push(o),(0,t.jsx)(a.FormLayout,{className:e,label:y,afterLabel:x,beforeLabel:b,labelOptional:v,layout:S,id:f,error:h,descriptionText:n,style:P,size:I,children:(0,t.jsxs)("div",{className:Y.container,children:[(0,t.jsx)("textarea",{disabled:d,id:f,name:g,rows:w,cols:100,placeholder:R,onChange:function(e){A(e.target.value.length),_&&_(e),L&&L(e),D&&U(f,D(e.target.value))},onBlur:function(e){W&&setTimeout(()=>{W(e)},100),j&&j(e)},onCopy:M,value:C,className:K.join(" "),maxLength:E,...z}),N||h||k?(0,t.jsx)("div",{className:Y.textarea_actions_container,children:(0,t.jsxs)("div",{className:Y.textarea_actions_container_items,children:[h&&(0,t.jsx)(s.default,{size:I}),N&&(0,t.jsx)(u.Button,{size:"tiny",type:"default",onClick:()=>{var e;return e=C,void(0,c.copyToClipboard)(e,()=>{$("Copied"),setTimeout(()=>{$("Copy")},3e3),M?.()})},icon:(0,t.jsx)(r.Copy,{}),children:V}),k&&k]})}):null]})})},e.s(["default",0,h])},171997,e=>{"use strict";var t=e.i(440523);e.s(["Input",()=>t.default])},236134,e=>{"use strict";var t=e.i(478902),i=e.i(217027),r=e.i(837710),a=e.i(613580),s=e.i(938933);let o=({id:e,disabled:o,className:n,children:l,header:c,visible:d,open:u,size:p="medium",loading:h,align:m="right",hideFooter:f=!1,customFooter:g,onConfirm:y,onCancel:x,confirmText:b="Confirm",cancelText:v="Cancel",triggerElement:S,defaultOpen:_,tooltip:j,...R})=>{let C=(0,s.default)("sidepanel"),P=g||(0,t.jsxs)("div",{className:C.footer,children:[(0,t.jsx)("div",{children:(0,t.jsx)(r.Button,{disabled:h,type:"default",onClick:()=>x?x():null,children:v})}),!!y&&(0,t.jsxs)(a.Tooltip,{children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("span",{className:"inline-block",children:(0,t.jsx)(r.Button,{htmlType:"submit",disabled:o||h,loading:h,onClick:y,children:b})})}),void 0!==j&&(0,t.jsx)(a.TooltipContent,{side:"bottom",children:j})]})]});u=u||d;let{onOpenAutoFocus:w,onCloseAutoFocus:E,onEscapeKeyDown:I,onPointerDownOutside:O,onInteractOutside:D}=R;return(0,t.jsxs)(i.Root,{open:u,onOpenChange:function(e){void 0!==d&&!e&&x&&x()},defaultOpen:_,children:[S&&(0,t.jsx)(i.Trigger,{asChild:!0,children:S}),(0,t.jsxs)(i.Portal,{children:[(0,t.jsx)(i.Overlay,{className:C.overlay}),(0,t.jsxs)(i.Content,{className:[C.base,C.size[p],C.align[m],n&&n].join(" "),onOpenAutoFocus:w,onCloseAutoFocus:E,onEscapeKeyDown:I,onPointerDownOutside:O,onInteractOutside:e=>{e.target?.closest("#toast")&&e.preventDefault(),D&&D(e)},...R,children:[c&&(0,t.jsx)("header",{className:C.header,children:c}),(0,t.jsx)("div",{className:C.contents,children:l}),!f&&P]})]})]})};o.Content=function({children:e,className:i}){let r=(0,s.default)("sidepanel");return(0,t.jsx)("div",{className:[r.content,i].join(" ").trim(),children:e})},o.Separator=function(){let e=(0,s.default)("sidepanel");return(0,t.jsx)("div",{className:e.separator})},e.s(["default",0,o])},539013,e=>{"use strict";var t=e.i(236134);e.s(["SidePanel",()=>t.default])},707843,e=>{"use strict";var t=e.i(478902);function i({body:e,head:i,className:r,containerClassName:a,borderless:s,headTrClasses:o,bodyClassName:n,style:l}){let c=["table-container"];a&&c.push(a),s&&c.push("table-container--borderless");let d=["table"];return r&&d.push(r),(0,t.jsx)("div",{className:c.join(" "),children:(0,t.jsxs)("table",{className:d.join(" "),style:l,children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{className:o,children:i})}),(0,t.jsx)("tbody",{className:n,children:e})]})})}i.th=({children:e,className:i,style:r})=>{let a=["p-3 px-4 text-left"];return i&&a.push(i),(0,t.jsx)("th",{className:a.join(" "),style:r,children:e})},i.td=({children:e,colSpan:i,className:r,style:a,...s})=>(0,t.jsx)("td",{className:r,colSpan:i,style:a,...s,children:e}),i.tr=({children:e,className:i,onClick:r,style:a,hoverable:s})=>{let o=[i];return(r||s)&&o.push("tr--link"),(0,t.jsx)("tr",{className:o.join(" "),onClick:r,style:a,children:e})},e.s(["default",0,i])},280590,e=>{"use strict";var t=e.i(242882),i=e.i(234745),r=e.i(711950);async function a({slug:e},t){if(!e)throw Error("slug is required");let{data:r,error:a}=await (0,i.get)("/platform/organizations/{slug}/entitlements",{params:{path:{slug:e}},signal:t});return a&&(0,i.handleError)(a),r}var s=e.i(10429),o=e.i(389959),n=e.i(265735);function l(e,i,l){let c=!i&&l?.enabled!==!1,{data:d,isPending:u,isSuccess:p}=(0,n.useSelectedOrganizationQuery)({enabled:c}),h=i||d?.slug,m=!!s.IS_PLATFORM&&l?.enabled!==!1&&!!h,{data:f,isPending:g,isSuccess:y}=(({slug:e},{enabled:i=!0,...s}={})=>(0,t.useQuery)({queryKey:[r.organizationKeys.entitlements(e)],queryFn:({signal:t})=>a({slug:e},t),enabled:i&&void 0!==e,...s,staleTime:18e5}))({slug:h},{enabled:m}),{entitlement:x}=(0,o.useMemo)(()=>h?{entitlement:f?.entitlements.find(t=>t.feature.key===e)??null}:{entitlement:null},[f,e,h]),b=c&&u||g,v=c?p&&y:y;return{hasAccess:!s.IS_PLATFORM||(x?.hasAccess??!1),isLoading:!!s.IS_PLATFORM&&b,isSuccess:!s.IS_PLATFORM||v,getEntitlementNumericValue:()=>{let e;return(e=x?.config)&&x.type&&"numeric"===x.type?e.value:void 0},isEntitlementUnlimited:()=>{let e;return!!((e=x?.config)&&x.type&&"numeric"===x.type)&&e.unlimited},getEntitlementSetValues:()=>{let e;return(e=x?.config)&&x.type&&"set"===x.type?e.set:[]}}}e.s(["useCheckEntitlements",()=>l],280590)},417403,e=>{"use strict";var t=e.i(907019);e.s(["default",0,t])},617976,e=>{"use strict";e.s(["organizationKeys",0,{rolesV2:e=>["organization-members",e,"roles-v2"],invitations:e=>["organization-members",e,"invitations"],invitation:(e,t)=>["organization-members",e,"invitations",t],token:(e,t)=>["organization-members",e,"token",t]}])},793595,e=>{"use strict";var t=e.i(242882),i=e.i(234745),r=e.i(711950);async function a({slug:e},t){if(!e)throw Error("slug is required");let[r,a]=await Promise.all([(0,i.get)("/platform/organizations/{slug}/members",{params:{path:{slug:e}},signal:t}),(0,i.get)("/platform/organizations/{slug}/members/invitations",{params:{path:{slug:e}},signal:t})]),{data:s,error:o}=r,{data:n,error:l}=a;return o&&(0,i.handleError)(o),l&&(0,i.handleError)(l),[...s,...n.invitations.map(e=>({...{invited_at:e.invited_at,invited_id:e.id,mfa_enabled:!1,username:e.invited_email.slice(0,1),primary_email:e.invited_email},role_ids:[e.role_id]}))]}e.s(["useOrganizationMembersQuery",0,({slug:e},{enabled:i=!0,...s}={})=>(0,t.useQuery)({queryKey:r.organizationKeys.members(e),queryFn:({signal:t})=>a({slug:e},t),enabled:i&&void 0!==e,...s})])},781894,388531,e=>{"use strict";var t=e.i(478902),i=e.i(532728),r=e.i(389959),a=e.i(408891),s=e.i(355901),o=e.i(417403),n=e.i(242882),l=e.i(234745),c=e.i(617976);let d=["Owner","Administrator","Developer","Read-only"];async function u({slug:e},t){if(!e)throw Error("slug is required");let{data:i,error:r}=await (0,l.get)("/platform/organizations/{slug}/roles",{params:{path:{slug:e}},headers:{Version:2},signal:t});return r&&(0,l.handleError)(r),i}let p=({slug:e},{enabled:t=!0,...i}={})=>(0,n.useQuery)({queryKey:c.organizationKeys.rolesV2(e),queryFn:({signal:t})=>u({slug:e},t),enabled:t&&void 0!==e,select:e=>({...e,org_scoped_roles:e.org_scoped_roles.sort((e,t)=>d.indexOf(e.name)-d.indexOf(t.name))}),...i});e.s(["useOrganizationRolesV2Query",0,p],388531);var h=e.i(793595),m=e.i(38429);async function f({slug:e,plan:t,note:i}){if(!e)throw Error("Slug is required");let{data:r,error:a}=await (0,l.post)("/platform/organizations/{slug}/billing/upgrade-request",{params:{path:{slug:e}},body:{requested_plan:t,note:i}});return a&&(0,l.handleError)(a),r}var g=e.i(265735),y=e.i(635494),x=e.i(967052),b=e.i(587433),v=e.i(837710),S=e.i(253214),_=e.i(428353),j=e.i(24315),R=e.i(61863),C=e.i(398876),P=e.i(613580),w=e.i(538482);let E=o.default.object({note:o.default.string().optional()}),I="request-upgrade-form";e.s(["RequestUpgradeToBillingOwners",0,({block:e=!1,plan:o="Pro",addon:n,featureProposition:l,children:c,className:d})=>{let[u,O]=(0,r.useState)(!1),D=(0,x.useTrack)(),{data:N}=(0,y.useSelectedProjectQuery)(),{data:M}=(0,g.useSelectedOrganizationQuery)(),k=M?.slug,z=M?.plan?.id,T="free"===z,{data:A=[]}=(0,h.useOrganizationMembersQuery)({slug:M?.slug}),{data:V}=p({slug:M?.slug}),$=V?.org_scoped_roles??[],{mutate:L,isPending:B}=(({onSuccess:e,onError:t,...i}={})=>(0,m.useMutation)({mutationFn:e=>f(e),async onSuccess(t,i,r){await e?.(t,i,r)},async onError(e,i,r){void 0===t?s.toast.error(`Failed to send upgrade request: ${e.message}`):t(e,i,r)},...i}))({onSuccess:()=>{D("request_upgrade_submitted",{requestedPlan:o,addon:n,currentPlan:z}),s.toast.success("Successfully sent request to billing owners!"),O(!1)}}),F="pitr"===n?"PITR":"customDomain"===n?"Custom Domain":"",W=N?`for the project "${N?.name}"`:M?`for the organization "${M.name}"`:"",q="spendCap"===n?"disable spend cap":"computeSize"===n?"change the compute size":`enable the ${F} add-on`,U=n?"spendCap"===n?"Request to disable spend cap":"computeSize"===n?"Request to change compute size":`Request to enable the ${F} add-on`:`Request an upgrade for the ${o} Plan`,Y=c||(n?"spendCap"===n?"Request to disable spend cap":"computeSize"===n?"Request to change compute":"Request to enable addon":`Request upgrade to ${o}`),K={note:n?`We'd like to ${T?"upgrade to Pro and ":""}${q} ${W} so that we can ${l}`:`We'd like to upgrade to the ${o} plan ${l?` to ${l} `:""}${W}`},H=(0,a.useForm)({resolver:(0,i.zodResolver)(E),defaultValues:K,values:K}),G=A.filter(e=>{let t=e.role_ids.map(e=>$.find(t=>t.id===e)?.name).filter(Boolean);return!e.invited_id&&(t.includes("Owner")||t.includes("Administrator"))}),Q=async e=>{if(!k)return console.error("Slug is required");L({slug:k,plan:o,note:e.note})};return(0,t.jsxs)(S.Dialog,{open:u,onOpenChange:e=>{e&&D("request_upgrade_modal_opened",{requestedPlan:o,addon:n,currentPlan:z,featureProposition:l}),O(e)},children:[(0,t.jsx)(S.DialogTrigger,{asChild:!0,children:(0,t.jsx)(v.Button,{block:e,type:"primary",className:d,children:Y})}),(0,t.jsx)(S.DialogContent,{children:(0,t.jsx)(_.Form_Shadcn_,{...H,children:(0,t.jsxs)("form",{id:I,onSubmit:H.handleSubmit(Q),children:[(0,t.jsxs)(S.DialogHeader,{children:[(0,t.jsx)(S.DialogTitle,{children:U}),(0,t.jsx)(S.DialogDescription,{children:"Let your organization's billing owners know your interest in this"})]}),(0,t.jsx)(S.DialogSectionSeparator,{}),(0,t.jsxs)(S.DialogSection,{className:"flex flex-col gap-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,t.jsx)("p",{className:"text-sm",children:"Your request will be sent to the following emails, who are billing owners of your organization:"}),(0,t.jsxs)("div",{className:"text-sm flex gap-x-2",children:[(0,t.jsx)("p",{children:G.slice(0,2).map(e=>e.primary_email).join(", ")}),G.length>2&&(0,t.jsxs)(P.Tooltip,{children:[(0,t.jsx)(P.TooltipTrigger,{tabIndex:-1,children:(0,t.jsx)(b.Badge,{children:"+1 others"})}),(0,t.jsx)(P.TooltipContent,{side:"bottom",children:(0,t.jsx)("ul",{className:"",children:G.slice(2).map(e=>(0,t.jsx)("li",{children:e.primary_email},e.gotrue_id))})})]})]})]}),(0,t.jsx)(R.FormField_Shadcn_,{control:H.control,name:"note",render:({field:e})=>(0,t.jsx)(w.FormItemLayout,{name:"note",label:"Add a note to your request (optional)",layout:"vertical",children:(0,t.jsx)(j.FormControl_Shadcn_,{children:(0,t.jsx)(C.TextArea_Shadcn_,{id:"note",...e,rows:3,placeholder:n?"spendCap"===n?"e.g. We need to disabled spend cap on this project to do something":"e.g. We need to enable this add-on to do something with the project":"e.g. We need to upgrade to the Pro plan to use this feature"})})})})]}),(0,t.jsxs)(S.DialogFooter,{children:[(0,t.jsx)(v.Button,{type:"default",disabled:B,onClick:()=>O(!1),children:"Cancel"}),(0,t.jsx)(v.Button,{htmlType:"submit",form:I,loading:B,children:"Submit request"})]})]})})})]})}],781894)},794231,e=>{"use strict";var t=e.i(478902),i=e.i(902858),r=e.i(215261);e.i(128328);var a=e.i(657588),s=e.i(158639),o=e.i(196621),n=e.i(2579),l=e.i(912793),c=e.i(265735),d=e.i(837710),u=e.i(215312),p=e.i(781894);let h="<Specify which plan to upgrade to: Pro | Team | Enterprise>";e.s(["PLAN_REQUEST_EMPTY_PLACEHOLDER",0,h,"UpgradePlanButton",0,({source:e,type:m="primary",plan:f="Pro",addon:g,featureProposition:y,disabled:x,children:b,className:v})=>{let{ref:S}=(0,s.useParams)(),{data:_}=(0,c.useSelectedOrganizationQuery)(),j=_?.plan?.id==="free",R=_?.slug??"_",C=(0,a.useFlag)("disableProjectCreationAndUpdate"),{billingAll:P}=(0,l.useIsFeatureEnabled)(["billing:all"]),{can:w}=(0,n.useAsyncCheckPermissions)(i.PermissionAction.BILLING_WRITE,"stripe.subscriptions"),E=`Enquiry to upgrade ${f?`to ${f} `:""}plan for organization`,I=`Name: ${_?.name}
Slug: ${R}
Requested plan: ${f??h}`,O="spendCap"===g,D=!j&&!!g,N=O?`/org/${R??"_"}/billing?panel=costControl&source=${e}`:D?"computeSize"===g?`/project/${S??"_"}/settings/compute-and-disk`:`/project/${S??"_"}/settings/addons?panel=${g}&source=${e}`:`/org/${R??"_"}/billing?panel=subscriptionPlan&source=${e}`,M=b||(g?"Enable add-on":`Upgrade to ${f}`),k=P?(0,t.jsx)(r.default,{href:N,children:M}):(0,t.jsx)(o.SupportLink,{queryParams:{orgSlug:R,category:"Plan_upgrade",subject:E,message:I},children:M});return w?C?(0,t.jsx)(u.ButtonTooltip,{disabled:!0,type:"primary",className:v,tooltip:{content:{side:"bottom",text:"Plan changes are currently disabled, our engineers are working on a fix"}},children:M}):(0,t.jsx)(d.Button,{asChild:!0,type:m,disabled:x,className:v,children:k}):(0,t.jsx)(p.RequestUpgradeToBillingOwners,{plan:f,addon:g,featureProposition:y,className:v,children:b})}])},235458,e=>{"use strict";var t=e.i(478902),i=e.i(843778),r=e.i(710483),a=e.i(794231);e.s(["UpgradeToPro",0,({icon:e,primaryText:s,secondaryText:o,plan:n="Pro",addon:l,featureProposition:c,buttonText:d,source:u="upgrade",disabled:p=!1,fullWidth:h=!1,layout:m="horizontal",className:f})=>(0,t.jsx)(r.Admonition,{type:"default",icon:e,layout:m,title:s,description:o,className:(0,i.cn)("bg-surface-100 mb-0",h&&"border-0 rounded-none border-b px-6 [&>svg]:left-6 [&>div>button]:w-min [&>div>button]:mt-3 [&>div>a]:w-min [&>div>a]:mt-3",f),actions:(0,t.jsx)(a.UpgradePlanButton,{plan:n,addon:l,source:u,featureProposition:c,disabled:p,children:d})})])}]);

//# debugId=7e2ed330-8dc8-b94a-1efe-5bd499c0c8eb
//# sourceMappingURL=03324f204394d0f1.js.map