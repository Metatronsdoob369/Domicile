;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="a131aa02-b5d2-15b0-5729-77bc7f57f287")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3259,100387,e=>{"use strict";var a=e.i(478902),s=e.i(153545),t=e.i(933505);e.s(["ChevronRightIcon",()=>t.default],100387);var t=t,r=e.i(389959),i=e.i(843778);let n=r.forwardRef(({...e},s)=>(0,a.jsx)("nav",{ref:s,"aria-label":"breadcrumb",...e}));n.displayName="Breadcrumb";let l=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("ol",{ref:t,className:(0,i.cn)("flex flex-wrap items-center gap-0.5 break-words text-sm text-muted-foreground sm:gap-1.5",e),...s}));l.displayName="BreadcrumbList";let c=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("li",{ref:t,className:(0,i.cn)("inline-flex text-foreground-lighter items-center gap-1.5 leading-5",e),...s}));c.displayName="BreadcrumbItem";let o=r.forwardRef(({asChild:e,className:t,...r},n)=>{let l=e?s.Slot:"a";return(0,a.jsx)(l,{ref:n,className:(0,i.cn)("transition-colors underline lg:no-underline hover:text-foreground",t),...r})});o.displayName="BreadcrumbLink";let d=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:(0,i.cn)("no-underline text-foreground",e),...s}));d.displayName="BreadcrumbPage";let u=({children:e,className:s,...r})=>(0,a.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,i.cn)("[&>svg]:size-3.5 text-foreground-muted",s),...r,children:e??(0,a.jsx)(t.default,{})});u.displayName="BreadcrumbSeparator";let m=({className:e,...s})=>(0,a.jsxs)("span",{className:(0,i.cn)("flex h-4 w-4 items-center justify-center",e),...s,children:[(0,a.jsx)("svg",{role:"presentation","aria-hidden":"true",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),(0,a.jsx)("span",{className:"sr-only",children:"More"})]});m.displayName="BreadcrumbEllipsis",e.s(["Breadcrumb",()=>n,"BreadcrumbEllipsis",()=>m,"BreadcrumbItem",()=>c,"BreadcrumbLink",()=>o,"BreadcrumbList",()=>l,"BreadcrumbPage",()=>d,"BreadcrumbSeparator",()=>u],3259)},744061,418638,e=>{"use strict";var a=e.i(478902),s=e.i(938933),t=e.i(843778);function r({children:e,className:s,tag:t="div",style:r}){let i=`${t}`;return(0,a.jsx)(i,{style:r,children:e})}r.Title=function({className:e,level:s=1,children:t,style:r}){let i=`h${s}`;return(0,a.jsx)(i,{style:r,children:t})},r.Text=function({className:e,children:s,style:t,type:r,disabled:i,mark:n,code:l,keyboard:c,underline:o,strikethrough:d,strong:u,small:m}){return l?(0,a.jsx)("code",{style:t,children:s}):n?(0,a.jsx)("mark",{style:t,children:s}):c?(0,a.jsx)("kbd",{style:t,children:s}):u?(0,a.jsx)("strong",{style:t,children:s}):(0,a.jsx)("span",{style:t,children:s})},r.Link=function({children:e,target:s="_blank",href:t,className:r,onClick:i,style:n}){return(0,a.jsx)("a",{onClick:i,href:t,target:s,rel:"noopener noreferrer",style:n,children:e})},e.s(["default",0,r],418638);var i=e.i(389959);let n=(0,i.createContext)({type:"text"}),l=e=>{let{type:s}=e;return(0,a.jsx)(n.Provider,{value:{type:s},children:e.children})},c=()=>{let e=(0,i.useContext)(n);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function o({children:e,className:s,ulClassName:t,style:r,type:i="text"}){return(0,a.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:s,style:r,children:(0,a.jsx)(l,{type:i,children:(0,a.jsx)("ul",{className:t,children:e})})})}o.Item=function({children:e,icon:r,active:i,rounded:n,onClick:l,doNotCloseOverlay:o=!1,showActiveBar:d=!1,style:u}){let m=(0,s.default)("menu"),{type:h}=c(),x=[m.item.base];x.push(m.item.variants[h].base),i?x.push(m.item.variants[h].active):x.push(m.item.variants[h].normal);let f=[m.item.content.base];i?f.push(m.item.content.active):f.push(m.item.content.normal);let p=[m.item.icon.base];return i?p.push(m.item.icon.active):p.push(m.item.icon.normal),(0,a.jsxs)("li",{role:"menuitem",className:(0,t.cn)("outline-none",x),style:u,onClick:l,"aria-current":i?"page":void 0,children:[r&&(0,a.jsx)("div",{className:`${p.join(" ")} min-w-fit`,children:r}),(0,a.jsx)("span",{className:f.join(" "),children:e})]})},o.Group=function({children:e,icon:t,title:r}){let i=(0,s.default)("menu"),{type:n}=c();return(0,a.jsxs)("div",{className:[i.group.base,i.group.variants[n]].join(" "),children:[t&&(0,a.jsx)("span",{className:i.group.icon,children:t}),(0,a.jsx)("span",{className:i.group.content,children:r}),e]})},o.Misc=function({children:e}){return(0,a.jsx)("div",{children:(0,a.jsx)(r.Text,{children:(0,a.jsx)("span",{children:e})})})},e.s(["default",0,o],744061)},862326,e=>{"use strict";var a=e.i(744061);e.s(["Menu",()=>a.default])},388147,799793,e=>{"use strict";var a=e.i(478902),s=e.i(587433),t=e.i(862326),r=e.i(215261),i=e.i(837710);let n=({name:e="",isActive:n,isExternal:l,icon:c,rightIcon:o,url:d="",target:u="_self",onClick:m,textClassName:h="",hoverText:x="",label:f})=>{let p=(0,a.jsx)(t.Menu.Item,{icon:c,rounded:!0,active:n,onClick:m,children:(0,a.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 min-w-0 flex-1",title:x||("string"==typeof e?e:""),children:[(0,a.jsx)("span",{className:"truncate flex-1 min-w-0",children:e}),void 0!==f&&(0,a.jsx)(s.Badge,{variant:"new"===f.toLowerCase()?"success":"warning",className:"flex-shrink-0",children:f})]}),o&&(0,a.jsx)("div",{children:o})]})});return d?l?(0,a.jsx)(i.Button,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:c,children:(0,a.jsx)(r.default,{href:d,target:"_blank",rel:"noreferrer",children:e})}):(0,a.jsx)(r.default,{href:d,className:"block",target:u,children:p}):p};e.s(["default",0,n],799793),e.s(["ProductMenu",0,({page:e,menu:r})=>(0,a.jsx)("div",{className:"flex flex-col space-y-8",children:(0,a.jsx)(t.Menu,{type:"pills",children:r.map((i,l)=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"my-6 space-y-8",children:(0,a.jsxs)("div",{className:"mx-3",children:[(0,a.jsx)(t.Menu.Group,{title:i.title?(0,a.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,a.jsx)("span",{children:i.title}),i.isPreview&&(0,a.jsx)(s.Badge,{variant:"warning",children:"Not production ready"})]}):null}),(0,a.jsx)("div",{children:i.items.map(s=>{let t=s.pages?s.pages.includes(e??""):e===s.key;return(0,a.jsx)(n,{url:s.url,name:s.name,icon:s.icon,rightIcon:s.rightIcon,isActive:t,isExternal:s.isExternal,target:s.isExternal?"_blank":"_self",label:s.label},s.key)})})]})}),l!==r.length-1&&(0,a.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},i.key||i.title))})})],388147)},450972,e=>{"use strict";var a=e.i(248593),s=e.i(242882),t=e.i(234745),r=e.i(635494);e.i(10429);var i=e.i(837508),n=e.i(667286);async function l({projectRef:e,connectionString:s},r,i){if(!e)throw Error("projectRef is required");let n=new Headers(i);s&&n.set("x-connection-encrypted",s);let{data:l,error:c}=await (0,t.get)("/platform/pg-meta/{ref}/extensions",{params:{header:{"x-connection-encrypted":s,"x-pg-application-name":a.DEFAULT_PLATFORM_APPLICATION_NAME},path:{ref:e}},headers:n,signal:r});return c&&(0,t.handleError)(c),l}e.s(["useDatabaseExtensionsQuery",0,({projectRef:e,connectionString:a},{enabled:t=!0,...c}={})=>{let{data:o}=(0,r.useSelectedProjectQuery)(),d=o?.status===i.PROJECT_STATUS.ACTIVE_HEALTHY;return(0,s.useQuery)({queryKey:n.databaseExtensionsKeys.list(e),queryFn:({signal:s})=>l({projectRef:e,connectionString:a},s),enabled:t&&void 0!==e&&d,...c})}])},167892,e=>{"use strict";var a=e.i(478902),s=e.i(389959),t=e.i(843778);let r="mx-auto w-full max-w-[1200px]",i="px-4 @lg:px-6 @xl:px-10",n=(0,s.forwardRef)(({className:e,bottomPadding:s,size:r="default",...n},l)=>(0,a.jsx)("div",{ref:l,...n,className:(0,t.cn)("mx-auto w-full @container",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[r],i,s&&"pb-16",e)})),l=(0,s.forwardRef)(({className:e,...s},r)=>(0,a.jsx)("header",{...s,ref:r,className:(0,t.cn)("w-full","flex-col gap-3 py-6",e)})),c=(0,s.forwardRef)(({className:e,...s},r)=>(0,a.jsx)("h1",{ref:r,...s,className:(0,t.cn)(e)})),o=(0,s.forwardRef)(({className:e,...s},r)=>(0,a.jsx)("p",{ref:r,...s,className:(0,t.cn)("text-sm text-foreground-light",e)})),d=(0,s.forwardRef)(({className:e,isFullWidth:s,topPadding:r,...i},n)=>(0,a.jsx)("div",{ref:n,...i,className:(0,t.cn)("flex flex-col first:pt-12 py-6",s?"w-full":"gap-3 @md:grid-cols-12 @lg:grid",e)})),u=(0,s.forwardRef)(({className:e,...s},r)=>(0,a.jsx)("div",{ref:r,...s,className:(0,t.cn)("w-full h-px bg-border shrink-0",e)})),m=(0,s.forwardRef)(({className:e,...s},r)=>(0,a.jsx)("h3",{ref:r,...s,className:(0,t.cn)("text-foreground text-xl",e)})),h=(0,s.forwardRef)(({className:e,...s},r)=>(0,a.jsx)("p",{ref:r,...s,className:(0,t.cn)("text-sm text-foreground-light",e)})),x=(0,s.forwardRef)(({className:e,children:s,title:r,...i},n)=>(0,a.jsxs)("div",{ref:n,...i,className:(0,t.cn)("col-span-4 xl:col-span-5 prose text-sm",e),children:[r&&(0,a.jsx)("h2",{children:r}),s]})),f=(0,s.forwardRef)(({className:e,...s},r)=>(0,a.jsx)("div",{ref:r,...s,className:(0,t.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",e)})),p=(0,s.forwardRef)(({className:e,...s},r)=>(0,a.jsx)("div",{ref:r,...s,className:(0,t.cn)("flex flex-col gap-3 items-center",e)})),j=(0,s.forwardRef)(({className:e,...s},r)=>(0,a.jsx)("div",{ref:r,...s,className:(0,t.cn)("flex w-full items-center",e)})),g=(0,s.forwardRef)(({className:e,...s},r)=>(0,a.jsx)("div",{ref:r,...s,className:(0,t.cn)("flex flex-row gap-3",e)})),b=(0,s.forwardRef)(({className:e,...s},r)=>(0,a.jsx)("div",{ref:r,...s,className:(0,t.cn)("flex flex-col gap-3","min-w-[420px]",e)})),v=(0,s.forwardRef)(({className:e,...s},n)=>(0,a.jsx)("div",{ref:n,...s,className:(0,t.cn)(r,i,"my-8 flex flex-col gap-8",e)}));l.displayName="ScaffoldHeader",c.displayName="ScaffoldTitle",o.displayName="ScaffoldDescription",n.displayName="ScaffoldContainer",u.displayName="ScaffoldDivider",d.displayName="ScaffoldSection",b.displayName="ScaffoldColumn",x.displayName="ScaffoldSectionDetail",f.displayName="ScaffoldSectionContent",p.displayName="ScaffoldFilterAndContent",j.displayName="ScaffoldActionsContainer",g.displayName="ScaffoldActionsGroup",v.displayName="ScaffoldContainerLegacy",m.displayName="ScaffoldSectionTitle",h.displayName="ScaffoldSectionDescription",e.s(["MAX_WIDTH_CLASSES",0,r,"PADDING_CLASSES",0,i,"ScaffoldActionsContainer",0,j,"ScaffoldActionsGroup",0,g,"ScaffoldColumn",0,b,"ScaffoldContainer",0,n,"ScaffoldContainerLegacy",0,v,"ScaffoldDescription",0,o,"ScaffoldDivider",0,u,"ScaffoldFilterAndContent",0,p,"ScaffoldHeader",0,l,"ScaffoldSection",0,d,"ScaffoldSectionContent",0,f,"ScaffoldSectionDescription",0,h,"ScaffoldSectionDetail",0,x,"ScaffoldSectionTitle",0,m,"ScaffoldTitle",0,c])},547723,e=>{"use strict";var a=e.i(478902),s=e.i(389959),t=e.i(843778);let r=(0,s.forwardRef)((e,s)=>(0,a.jsx)("nav",{ref:s,dir:"ltr",...e,className:(0,t.cn)("border-b",e.className),children:(0,a.jsx)("ul",{role:"menu",className:"flex gap-5",children:e.children})})),i=(0,s.forwardRef)(({children:e,className:s,active:r,...i},n)=>(0,a.jsx)("li",{ref:n,"aria-selected":r?"true":"false","data-state":r?"active":"inactive",className:(0,t.cn)("inline-flex items-center justify-center whitespace-nowrap text-sm ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground text-foreground-lighter hover:text-foreground data-[state=active]:border-foreground border-b-2 border-transparent *:py-1.5",s),...i,children:e}));e.s(["NavMenu",0,r,"NavMenuItem",0,i])},79771,e=>{"use strict";var a=e.i(478902),s=e.i(215261),t=e.i(898452);e.i(128328);var r=e.i(158639),i=e.i(587433),n=e.i(837710),l=e.i(843778),c=e.i(547723),o=e.i(167892),d=e.i(954676),u=e.i(389959),m=e.i(3259);let h=({title:e,subtitle:t,icon:i,breadcrumbs:n=[],primaryActions:c,secondaryActions:h,className:x,isCompact:f=!1})=>{let{ref:p}=(0,r.useParams)(),j=f&&e?[...n,{label:e}]:n;return(0,a.jsxs)("div",{className:(0,l.cn)("space-y-4",x),children:[(j.length>0||f&&(e||c||h))&&(0,a.jsxs)("div",{className:(0,l.cn)("flex items-center gap-4",f?"justify-between":"mb-4"),children:[(0,a.jsx)("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:n.length>0?(0,a.jsx)(m.Breadcrumb,{className:(0,l.cn)("text-foreground-muted",f&&"text-base","min-w-0 flex-1"),children:(0,a.jsxs)(m.BreadcrumbList,{className:(0,l.cn)(f?"text-base":"text-xs","min-w-0"),children:[n.map((e,t)=>(0,a.jsxs)(u.Fragment,{children:[(0,a.jsx)(m.BreadcrumbItem,{children:e.element?e.element:e.href?(0,a.jsx)(m.BreadcrumbLink,{asChild:!0,className:"flex items-center gap-2",children:(0,a.jsxs)(s.default,{href:p?e.href.replace("[ref]",p):e.href,children:[1===n.length&&!f&&(0,a.jsx)(d.ChevronLeft,{size:16,strokeWidth:1.5}),e.label]})}):(0,a.jsxs)(m.BreadcrumbPage,{className:"flex items-center gap-2",children:[1===n.length&&(0,a.jsx)(d.ChevronLeft,{size:16,strokeWidth:1.5}),e.label]})}),t<n.length-1&&(0,a.jsx)(m.BreadcrumbSeparator,{})]},e.label||`breadcrumb-${t}`)),f&&e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.BreadcrumbSeparator,{}),(0,a.jsx)(m.BreadcrumbItem,{className:"min-w-0 flex-1",children:(0,a.jsx)(m.BreadcrumbPage,{className:"min-w-0",children:e})})]})]})}):f?(0,a.jsx)("div",{className:"min-w-0 flex-1",children:e}):null}),f&&(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[h&&(0,a.jsx)("div",{className:"flex items-center gap-2",children:h}),c&&(0,a.jsx)("div",{className:"flex items-center gap-2",children:c})]})]}),!f&&(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[i&&(0,a.jsx)("div",{className:"text-foreground-light",children:i}),(0,a.jsxs)("div",{className:"space-y-1",children:[e&&(0,a.jsx)(o.ScaffoldTitle,{children:e}),t&&(0,a.jsx)(o.ScaffoldDescription,{className:"text-sm text-foreground-light",children:t})]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[h&&(0,a.jsx)("div",{className:"flex items-center gap-2",children:h}),c&&(0,a.jsx)("div",{className:"flex items-center gap-2",children:c})]})]})]})};e.s(["PageLayout",0,({children:e,title:d,subtitle:u,icon:m,breadcrumbs:x=[],primaryActions:f,secondaryActions:p,navigationItems:j=[],className:g,size:b="default",isCompact:v=!1})=>{let{ref:y}=(0,r.useParams)(),S=(0,t.useRouter)();return(0,a.jsxs)("div",{className:(0,l.cn)("w-full min-h-full flex flex-col items-stretch",g),children:[(0,a.jsxs)(o.ScaffoldContainer,{size:b,className:(0,l.cn)("w-full mx-auto","full"===b&&(v?"max-w-none !px-6 border-b pt-4":"max-w-none pt-6 !px-10 border-b"),"full"!==b&&(v?"pt-4":"pt-12"),0===j.length&&"full"===b&&(v?"pb-4":"pb-8")),children:[(d||u||f||p||x.length>0)&&(0,a.jsx)(h,{title:d,subtitle:u,icon:m,breadcrumbs:x,primaryActions:f,secondaryActions:p,isCompact:v}),j.length>0&&(0,a.jsx)(c.NavMenu,{className:(0,l.cn)(v?"mt-2":"mt-4","full"===b&&"border-none"),children:j.map(e=>{let t=void 0!==e.active?e.active:S.asPath.split("?")[0]===e.href;return(0,a.jsx)(c.NavMenuItem,{active:t,children:e.href?(0,a.jsxs)(s.default,{href:e.href.includes("[ref]")&&y?e.href.replace("[ref]",y):e.href,className:(0,l.cn)("inline-flex items-center gap-2",t&&"text-foreground"),onClick:e.onClick,children:[e.icon&&(0,a.jsx)("span",{children:e.icon}),e.label,e.badge&&(0,a.jsx)(i.Badge,{variant:"default",children:e.badge})]}):(0,a.jsxs)(n.Button,{type:"link",onClick:e.onClick,className:(0,l.cn)(t&&"text-foreground font-medium"),children:[e.icon&&(0,a.jsx)("span",{className:"mr-2",children:e.icon}),e.label,e.badge&&(0,a.jsx)(i.Badge,{variant:"default",children:e.badge})]})},e.label)})})]}),e]})}],79771)},330287,e=>{"use strict";var a=e.i(242882),s=e.i(234745),t=e.i(10429),r=e.i(346691);async function i({projectRef:e},a){if(!e)throw Error("Project ref is required");let{data:t,error:r}=await (0,s.get)("/platform/projects/{ref}/load-balancers",{params:{path:{ref:e}},signal:a});return r&&(0,s.handleError)(r),t}e.s(["useLoadBalancersQuery",0,({projectRef:e},{enabled:s=!0,...n}={})=>(0,a.useQuery)({queryKey:r.replicaKeys.loadBalancers(e),queryFn:({signal:a})=>i({projectRef:e},a),enabled:s&&void 0!==e&&t.IS_PLATFORM,...n})])},102703,e=>{"use strict";var a=e.i(478902),s=e.i(17203),t=e.i(180148),r=e.i(699879),i=e.i(215261),n=e.i(389959),l=e.i(837710);let c=(0,n.forwardRef)(({icon:e,title:c,description:o,url:d,urlLabel:u="Read more",defaultVisibility:m=!1,hideCollapse:h=!1,button:x,className:f="",block:p=!1},j)=>{let[g,b]=(0,n.useState)(m);return(0,a.jsx)("div",{ref:j,role:"alert",className:`${p?"block w-full":""}
      block w-full rounded-md border bg-surface-300/25 py-3 ${f}`,children:(0,a.jsxs)("div",{className:"flex flex-col px-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex w-full space-x-3 items-center",children:[e&&(0,a.jsx)("span",{className:"text-foreground-lighter",children:e}),(0,a.jsx)("div",{className:"flex-grow",children:(0,a.jsx)("h5",{className:"text-foreground",children:c})})]}),o&&!h?(0,a.jsx)("div",{className:"cursor-pointer text-foreground-lighter",onClick:()=>b(!g),children:g?(0,a.jsx)(r.Minimize2,{size:14,strokeWidth:1.5}):(0,a.jsx)(t.Maximize2,{size:14,strokeWidth:1.5})}):null]}),(o||d||x)&&(0,a.jsxs)("div",{className:`flex flex-col space-y-3 overflow-hidden transition-all ${g?"mt-3":""}`,style:{maxHeight:500*!!g},children:[(0,a.jsx)("div",{className:"text-foreground-light text-sm",children:o}),d&&(0,a.jsx)("div",{children:(0,a.jsx)(l.Button,{asChild:!0,type:"default",icon:(0,a.jsx)(s.ExternalLink,{}),children:(0,a.jsx)(i.default,{href:d,target:"_blank",rel:"noreferrer",children:u})})}),x&&(0,a.jsx)("div",{children:x})]})]})})});c.displayName="InformationBox",e.s(["default",0,c])},865389,e=>{"use strict";var a=e.i(478902),s=e.i(898452);e.i(128328);var t=e.i(158639),r=e.i(388147),i=e.i(912793),n=e.i(265735),l=e.i(635494),c=e.i(951138),o=e.i(825713),d=e.i(712227);let u=(0,c.withAuth)(({title:e,children:c})=>{let u=(0,s.useRouter)(),{ref:m}=(0,t.useParams)(),{data:h}=(0,l.useSelectedProjectQuery)(),{data:x}=(0,n.useSelectedOrganizationQuery)(),f=u.pathname.includes("billing")?u.pathname.split("/")[5]:u.pathname.split("/")[4],{projectAuthAll:p,authenticationShowProviders:j,projectEdgeFunctionAll:g,projectStorageAll:b,billingInvoices:v,projectSettingsLegacyJwtKeys:y,projectSettingsLogDrains:S,billingAll:_}=(0,i.useIsFeatureEnabled)(["project_auth:all","authentication:show_providers","project_edge_function:all","project_storage:all","billing:invoices","project_settings:legacy_jwt_keys","project_settings:log_drains","billing:all"]),N=(0,d.generateSettingsMenu)(m,h,x,{auth:p,authProviders:j,edgeFunctions:g,storage:b,invoices:v,legacyJwtKeys:y,logDrains:S,billing:_});return(0,a.jsx)(o.ProjectLayout,{isBlocking:!1,title:e||"Settings",product:"Settings",productMenu:(0,a.jsx)(r.ProductMenu,{page:f,menu:N}),children:c})});e.s(["default",0,u])},372378,e=>{"use strict";var a=e.i(478902),s=e.i(389959),t=e.i(843778);let r=(0,s.forwardRef)(({preTab:e,postTab:s,children:r,className:i,...n},l)=>(0,a.jsxs)("div",{ref:l,...n,className:(0,t.cn)("flex -space-x-px",i),children:[e&&(0,a.jsx)("div",{className:"border border-strong bg-surface-300 rounded-l-md px-3 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-foreground-light text-xs font-mono",children:e})}),(0,a.jsx)("div",{className:(0,t.cn)("flex-1",{"[&_input]:rounded-l-none [&_select]:rounded-l-none [&_textarea]:rounded-l-none":!!e,"[&_input]:rounded-r-none [&_select]:rounded-r-none [&_textarea]:rounded-r-none":!!s}),children:r}),s&&(0,a.jsx)("div",{className:"border border-strong bg-surface-300 rounded-r-md px-3 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-foreground-light text-xs font-mono",children:s})})]}));e.s(["PrePostTab",0,r])},331720,e=>{"use strict";var a=e.i(478902),s=e.i(837710);e.s(["FormActions",0,({form:e,hasChanges:t,handleReset:r,helper:i,disabled:n=!1,isSubmitting:l,submitText:c="Save"})=>{let o=l||n||!t&&void 0!==t;return(0,a.jsxs)("div",{className:["flex w-full items-center gap-2",i?"justify-between":"justify-end"].join(" "),children:[i&&(0,a.jsx)("span",{className:"text-sm text-foreground-lighter",children:i}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(s.Button,{disabled:o,type:"default",htmlType:"reset",onClick:()=>r(),children:"Cancel"}),(0,a.jsx)(s.Button,{form:e,type:"primary",htmlType:"submit",disabled:o,loading:l,children:c})]})]})}])},42081,e=>{"use strict";let a="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;e.s(["DEBUG_BUILD",()=>a])},549487,e=>{"use strict";var a=e.i(38429),s=e.i(356003),t=e.i(355901),r=e.i(234745),i=e.i(78162);async function n({projectRef:e,dbSchema:a,maxRows:s,dbExtraSearchPath:t,dbPool:i}){let n={db_schema:a,max_rows:s,db_extra_search_path:t};i&&(n.db_pool=i);let{data:l,error:c}=await (0,r.patch)("/platform/projects/{ref}/config/postgrest",{params:{path:{ref:e}},body:n});return c&&(0,r.handleError)(c),l}e.s(["useProjectPostgrestConfigUpdateMutation",0,({onSuccess:e,onError:r,...l}={})=>{let c=(0,s.useQueryClient)();return(0,a.useMutation)({mutationFn:e=>n(e),async onSuccess(a,s,t){let{projectRef:r}=s;c.invalidateQueries({queryKey:i.configKeys.postgrest(r)}),await e?.(a,s,t)},async onError(e,a,s){void 0===r?t.toast.error(`Failed to update Postgrest config: ${e.message}`):r(e,a,s)},...l})}])},672296,e=>{"use strict";function a(e){return e.split("#")[0]}function s(e,a={}){let{maxDepth:t=3,redaction:r="[REDACTED]",truncationNotice:i="[REDACTED: max depth reached]",sensitiveKeys:n=[]}=a,l=new Set(["password","passwd","pwd","pass","secret","token","id_token","access_token","refresh_token","apikey","api_key","api-key","apiKey","key","privatekey","private_key","client_secret","clientSecret","auth","authorization","ssh_key","sshKey","bearer","session","cookie","csrf","xsrf","ip","ip_address","ipAddress","aws_access_key_id","aws_secret_access_key","gcp_service_account_key",...n].map(e=>e.toLowerCase())),c=[{re:/\b(?:(?:25[0-5]|2[0-4]\d|1?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|1?\d?\d)\b/g,reason:"ip"},{re:/\b(?:[A-Fa-f0-9]{1,4}:){2,7}[A-Fa-f0-9]{1,4}\b/g,reason:"ip6"},{re:/\b(AKI|ASI)A[0-9A-Z]{16}\b/g,reason:"aws_access_key_id"},{re:/\b[0-9A-Za-z/+]{40}\b/g,reason:"aws_secret_access_key_like"},{re:/\bBearer\s+[A-Za-z0-9\-._~+/]+=*\b/g,reason:"bearer"},{re:/\b[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\b/g,reason:"jwt_like"},{re:/\b[A-Za-z0-9_\-]{24,64}\b/g,reason:"long_token"}],o=new WeakMap;function d(e){let a=e;for(let{re:e}of c)a=a.replace(e,r);return a}function u(e){return l.has(String(e).toLowerCase())}return e.map(e=>(function e(a,s){if(null==a||"number"==typeof a||"boolean"==typeof a||"bigint"==typeof a)return a;if("string"==typeof a)return d(a);if("function"==typeof a)return"[Function]";if(a instanceof Date)return a.toISOString();if(a instanceof RegExp)return a.toString();if(ArrayBuffer.isView(a)&&!(a instanceof DataView))return`[TypedArray byteLength=${a.byteLength}]`;if(a instanceof ArrayBuffer)return`[ArrayBuffer byteLength=${a.byteLength}]`;if(s>=t)return i;if("object"==typeof a){if(o.has(a))return"[Circular]";if(Array.isArray(a)){let t=[];o.set(a,t);for(let r=0;r<a.length;r++)t[r]=e(a[r],s+1);return t}if(function(e){if(null===e||"object"!=typeof e)return!1;let a=Object.getPrototypeOf(e);return a===Object.prototype||null===a}(a)){let t={};for(let[i,n]of(o.set(a,t),Object.entries(a)))u(i)?t[i]=r:t[i]=e(n,s+1);return t}if(a instanceof Map){let t=[];for(let[i,n]of(o.set(a,t),a.entries())){let a=u(i)?r:e(i,s+1),l=u(i)?r:e(n,s+1);t.push([a,l])}return t}if(a instanceof Set){let t=[];for(let r of(o.set(a,t),a.values()))t.push(e(r,s+1));return t}if(a instanceof URL)return a.toString();if(a instanceof Error){let e={name:a.name,message:d(a.message),stack:i};return o.set(a,e),e}try{return d(String(a))}catch{return d(Object.prototype.toString.call(a))}}return d(String(a))})(e,0))}e.s(["sanitizeArrayOfObjects",()=>s,"sanitizeUrlHashParams",()=>a])},504254,(e,a,s)=>{var t=e.r(91385),r=e.r(798705),i=Math.max;a.exports=function(e,a,s){var n=null==e?0:e.length;if(!n)return -1;var l=null==s?0:r(s);return l<0&&(l=i(n+l,0)),t(e,a,l)}},826559,e=>{"use strict";var a=e.i(478902),s=e.i(867637),t=e.i(4196),r=e.i(389959);e.i(128328);var i=e.i(158639),n=e.i(167892),l=e.i(282492),c=e.i(71005),o=e.i(330287),d=e.i(150671),u=e.i(635494),m=e.i(10429),h=e.i(837508),x=e.i(189329),f=e.i(178527),p=e.i(592360),j=e.i(587433),g=e.i(627069),b=e.i(746301),v=e.i(95053),y=e.i(108151),S=e.i(532728),_=e.i(902858),N=e.i(504254),w=e.i(250503),C=e.i(215261),P=e.i(408891),k=e.i(355901),A=e.i(97429),I=e.i(513826),D=e.i(331720),R=e.i(462142),T=e.i(549487),E=e.i(450972),B=e.i(801834),L=e.i(2579),F=e.i(206413),M=e.i(837710),z=e.i(774234),q=e.i(925282),Q=e.i(24315),U=e.i(61863),O=e.i(191209),K=e.i(428353),H=e.i(378277),$=e.i(372378),V=e.i(903248),W=e.i(290811),G=e.i(877555),Z=e.i(710483),Y=e.i(538482),J=e.i(884860),X=e.i(370410),ee=e.i(88816),ea=e.i(215312),es=e.i(102703),et=e.i(38429),er=e.i(356003),ei=e.i(78162),en=e.i(246230),el=e.i(234745),ec=e.i(714403);async function eo({projectRef:e,connectionString:a,existingPostgrestConfig:s}){await (0,ec.executeSql)({projectRef:e,connectionString:a,sql:`
create schema if not exists api;
grant usage on schema api to anon, authenticated;
  `.trim()});let{db_extra_search_path:t,db_pool:r,db_schema:i,max_rows:n}=s,{error:l}=await (0,el.patch)("/platform/projects/{ref}/config/postgrest",{params:{path:{ref:e}},body:{db_pool:r,max_rows:n,db_extra_search_path:t,db_schema:`api, ${i}`}});return l&&(0,el.handleError)(l),!0}var ed=e.i(672044),eu=e.i(554855),em=e.i(253214);let eh=({visible:e,onClose:s})=>{let{data:t}=(0,u.useSelectedProjectQuery)(),{data:r}=(0,B.useSchemasQuery)({projectRef:t?.ref,connectionString:t?.connectionString}),{data:i}=(0,R.useProjectPostgrestConfigQuery)({projectRef:t?.ref}),n=(r??[]).find(e=>"api"===e.name),l=i?.db_schema.split(",").map(e=>e.trim())??[],c=l.includes("api"),o=l.includes("public"),{mutate:d,isPending:h}=(({onSuccess:e,onError:a,...s}={})=>{let t=(0,er.useQueryClient)();return(0,et.useMutation)({mutationFn:e=>eo(e),async onSuccess(a,s,r){let{projectRef:i}=s;await Promise.all([t.invalidateQueries({queryKey:en.databaseKeys.schemas(i)}),t.invalidateQueries({queryKey:ei.configKeys.postgrest(i)})]),await e?.(a,s,r)},async onError(e,s,t){void 0===a?k.toast.error(`Failed to create and expose API schema: ${e.message}`):a(e,s,t)},...s})})({onSuccess:()=>{k.toast.success("Successfully created api schema and exposed via Data API")}}),{mutate:x,isPending:j}=(0,T.useProjectPostgrestConfigUpdateMutation)({onSuccess:()=>{k.toast.success("Success removed public schema from exposed schemas")}});return(0,a.jsx)(em.Dialog,{open:e,onOpenChange:s,children:(0,a.jsxs)(em.DialogContent,{size:"large",children:[(0,a.jsxs)(em.DialogHeader,{children:[(0,a.jsx)(em.DialogTitle,{children:"Switch the default API schema"}),(0,a.jsxs)(em.DialogDescription,{children:["Expose a custom schema instead of the ",(0,a.jsx)("code",{className:"text-code-inline",children:"public"})," ","schema"]})]}),(0,a.jsx)(em.DialogSectionSeparator,{}),(0,a.jsxs)(em.DialogSection,{className:"text-sm text-foreground-light",children:[(0,a.jsxs)("p",{children:["By default, the ",(0,a.jsx)("code",{className:"text-code-inline",children:"public"})," schema is used to generate API routes. In some cases, it's better to use a custom schema. This is important if you use tools that generate tables in the"," ",(0,a.jsx)("code",{className:"text-code-inline",children:"public"})," schema to"," ",(0,a.jsx)("span",{className:"text-brand",children:"prevent accidental exposure of data"}),"."]}),(0,a.jsx)(I.DocsButton,{abbrev:!1,className:"w-min mt-4",href:`${m.DOCS_URL}/guides/database/hardening-data-api`})]}),(0,a.jsx)(em.DialogSectionSeparator,{}),(0,a.jsxs)(q.Collapsible_Shadcn_,{children:[(0,a.jsxs)(eu.CollapsibleTrigger_Shadcn_,{className:"py-4 px-5 w-full flex items-center justify-between text-sm",children:[(0,a.jsxs)("p",{children:["1. Create a custom ",(0,a.jsx)("code",{className:"text-code-inline",children:"api"})," schema and expose it"]}),n&&c?(0,a.jsx)(X.Check,{size:16,className:"text-brand"}):(0,a.jsx)(ee.ChevronDown,{size:16,className:"transition data-open-parent:rotate-180 data-closed-parent:rotate-0"})]}),(0,a.jsxs)(z.CollapsibleContent_Shadcn_,{className:"text-sm text-foreground-light flex flex-col gap-y-4",children:[(0,a.jsxs)("p",{className:"mx-5",children:["Click the button below to create a new schema named"," ",(0,a.jsx)("code",{className:"text-code-inline",children:"api"})," and grant the"," ",(0,a.jsx)("code",{className:"text-code-inline",children:"anon"})," and"," ",(0,a.jsx)("code",{className:"text-code-inline",children:"authenticated"})," roles usage privileges on this schema. This schema will thereafter also be exposed to the Data API."]}),(0,a.jsx)("div",{className:"px-5",children:(0,a.jsx)(es.default,{title:"How is the schema created?",description:(0,a.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,a.jsxs)("p",{children:["The following query will be run to create the"," ",(0,a.jsx)("code",{className:"text-code-inline",children:"api"})," schema , as well as to grant the necessary privileges to the respective roles"]}),(0,a.jsx)(ed.CodeBlock,{language:"sql",className:"p-1 language-bash prose dark:prose-dark max-w-[68.3ch]",children:`create schema if not exists api;
grant usage on schema api to anon, authenticated;`})]})})}),(0,a.jsx)(ea.ButtonTooltip,{type:"primary",className:"w-min mx-5",onClick:()=>void 0===t?console.error("Project is required"):void 0===i?console.error("Postgrest config is required"):void d({projectRef:t?.ref,connectionString:t?.connectionString,existingPostgrestConfig:{max_rows:i.max_rows,db_pool:i.db_pool,db_schema:i.db_schema,db_extra_search_path:i?.db_extra_search_path}}),disabled:n&&c,loading:h,tooltip:{content:{side:"right",text:n&&c?"Schema has already been created and exposed":void 0}},children:"Create and expose schema to Data API"}),(0,a.jsxs)("div",{className:"flex flex-col gap-y-4 px-5 pb-4",children:[(0,a.jsxs)("p",{children:["Under these new settings, the ",(0,a.jsx)("code",{className:"text-code-inline",children:"anon"})," and"," ",(0,a.jsx)("code",{className:"text-code-inline",children:"authenticated"})," roles can execute functions defined in the ",(0,a.jsx)("code",{className:"text-code-inline",children:"api"})," schema, but they have no automatic permissions on any tables. On a table-by-table basis, you can grant them permissions by running the following command:"]}),(0,a.jsx)(ed.CodeBlock,{language:"sql",className:"p-1 language-bash prose dark:prose-dark max-w-[68.3ch]",children:`grant select on table api.<your_table> to anon;
grant select, insert, update, delete on table api.<your_table> to authenticated;`})]})]})]}),(0,a.jsx)(em.DialogSectionSeparator,{}),(0,a.jsxs)(q.Collapsible_Shadcn_,{children:[(0,a.jsxs)(eu.CollapsibleTrigger_Shadcn_,{className:"py-4 px-5 w-full flex items-center justify-between text-sm",children:[(0,a.jsxs)("p",{children:["2. Remove the ",(0,a.jsx)("code",{className:"text-code-inline",children:"public"})," schema from the exposed schemas"]}),o?(0,a.jsx)(ee.ChevronDown,{size:16,className:"transition data-open-parent:rotate-180 data-closed-parent:rotate-0"}):(0,a.jsx)(X.Check,{size:16,className:"text-brand"})]}),(0,a.jsx)(z.CollapsibleContent_Shadcn_,{className:"text-sm text-foreground-light",children:(0,a.jsxs)("div",{className:"px-5 pb-4 flex flex-col gap-y-4",children:[(0,a.jsxs)(f.Alert_Shadcn_,{variant:"warning",children:[(0,a.jsx)(G.WarningIcon,{}),(0,a.jsxs)(p.AlertTitle_Shadcn_,{className:"text-foreground",children:["Ensure that your app is no longer using the"," ",(0,a.jsx)("code",{className:"text-code-inline",children:"public"})," schema"]}),(0,a.jsxs)(F.AlertDescription_Shadcn_,{children:["The ",(0,a.jsx)("code",{className:"text-code-inline",children:"public"})," schema will not be accessible via the API once its not exposed. You should be using the"," ",(0,a.jsx)("code",{className:"text-code-inline",children:"api"})," schema instead."]})]}),(0,a.jsxs)("p",{children:["Click the button below to remove the"," ",(0,a.jsx)("code",{className:"text-code-inline",children:"public"})," schema from both Exposed schemas and Extra search path in your API configuration."]}),(0,a.jsx)(ea.ButtonTooltip,{type:"primary",className:"w-min",disabled:!o,loading:j,tooltip:{content:{side:"right",text:o?void 0:"Public schema no longer exposed"}},onClick:()=>{if(void 0===t)return console.error("Project is required");if(void 0===i)return console.error("Postgrest config is required");let e=i.db_extra_search_path.split(",").map(e=>e.trim()).filter(e=>"public"!==e).join(", "),a=i.db_schema.split(",").map(e=>e.trim()).filter(e=>"public"!==e).join(", ");x({projectRef:t.ref,maxRows:i.max_rows,dbPool:i.db_pool,dbSchema:a,dbExtraSearchPath:e})},children:"Remove public schema from exposed schemas"})]})})]})]})})},ex=A.z.object({dbSchema:A.z.array(A.z.string()),dbExtraSearchPath:A.z.array(A.z.string()),maxRows:A.z.number().max(1e6,"Can't be more than 1,000,000"),dbPool:A.z.number().min(0,"Must be more than 0").max(1e3,"Can't be more than 1000").optional().nullable(),enableDataApi:A.z.boolean()}).refine(e=>!e.enableDataApi||0!==e.dbSchema.length,{message:"Must have at least one schema if Data API is enabled",path:["dbSchema"]}),ef=()=>{let{ref:e}=(0,i.useParams)(),{data:s}=(0,u.useSelectedProjectQuery)(),[t,n]=(0,r.useState)(!1),{data:l,isError:c,isPending:o}=(0,R.useProjectPostgrestConfigQuery)({projectRef:e}),{data:d}=(0,E.useDatabaseExtensionsQuery)({projectRef:s?.ref,connectionString:s?.connectionString}),{data:h=[],isPending:x,isSuccess:j}=(0,B.useSchemasQuery)({projectRef:s?.ref,connectionString:s?.connectionString}),{mutate:b,isPending:v}=(0,T.useProjectPostgrestConfigUpdateMutation)({onSuccess:()=>{k.toast.success("Successfully saved settings")}}),A="project-postgres-config",X=["auth","pgbouncer","hooks","extensions","vault","storage","realtime","pgsodium","pgsodium_masks"],{can:ee,isSuccess:ea}=(0,L.useAsyncCheckPermissions)(_.PermissionAction.UPDATE,"custom_config_postgrest"),es=(d??[]).find(e=>"pg_graphql"===e.name)?.installed_version!==null,et=l?.db_schema?l?.db_schema.replace(/ /g,"").split(","):[],er={dbSchema:et,maxRows:l?.max_rows,dbExtraSearchPath:(l?.db_extra_search_path??"").split(",").map(e=>e.trim()).filter(e=>e.length>0&&h.find(a=>a.name===e)),dbPool:l?.db_pool},ei=(0,P.useForm)({resolver:(0,S.zodResolver)(ex),mode:"onChange",defaultValues:er}),en=h.filter(e=>{if(0>(0,N.default)(X,e.name))return e}).map(e=>({id:e.id,value:e.name,name:e.name,disabled:!1}))??[];function el(){let e=!!l?.db_schema;ei.reset({...er,enableDataApi:e})}let ec=async a=>{if(!e)return console.error("Project ref is required");b({projectRef:e,dbSchema:a.dbSchema.join(", "),maxRows:a.maxRows,dbExtraSearchPath:a.dbExtraSearchPath.join(","),dbPool:a.dbPool?a.dbPool:null})};(0,r.useEffect)(()=>{l&&j&&el()},[l,j]);let eo=ei.getValues("enableDataApi");return(0,a.jsxs)(g.Card,{id:"postgrest-config",children:[(0,a.jsxs)(g.CardHeader,{className:"flex-row items-center justify-between",children:["Data API Settings",(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)(I.DocsButton,{href:`${m.DOCS_URL}/guides/database/connecting-to-postgres#data-apis`}),(0,a.jsx)(M.Button,{type:"default",icon:(0,a.jsx)(w.Lock,{}),onClick:()=>n(!0),children:"Harden Data API"})]})]}),(0,a.jsx)(K.Form_Shadcn_,{...ei,children:(0,a.jsx)("form",{id:A,onSubmit:ei.handleSubmit(ec),children:o||x?(0,a.jsx)(g.CardContent,{children:(0,a.jsx)(y.GenericSkeletonLoader,{})}):c?(0,a.jsx)(g.CardContent,{children:(0,a.jsx)(Z.Admonition,{type:"destructive",title:"Failed to retrieve API settings"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.CardContent,{children:(0,a.jsx)(U.FormField_Shadcn_,{control:ei.control,name:"enableDataApi",render:({field:e})=>(0,a.jsxs)(O.FormItem_Shadcn_,{className:"space-y-4",children:[(0,a.jsx)(Y.FormItemLayout,{layout:"flex-row-reverse",label:"Enable Data API",description:"When enabled you will be able to use any Supabase client library and PostgREST endpoints with any schema configured below.",children:(0,a.jsx)(Q.FormControl_Shadcn_,{children:(0,a.jsx)(W.Switch,{size:"large",disabled:!ee,checked:e.value,onCheckedChange:a=>{e.onChange(a),a?(ei.setValue("enableDataApi",!0),ei.setValue("dbSchema",et)):(ei.setValue("enableDataApi",!1),ei.setValue("dbSchema",[]))}})})}),!e.value&&(0,a.jsxs)(f.Alert_Shadcn_,{variant:"warning",children:[(0,a.jsx)(G.WarningIcon,{}),(0,a.jsx)(p.AlertTitle_Shadcn_,{children:"No schemas can be queried"}),(0,a.jsxs)(F.AlertDescription_Shadcn_,{children:[(0,a.jsx)("p",{children:"With this setting disabled, you will not be able to query any schemas via the Data API."}),(0,a.jsxs)("p",{children:["You will see errors from the Postgrest endpoint",(0,a.jsx)("code",{className:"text-code-inline",children:"/rest/v1/"}),"."]})]})]})]})})}),(0,a.jsx)(q.Collapsible_Shadcn_,{open:ei.getValues("enableDataApi"),children:(0,a.jsxs)(z.CollapsibleContent_Shadcn_,{className:"transition-all data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down",children:[(0,a.jsx)(g.CardContent,{children:(0,a.jsx)(U.FormField_Shadcn_,{control:ei.control,name:"dbSchema",render:({field:s})=>(0,a.jsx)(O.FormItem_Shadcn_,{children:(0,a.jsxs)(Y.FormItemLayout,{label:"Exposed schemas",description:"The schemas to expose in your API. Tables, views and stored procedures in these schemas will get API endpoints.",layout:"flex-row-reverse",children:[x?(0,a.jsx)("div",{className:"col-span-12 flex flex-col gap-2 lg:col-span-7",children:(0,a.jsx)(V.Skeleton,{className:"w-full h-[38px]"})}):(0,a.jsxs)(J.MultiSelector,{onValuesChange:s.onChange,values:s.value,size:"small",disabled:!ee||!eo,children:[(0,a.jsx)(J.MultiSelectorTrigger,{mode:"inline-combobox",label:"Select schemas...",badgeLimit:"wrap",showIcon:!1,deletableBadge:!0}),(0,a.jsx)(J.MultiSelectorContent,{children:(0,a.jsx)(J.MultiSelectorList,{children:en.length<=0?(0,a.jsx)(J.MultiSelectorItem,{value:"no",children:"no"},"empty"):en.map(e=>(0,a.jsx)(J.MultiSelectorItem,{value:e.name,children:e.name},e.id+"-"+e.name))})})]}),!s.value.includes("public")&&s.value.length>0&&(0,a.jsx)(Z.Admonition,{type:"default",title:"The public schema for this project is not exposed",className:"mt-2",description:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"prose text-sm",children:["You will not be able to query tables and views in the"," ",(0,a.jsx)("code",{className:"text-code-inline",children:"public"})," schema via supabase-js or HTTP clients."]}),es&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"prose text-sm mt-2",children:["Tables in the"," ",(0,a.jsx)("code",{className:"text-code-inline",children:"public"})," schema are still exposed over our GraphQL endpoints."]}),(0,a.jsx)(M.Button,{asChild:!0,type:"default",className:"mt-2",children:(0,a.jsx)(C.default,{href:`/project/${e}/database/extensions`,children:"Disable the pg_graphql extension"})})]})]})})]})})})}),(0,a.jsx)(g.CardContent,{children:(0,a.jsx)(U.FormField_Shadcn_,{control:ei.control,name:"dbExtraSearchPath",render:({field:e})=>(0,a.jsx)(O.FormItem_Shadcn_,{children:(0,a.jsx)(Y.FormItemLayout,{layout:"flex-row-reverse",label:"Extra search path",description:"Extra schemas to add to the search path of every request.",children:x?(0,a.jsx)("div",{className:"col-span-12 flex flex-col gap-2 lg:col-span-7",children:(0,a.jsx)(V.Skeleton,{className:"w-full h-[38px]"})}):(0,a.jsxs)(J.MultiSelector,{onValuesChange:e.onChange,values:e.value,size:"small",disabled:!ee||!eo,children:[(0,a.jsx)(J.MultiSelectorTrigger,{mode:"inline-combobox",label:"Select schemas...",badgeLimit:"wrap",showIcon:!1,deletableBadge:!0}),(0,a.jsx)(J.MultiSelectorContent,{children:(0,a.jsx)(J.MultiSelectorList,{children:h.length<=0?(0,a.jsx)(J.MultiSelectorItem,{value:"no",children:"no"},"empty"):h.map(e=>(0,a.jsx)(J.MultiSelectorItem,{value:e.name,children:e.name},e.id+"-"+e.name))})})]})})})})}),(0,a.jsx)(g.CardContent,{children:(0,a.jsx)(U.FormField_Shadcn_,{control:ei.control,name:"maxRows",render:({field:e})=>(0,a.jsx)(O.FormItem_Shadcn_,{children:(0,a.jsx)(Y.FormItemLayout,{layout:"flex-row-reverse",label:"Max rows",description:"The maximum number of rows returned from a view, table, or stored procedure. Limits payload size for accidental or malicious requests.",children:(0,a.jsx)(Q.FormControl_Shadcn_,{children:(0,a.jsx)($.PrePostTab,{postTab:"rows",children:(0,a.jsx)(H.Input_Shadcn_,{size:"small",disabled:!ee||!eo,...e,type:"number",onChange:a=>e.onChange(Number(a.target.value))})})})})})})}),(0,a.jsx)(g.CardContent,{children:(0,a.jsx)(U.FormField_Shadcn_,{control:ei.control,name:"dbPool",render:({field:e})=>(0,a.jsx)(O.FormItem_Shadcn_,{children:(0,a.jsx)(Y.FormItemLayout,{layout:"flex-row-reverse",label:"Pool size",description:"Number of maximum connections to keep open in the Data API server's database pool. Unset to let it be configured automatically based on compute size.",children:(0,a.jsx)(Q.FormControl_Shadcn_,{children:(0,a.jsx)($.PrePostTab,{postTab:"connections",children:(0,a.jsx)(H.Input_Shadcn_,{size:"small",disabled:!ee||!eo,...e,type:"number",placeholder:"Configured automatically",onChange:a=>e.onChange(""===a.target.value?null:Number(a.target.value)),value:null===e.value?"":e.value})})})})})})})]})})]})})}),(0,a.jsx)(g.CardFooter,{className:"border-t",children:(0,a.jsx)(D.FormActions,{form:A,isSubmitting:v,hasChanges:ei.formState.isDirty,handleReset:el,disabled:!ee,helper:ea&&!ee?"You need additional permissions to update your project's API settings":void 0})}),(0,a.jsx)(eh,{visible:t,onClose:()=>n(!1)})]})},ep=()=>{let{data:e,isPending:m}=(0,u.useSelectedProjectQuery)(),{ref:S}=(0,i.useParams)(),_=(0,x.useDatabaseSelectorStateSnapshot)(),[N,w]=(0,t.useQueryState)("source",t.parseAsString),{data:C}=(0,c.useCustomDomainsQuery)({projectRef:S}),{data:P,isError:k,isPending:A}=(0,d.useReadReplicasQuery)({projectRef:S}),{data:I}=(0,o.useLoadBalancersQuery)({projectRef:S});(0,r.useEffect)(()=>{N&&N!==_.selectedDatabaseId&&_.setSelectedDatabaseId(N)},[N,_,S]);let D=C?.customDomain?.status==="active",R=P?.find(e=>e.identifier===_.selectedDatabaseId),T="load-balancer"===_.selectedDatabaseId,E=R?.identifier!==S,B=D&&_.selectedDatabaseId===S?`https://${C.customDomain.hostname}`:T?I?.[0].endpoint??"":R?.restUrl;return(0,a.jsx)(n.ScaffoldSection,{isFullWidth:!0,id:"api-settings",className:"gap-6",children:m||e?.status===h.PROJECT_STATUS.ACTIVE_HEALTHY?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(g.Card,{children:[(0,a.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between",children:["Project URL",(0,a.jsx)(l.DatabaseSelector,{additionalOptions:(I??[]).length>0?[{id:"load-balancer",name:"API Load Balancer"}]:[],onSelectId:()=>{w(null)}})]}),(0,a.jsx)(g.CardContent,{children:m||A?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y.ShimmeringLoader,{className:"py-3.5"}),(0,a.jsx)(y.ShimmeringLoader,{className:"py-3.5 w-3/4",delayIndex:1})]}):k?(0,a.jsxs)(f.Alert_Shadcn_,{variant:"destructive",children:[(0,a.jsx)(s.AlertCircle,{size:16}),(0,a.jsx)(p.AlertTitle_Shadcn_,{children:"Failed to retrieve project URL"})]}):(0,a.jsx)(v.FormLayout,{layout:"flex-row-reverse",label:D?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("p",{children:"URL"}),(0,a.jsx)(j.Badge,{children:"Custom domain active"})]}):"URL",description:T?"RESTful endpoint for querying and managing your databases through your load balancer":E?"RESTful endpoint for querying your read replica":"RESTful endpoint for querying and managing your database",className:"[&>div]:xl:w-1/2 [&>div>div]:w-full",children:(0,a.jsx)(b.Input,{copy:!0,readOnly:!0,className:"font-mono",value:B})})})]}),(0,a.jsx)(ef,{})]}):(0,a.jsxs)(f.Alert_Shadcn_,{variant:"destructive",children:[(0,a.jsx)(s.AlertCircle,{size:16}),(0,a.jsx)(p.AlertTitle_Shadcn_,{children:"API settings are unavailable as the project is not active"})]})})};var ej=e.i(448710),eg=e.i(79771),eb=e.i(865389);let ev=()=>(0,a.jsx)(n.ScaffoldContainer,{bottomPadding:!0,children:(0,a.jsx)(ep,{})});ev.getLayout=e=>(0,a.jsx)(ej.default,{children:(0,a.jsx)(eb.default,{title:"API Settings",children:(0,a.jsx)(eg.PageLayout,{title:"API Settings",children:e})})}),e.s(["default",0,ev],826559)},572746,(e,a,s)=>{let t="/project/[ref]/settings/api";(window.__NEXT_P=window.__NEXT_P||[]).push([t,()=>e.r(826559)]),a.hot&&a.hot.dispose(function(){window.__NEXT_P.push([t])})},111410,e=>{e.v(a=>Promise.all(["static/chunks/a428d2b7e6671266.js","static/chunks/92a7c4be60dd12e3.js"].map(a=>e.l(a))).then(()=>a(677146)))},883471,e=>{e.v(a=>Promise.all(["static/chunks/69b2faaedd35af23.js"].map(a=>e.l(a))).then(()=>a(518769)))},587525,e=>{e.v(a=>Promise.all(["static/chunks/da2f61ca91d09b7f.js"].map(a=>e.l(a))).then(()=>a(127351)))},168845,e=>{e.v(a=>Promise.all(["static/chunks/99714db866f77205.js"].map(a=>e.l(a))).then(()=>a(238625)))},591393,e=>{e.v(a=>Promise.all(["static/chunks/e9ad074e72197584.js"].map(a=>e.l(a))).then(()=>a(217383)))},379416,e=>{e.v(a=>Promise.all(["static/chunks/d690909a90d04a2e.js"].map(a=>e.l(a))).then(()=>a(931066)))},15732,e=>{e.v(a=>Promise.all(["static/chunks/0d5256e667945be4.js"].map(a=>e.l(a))).then(()=>a(760545)))},957083,e=>{e.v(a=>Promise.all(["static/chunks/e7d07ff1ae210964.js"].map(a=>e.l(a))).then(()=>a(667558)))},207969,e=>{e.v(a=>Promise.all(["static/chunks/8dd7282c22f923f6.js"].map(a=>e.l(a))).then(()=>a(427328)))},992842,e=>{e.v(a=>Promise.all(["static/chunks/d064a48a1c7cf778.js"].map(a=>e.l(a))).then(()=>a(793794)))},239573,e=>{e.v(a=>Promise.all(["static/chunks/edc5d84148401903.js"].map(a=>e.l(a))).then(()=>a(210246)))},963685,e=>{e.v(a=>Promise.all(["static/chunks/92b20126e5ca0919.js"].map(a=>e.l(a))).then(()=>a(983756)))},665811,e=>{e.v(a=>Promise.all(["static/chunks/e37e25f8b82619ef.js"].map(a=>e.l(a))).then(()=>a(544836)))},369256,e=>{e.v(a=>Promise.all(["static/chunks/8296dc618dae72f0.js"].map(a=>e.l(a))).then(()=>a(930239)))},16037,e=>{e.v(a=>Promise.all(["static/chunks/3251b4bc539a554b.js"].map(a=>e.l(a))).then(()=>a(397698)))},616788,e=>{e.v(a=>Promise.all(["static/chunks/c6b81ab43a1d5d23.js"].map(a=>e.l(a))).then(()=>a(7346)))},315750,e=>{e.v(a=>Promise.all(["static/chunks/32c236321136eb7c.js"].map(a=>e.l(a))).then(()=>a(531289)))},460510,e=>{e.v(a=>Promise.all(["static/chunks/d91062943e6a7c30.js"].map(a=>e.l(a))).then(()=>a(276898)))},550265,e=>{e.v(a=>Promise.all(["static/chunks/75ff0e62b8a31d26.js"].map(a=>e.l(a))).then(()=>a(259714)))},830960,e=>{e.v(a=>Promise.all(["static/chunks/b44aa26556fee7df.js"].map(a=>e.l(a))).then(()=>a(882885)))},336744,e=>{e.v(a=>Promise.all(["static/chunks/2b0767b5c008139a.js"].map(a=>e.l(a))).then(()=>a(955268)))},63631,e=>{e.v(a=>Promise.all(["static/chunks/21a4706e1f02d90b.js"].map(a=>e.l(a))).then(()=>a(853630)))},912072,e=>{e.v(a=>Promise.all(["static/chunks/c17c80e5efc43419.js"].map(a=>e.l(a))).then(()=>a(311301)))},730314,e=>{e.v(a=>Promise.all(["static/chunks/dcadd9d46d72282e.js","static/chunks/293ae4c32f2932e0.js","static/chunks/82dddbda1a808189.js","static/chunks/d3a06a9a43f3833e.js","static/chunks/87b9766a4d16d1da.js","static/chunks/cc8130a84ee9bc2c.css"].map(a=>e.l(a))).then(()=>a(686651)))}]);

//# debugId=a131aa02-b5d2-15b0-5729-77bc7f57f287
//# sourceMappingURL=f557f3ac1823eee4.js.map