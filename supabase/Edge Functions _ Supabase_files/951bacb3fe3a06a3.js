;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="c8e7ce6b-99a0-39c6-d5df-eefb6c9c8459")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,856798,(e,t,a)=>{var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,s=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,d=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,l=/^\s+|\s+$/g;function u(e){return e?e.replace(l,""):""}t.exports=function(e,t){if("string"!=typeof e)throw TypeError("First argument must be a string");if(!e)return[];t=t||{};var a=1,l=1;function p(e){var t=e.match(r);t&&(a+=t.length);var n=e.lastIndexOf("\n");l=~n?e.length-n:l+e.length}function m(){var e={line:a,column:l};return function(t){return t.position=new h(e),y(s),t}}function h(e){this.start=e,this.end={line:a,column:l},this.source=t.source}h.prototype.content=e;var g=[];function f(n){var r=Error(t.source+":"+a+":"+l+": "+n);if(r.reason=n,r.filename=t.source,r.line=a,r.column=l,r.source=e,t.silent)g.push(r);else throw r}function y(t){var a=t.exec(e);if(a){var n=a[0];return p(n),e=e.slice(n.length),a}}function x(e){var t;for(e=e||[];t=j();)!1!==t&&e.push(t);return e}function j(){var t=m();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var a=2;""!=e.charAt(a)&&("*"!=e.charAt(a)||"/"!=e.charAt(a+1));)++a;if(a+=2,""===e.charAt(a-1))return f("End of comment missing");var n=e.slice(2,a-2);return l+=2,p(n),e=e.slice(a),l+=2,t({type:"comment",comment:n})}}y(s);var b,v=[];for(x(v);b=function(){var e=m(),t=y(o);if(t){if(j(),!y(i))return f("property missing ':'");var a=y(d),r=e({type:"declaration",property:u(t[0].replace(n,"")),value:a?u(a[0].replace(n,"")):""});return y(c),r}}();)!1!==b&&(v.push(b),x(v));return v}},703093,(e,t,a)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(a,"__esModule",{value:!0});var r=n(e.r(856798));a.default=function(e,t){var a=null;if(!e||"string"!=typeof e)return a;var n=(0,r.default)(e),s="function"==typeof t;return n.forEach(function(e){if("declaration"===e.type){var n=e.property,r=e.value;s?t(n,r,e):r&&((a=a||{})[n]=r)}}),a}},236823,e=>{"use strict";var t,a,n=e.i(478902);e.i(128328);var r=e.i(86086),s=e.i(388019);let o=(0,s.default)("Forward",[["polyline",{points:"15 17 20 12 15 7",key:"1w3sku"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]);var i=e.i(300906),d=e.i(109),c=e.i(635494),l=e.i(312048),u=e.i(408880),p=e.i(389959),m=e.i(416785),h=e.i(104645),g=e.i(383873);let f=(e,t,a={})=>{let{commandsState:n}=(0,h.useCommandContext)(),{registerSection:r}=(0,m.useSnapshot)(n),s=(0,p.useRef)(a?.deps);a.enabled??=!0;let o=(0,p.useRef)(a.enabled),i=(0,p.useRef)();(0,p.useMemo)(()=>{(0,u.default)(s.current,a.deps)&&o.current===a.enabled||(i.current?.(),i.current=a.enabled?r(e,t,a):void 0,s.current=a.deps,o.current=a.enabled)},[r,e,t,a]),(0,p.useEffect)(()=>(i.current=a.enabled?r(e,t,a):void 0,()=>i.current?.()),[])},y="Actions",x="Navigate",j="Table Editor",b="SQL Editor";function v(e){return e.slice().sort((e,t)=>(e.meta?.priority??10)-(t.meta?.priority??10))}let w="Switch branch",S=[];var k=e.i(980283),C=e.i(898452);e.i(10429);var _=e.i(837508),$=e.i(920474),I=e.i(217444),E=e.i(454370),N=e.i(774803),A=e.i(219195),P=e.i(95051),M=e.i(902858),R=e.i(158639),T=e.i(369459),H=e.i(738196),O=e.i(2579),L=e.i(392491),D=e.i(432478),F=e.i(843778),z=e.i(672044),B=e.i(703526),V=e.i(917007),q=e.i(549815),U=e.i(911509),Q=e.i(720887);function G({children:e}){let{handleTouchStart:t,handleTouchMove:a,handleTouchEnd:r}=(0,$.useCommandMenuTouchGestures)();return(0,n.jsx)("div",{onTouchStart:t,onTouchMove:a,onTouchEnd:r,children:e})}var K=e.i(232107),W=e.i(667938),J=e.i(920432),X=e.i(650118),Z=e.i(879148);let Y=(0,p.forwardRef)(({className:e,...t},a)=>{let r,s,o,i=(r=(0,K.useBreakpoint)("sm"),(s=(0,p.useRef)(r)).current=r,o=(0,p.useRef)(),(0,p.useEffect)(()=>{setTimeout(()=>{s.current||o.current?.focus()})},[]),e=>{a instanceof Function?a(e):a&&(a.current=e),o.current=e}),d=(0,X.useQuery)(),c=(0,X.useSetQuery)(),[l,u]=(0,p.useState)(d);(0,p.useEffect)(()=>{u(d),h.current=d},[d]);let m=(0,Z.useCommandMenuTelemetryContext)(),h=(0,p.useRef)(l),g=(0,p.useCallback)(e=>{if(m?.onTelemetry){let t={action:"command_menu_search_submitted",properties:{value:e,app:m.app},groups:{}};m.onTelemetry(t)}},[m]),f=(0,W.useDebounce)((0,p.useCallback)(()=>{g(l),h.current=l},[g,l]),2e3),y=(0,p.useCallback)(e=>{if(u(e),!(e.length>h.current.length)){h.current=e;return}f()},[f]),[x,j]=(0,p.useState)(!1);return(0,p.useEffect)(()=>{x||c(l)},[l,x]),(0,n.jsx)(J.CommandInput_Shadcn_,{autoFocus:!1,ref:i,value:l,onValueChange:y,placeholder:"Run a command or search...",onCompositionStart:()=>j(!0),onCompositionEnd:()=>j(!1),className:(0,F.cn)("flex h-11 w-full rounded-md bg-transparent px-2 py-7 outline-none","focus:shadow-none focus:ring-transparent","text-base text-foreground-light placeholder:text-foreground-muted disabled:cursor-not-allowed disabled:opacity-50 border-0",e),...t})});Y.displayName=J.CommandInput_Shadcn_.displayName;var ee=e.i(430174);let et=e=>(0,F.cn)("cursor-default","select-none","items-center gap-2","rounded-md","text-sm","group","py-3","text-foreground-light","relative","flex",e?`
bg-transparent
px-2
transition-all
outline-none
aria-selected:border-overlay
aria-selected:bg-selection/90
aria-selected:shadow-sm
aria-selected:scale-[100.3%]
data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50`:`
px-2
aria-selected:bg-selection/80
aria-selected:backdrop-filter
aria-selected:backdrop-blur-md
data-[disabled=true]:pointer-events-none
data-[disabled=true]:opacity-50
`),ea=(0,p.forwardRef)(({children:e,className:t,command:a,...r},s)=>{let o=(0,ee.useCrossCompatRouter)(),i=(0,$.useSetCommandMenuOpen)(),d=(0,Z.useCommandMenuTelemetryContext)();return(0,n.jsx)(q.CommandItem_Shadcn_,{ref:s,onSelect:()=>{if(d?.onTelemetry){let e={action:"command_menu_command_clicked",properties:{command_name:a.name,command_value:a.value,command_type:"action"in a?"action":"route",app:d.app},groups:{}};d.onTelemetry(e)}"action"in a?a.action():"route"in a&&(a.route.startsWith("http")?(i(!1),window.open(a.route,"_blank","noreferrer,noopener")):o.push(a.route))},value:a.value??a.name,forceMount:a.forceMount,className:(0,F.cn)(et("route"in a),t,a.className),...r,children:(0,n.jsxs)("div",{className:"w-full flex flex-row justify-between items-center",children:[(0,n.jsxs)("div",{className:"flex flex-row gap-2 flex-grow items-center",children:[a.icon?.(),e]}),a.badge?.()]})})});ea.displayName=q.CommandItem_Shadcn_.displayName;let en=e.i(399413).useCommandState,er="Snippets";function es(){let{ref:e}=(0,R.useParams)(),{data:t,isPending:a,isError:r,isSuccess:s}=(0,T.useSqlSnippetsQuery)({projectRef:e}),o=t?.pages.flatMap(e=>e.contents),{profile:i}=(0,D.useProfile)(),{can:d}=(0,O.useAsyncCheckPermissions)(M.PermissionAction.CREATE,"user_content",{resource:{type:"sql",owner_id:i?.id},subject:{id:i?.id}});return(0,$.useSetCommandMenuSize)("xlarge"),(0,n.jsxs)(Q.CommandWrapper,{children:[(0,n.jsxs)(G,{children:[(0,n.jsx)(Q.Breadcrumb,{}),(0,n.jsx)(Y,{autoFocus:!0})]}),a&&(0,n.jsx)(eo,{}),r&&(0,n.jsx)(ei,{}),s&&(!o||0===o.length)&&(0,n.jsx)(ed,{projectRef:e,canCreateNew:d}),s&&!!o&&o.length>0&&(0,n.jsx)(ec,{projectRef:e,canCreateNew:d,snippets:o})]})}function eo(){return(0,n.jsx)("div",{className:"p-6",children:(0,n.jsxs)("p",{className:"text-center",children:[(0,n.jsx)(N.Loader2,{className:"inline-block mr-2 animate-spin"}),"Loading..."]})})}function ei(){return(0,n.jsx)("div",{className:"p-6",children:(0,n.jsxs)("p",{className:"text-center",children:[(0,n.jsx)(I.AlertTriangle,{className:"inline-block mr-2"}),"Couldn't load snippets"]})})}function ed({projectRef:e,canCreateNew:t}){let a=(0,P.useRouter)();return(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsx)("p",{className:"mb-2 text-center",children:"No snippets found."}),(0,n.jsx)(U.CommandList_Shadcn_,{className:"py-2",children:(0,n.jsx)(V.CommandGroup_Shadcn_,{children:(0,n.jsx)(q.CommandItem_Shadcn_,{id:"create-snippet",className:et(!1),onSelect:()=>a.push(`/project/${e??"_"}/sql/new`),children:t?"Create new snippet":"Run new SQL"})})})]})}function ec({projectRef:e,snippets:t,canCreateNew:a}){let r=(0,P.useRouter)(),s=en(e=>e.value),o=t?.find(e=>el(e)===s),i=o?.type==="sql";return(0,n.jsxs)("div",{className:"w-full flex-grow min-h-0 grid gap-4 md:grid-cols-2",children:[(0,n.jsxs)(U.CommandList_Shadcn_,{className:(0,F.cn)("!h-full min-h-0 max-h-[unset] py-2 overflow-hidden","[&>[cmdk-list-sizer]]:h-full [&>[cmdk-list-sizer]]:flex [&>[cmdk-list-sizer]]:flex-col"),children:[!!t&&t.length>0&&(0,n.jsx)(V.CommandGroup_Shadcn_,{className:"flex-grow min-h-0 overflow-auto",children:t.map(t=>(0,n.jsx)(q.CommandItem_Shadcn_,{id:`${t.id}-${t.name}`,className:et(!1),value:el(t),onSelect:()=>void r.push(`/project/${e??"_"}/sql/${t.id}`),children:t.name}))}),a&&(0,n.jsxs)("div",{className:"min-h-fit flex-grow-0",children:[(0,n.jsx)("hr",{className:"mt-4 mb-2 mx-2"}),(0,n.jsx)(V.CommandGroup_Shadcn_,{forceMount:!0,children:(0,n.jsx)(q.CommandItem_Shadcn_,{id:"create-snippet",className:et(!1),onSelect:()=>r.push(`/project/${e??"_"}/sql/new`),forceMount:!0,children:"Create new snippet"})})]})]}),(0,n.jsx)(z.CodeBlock,{language:"sql",value:i?o?.content?.sql:"",wrapperClassName:"hidden md:block",className:"w-full h-full border-0 [&>code]:overflow-scroll [&>code]:block [&>code]:w-full [&>code]:h-full",hideCopy:!0})]})}function el(e){return"sql"!==e.type?"":encodeURIComponent(`${e.id}-${e.name}-${e?.content?.sql.slice(0,30)}`).toLowerCase()}let eu="Query a table";function ep(){let e=(0,P.useRouter)(),{data:t}=(0,c.useSelectedProjectQuery)(),{data:a}=(0,L.useProtectedSchemas)(),{data:r,isPending:s,isError:o,isSuccess:i}=(0,H.useTablesQuery)({projectRef:t?.ref,connectionString:t?.connectionString,includeColumns:!0}),d=(0,p.useMemo)(()=>r?.filter(e=>!a.find(t=>t.name===e.schema)),[r,a]);return(0,n.jsxs)(Q.CommandWrapper,{children:[(0,n.jsxs)(G,{children:[(0,n.jsx)(Q.Breadcrumb,{}),(0,n.jsx)(Y,{autoFocus:!0})]}),(0,n.jsxs)(U.CommandList_Shadcn_,{children:[s&&(0,n.jsx)(eo,{}),o&&(0,n.jsx)(ei,{}),i&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(B.CommandEmpty_Shadcn_,{}),(0,n.jsx)(V.CommandGroup_Shadcn_,{children:d?.map(a=>(0,n.jsx)(q.CommandItem_Shadcn_,{className:et(!1),value:encodeURIComponent(`${a.schema}.${a.name}`),onSelect:()=>{var n,r;let s,o;e.push(`/project/${t?.ref??"_"}/sql/new?content=${encodeURIComponent((n=a,`
select ${!n.columns?"*":`
${n.columns.map((e,t,a)=>`	${e.name}`).join(",\n")}`}
from ${s=em.test((r=n).schema)?r.schema:`"${r.schema}"`,o=em.test(r.name)?r.name:`"${r.name}"`,`${s}.${o}`}
-- where
-- order by
-- limit
;
  `.trim()))}`)},children:`${a.schema}.${a.name}`},a.id))})]})]})]})}let em=/^[a-z_][a-z0-9_$]*$/;var eh=e.i(704206),eg=e.i(912793),ef=e.i(482602),ey=e.i(667042),ex=e.i(595127),ex=ex,ej=e.i(366652),eb=e.i(933275),ev=e.i(169949);let ew="nav-reports-query-performance",eS=({children:e,className:t,listRef:a,...r})=>{let s=(0,X.useQuery)(),[o,i]=(0,p.useState)(!1);return(0,p.useEffect)(()=>{if(!s)return i(!1);i(!a?.current?.querySelector("[cmdk-item]"))},[s]),o&&(0,n.jsx)("div",{className:(0,F.cn)("py-6 text-center text-sm text-foreground-muted",t),...r,children:e})},ek=(0,p.forwardRef)(({className:e,...t},a)=>(0,n.jsx)(V.CommandGroup_Shadcn_,{ref:a,className:(0,F.cn)("overflow-hidden py-3 px-2 text-foreground-lighter/60 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:pb-1.5 [&_[cmdk-group-heading]]:text-sm [&_[cmdk-group-heading]]:font-normal [&_[cmdk-group-heading]]:text-foreground-lighter/60",e),...t}));function eC({children:e,text:t,query:a,...r}){let s=t??p.Children.toArray(e)[0];if("string"!=typeof s)return s;let o=s.toLowerCase().indexOf(a.toLowerCase());return -1===o?(0,n.jsx)("span",{...r,children:s}):(0,n.jsxs)("span",{...r,children:[s.substring(0,o),(0,n.jsx)("span",{className:"text-foreground",children:s.substring(o,o+a.length)}),s.substring(o+a.length)]})}function e_(e){let t=(0,X.useQuery)();return(0,n.jsx)(eC,{query:t,...e})}ek.displayName=V.CommandGroup_Shadcn_.displayName;let e$=(0,p.forwardRef)(({className:e,...t},a)=>{let r=(()=>{let{commandsState:e}=(0,h.useCommandContext)(),{commandSections:t}=(0,m.useSnapshot)(e),a=(0,g.useCurrentPage)();return a&&(0,l.isCommandsPage)(a)?a.sections:t})(),s=(0,X.useQuery)(),o=(0,p.useRef)(void 0);return(0,n.jsxs)(U.CommandList_Shadcn_,{ref:e=>{a&&("function"==typeof a?a(e):a.current=e),o.current=e},className:(0,F.cn)("max-h-[initial] overflow-y-auto overflow-x-hidden bg-transparent",e),...t,children:[(0,n.jsx)(eS,{listRef:o,children:"No results found."}),r.map(e=>e.commands.every(e=>e.defaultHidden)&&!s?null:(0,n.jsx)(ek,{heading:e.name,forceMount:e.forceMount,children:e.commands.filter(e=>!e.defaultHidden||s).map(e=>(0,n.jsx)(ea,{command:e,children:(0,n.jsx)(e_,{children:e.name})},e.id))},e.id))]})});e$.displayName=U.CommandList_Shadcn_.displayName;var eI=e.i(968675);e.i(744541);let eE="/dashboard";var eN=e.i(602089),eA=e.i(659016),eP=e.i(130568),eM=e.i(358403),eR=e.i(512291),eT=e.i(767955),eH=e.i(657541),eO=e.i(520307),eL=e.i(782303),eD=e.i(54764),eF=e.i(703093);let ez=eF.default.default||eF.default;var eB=e.i(714407),eV=e.i(102312);let eq={}.hasOwnProperty,eU=new Map,eQ=/[A-Z]/g,eG=/-([a-z])/g,eK=new Set(["table","tbody","thead","tfoot","tr"]),eW=new Set(["td","th"]),eJ="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function eX(e,t,a){var n,r,s,o,i,d,c,l,u;let p,m,h,g,f,y,x,j,b,v,w;return"element"===t.type?(n=e,r=t,s=a,m=p=n.schema,"svg"===r.tagName.toLowerCase()&&"html"===p.space&&(n.schema=eL.svg),n.ancestors.push(r),h=e1(n,r.tagName,!1),g=function(e,t){let a,n,r={};for(n in t.properties)if("children"!==n&&eq.call(t.properties,n)){let s=function(e,t,a){let n=(0,eH.find)(e.schema,t);if(!(null==a||"number"==typeof a&&Number.isNaN(a))){if(Array.isArray(a)&&(a=n.commaSeparated?(0,eM.stringify)(a):(0,eD.stringify)(a)),"style"===n.property){let t="object"==typeof a?a:function(e,t){let a={};try{ez(t,function(e,t){let n=e;"--"!==n.slice(0,2)&&("-ms-"===n.slice(0,4)&&(n="ms-"+n.slice(4)),n=n.replace(eG,e4)),a[n]=t})}catch(t){if(!e.ignoreInvalidStyle){let a=new eV.VFileMessage("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=eJ+"#cannot-parse-style-attribute",a}}return a}(e,String(a));return"css"===e.stylePropertyNameCase&&(t=function(e){let t,a={};for(t in e)eq.call(e,t)&&(a[function(e){let t=e.replace(eQ,e6);return"ms-"===t.slice(0,3)&&(t="-"+t),t}(t)]=e[t]);return a}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&n.space?eO.hastToReact[n.property]||n.property:n.attribute,a]}}(e,n,t.properties[n]);if(s){let[n,o]=s;e.tableCellAlignToStyle&&"align"===n&&"string"==typeof o&&eW.has(t.tagName)?a=o:r[n]=o}}return a&&((r.style||(r.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=a),r}(n,r),f=e0(n,r),eK.has(r.tagName)&&(f=f.filter(function(e){return"string"!=typeof e||!(0,eT.whitespace)(e)})),eZ(n,g,h,r),eY(g,f),n.ancestors.pop(),n.schema=p,n.create(r,h,g,s)):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){let a=t.data.estree.body[0];return(0,eP.ok)("ExpressionStatement"===a.type),e.evaluater.evaluateExpression(a.expression)}e2(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?(o=e,i=t,d=a,x=y=o.schema,"svg"===i.name&&"html"===y.space&&(o.schema=eL.svg),o.ancestors.push(i),j=null===i.name?o.Fragment:e1(o,i.name,!0),b=function(e,t){let a={};for(let n of t.attributes)if("mdxJsxExpressionAttribute"===n.type)if(n.data&&n.data.estree&&e.evaluater){let t=n.data.estree.body[0];(0,eP.ok)("ExpressionStatement"===t.type);let r=t.expression;(0,eP.ok)("ObjectExpression"===r.type);let s=r.properties[0];(0,eP.ok)("SpreadElement"===s.type),Object.assign(a,e.evaluater.evaluateExpression(s.argument))}else e2(e,t.position);else{let r,s=n.name;if(n.value&&"object"==typeof n.value)if(n.value.data&&n.value.data.estree&&e.evaluater){let t=n.value.data.estree.body[0];(0,eP.ok)("ExpressionStatement"===t.type),r=e.evaluater.evaluateExpression(t.expression)}else e2(e,t.position);else r=null===n.value||n.value;a[s]=r}return a}(o,i),v=e0(o,i),eZ(o,b,j,i),eY(b,v),o.ancestors.pop(),o.schema=y,o.create(i,j,b,d)):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);e2(e,t.position)}(e,t):"root"===t.type?(c=e,l=t,u=a,eY(w={},e0(c,l)),c.create(l,c.Fragment,w,u)):"text"===t.type?t.value:void 0}function eZ(e,t,a,n){"string"!=typeof a&&a!==e.Fragment&&e.passNode&&(t.node=n)}function eY(e,t){if(t.length>0){let a=t.length>1?t:t[0];a&&(e.children=a)}}function e0(e,t){let a=[],n=-1,r=e.passKeys?new Map:eU;for(;++n<t.children.length;){let s,o=t.children[n];if(e.passKeys){let e="element"===o.type?o.tagName:"mdxJsxFlowElement"===o.type||"mdxJsxTextElement"===o.type?o.name:void 0;if(e){let t=r.get(e)||0;s=e+"-"+t,r.set(e,t+1)}}let i=eX(e,o,s);void 0!==i&&a.push(i)}return a}function e1(e,t,a){let n;if(a)if(t.includes(".")){let e,a=t.split("."),r=-1;for(;++r<a.length;){let t=(0,eR.name)(a[r])?{type:"Identifier",name:a[r]}:{type:"Literal",value:a[r]};e=e?{type:"MemberExpression",object:e,property:t,computed:!!(r&&"Literal"===t.type),optional:!1}:t}(0,eP.ok)(e,"always a result"),n=e}else n=(0,eR.name)(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else n={type:"Literal",value:t};if("Literal"===n.type){let t=n.value;return eq.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(n);e2(e)}function e2(e,t){let a=new eV.VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=eJ+"#cannot-handle-mdx-estrees-without-createevaluater",a}function e4(e,t){return t.toUpperCase()}function e6(e){return"-"+e.toLowerCase()}var e8=e.i(295337),e3=e.i(795561),e5=e.i(556074),e9=e.i(61418),e7=e.i(321665),te=e.i(805253);let tt=[],ta={allowDangerousHtml:!0},tn=/^(https?|ircs?|mailto|xmpp)$/i,tr=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ts(e){let t=e.allowedElements,a=e.allowElement,r=e.children||"",s=e.className,o=e.components,i=e.disallowedElements,d=e.rehypePlugins||tt,c=e.remarkPlugins||tt,l=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...ta}:ta,u=e.skipHtml,p=e.unwrapDisallowed,m=e.urlTransform||to,h=(0,e9.unified)().use(e3.default).use(c).use(e5.default,l).use(d),g=new te.VFile;for(let a of("string"==typeof r?g.value=r:(0,eP.unreachable)("Unexpected value `"+r+"` for `children` prop, expected `string`"),t&&i&&(0,eP.unreachable)("Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other"),tr))Object.hasOwn(e,a.from)&&(0,eP.unreachable)("Unexpected `"+a.from+"` prop, "+(a.to?"use `"+a.to+"` instead":"remove it")+" (see <https://github.com/remarkjs/react-markdown/blob/main/changelog.md#"+a.id+"> for more info)");let f=h.parse(g),y=h.runSync(f,g);return s&&(y={type:"element",tagName:"div",properties:{className:s},children:"root"===y.type?y.children:[y]}),(0,e7.visit)(y,function(e,n,r){if("raw"===e.type&&r&&"number"==typeof n)return u?r.children.splice(n,1):r.children[n]={type:"text",value:e.value},n;if("element"===e.type){let t;for(t in e8.urlAttributes)if(Object.hasOwn(e8.urlAttributes,t)&&Object.hasOwn(e.properties,t)){let a=e.properties[t],n=e8.urlAttributes[t];(null===n||n.includes(e.tagName))&&(e.properties[t]=m(String(a||""),t,e))}}if("element"===e.type){let s=t?!t.includes(e.tagName):!!i&&i.includes(e.tagName);if(!s&&a&&"number"==typeof n&&(s=!a(e,n,r)),s&&r&&"number"==typeof n)return p&&e.children?r.children.splice(n,1,...e.children):r.children.splice(n,1),n}}),function(e,t){var a,n,r,s;let o;if(!t||void 0===t.Fragment)throw TypeError("Expected `Fragment` in options");let i=t.filePath||void 0;if(t.development){if("function"!=typeof t.jsxDEV)throw TypeError("Expected `jsxDEV` in options when `development: true`");a=i,n=t.jsxDEV,o=function(e,t,r,s){let o=Array.isArray(r.children),i=(0,eB.pointStart)(e);return n(t,r,s,o,{columnNumber:i?i.column-1:void 0,fileName:a,lineNumber:i?i.line:void 0},void 0)}}else{if("function"!=typeof t.jsx)throw TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw TypeError("Expected `jsxs` in production options");r=t.jsx,s=t.jsxs,o=function(e,t,a,n){let o=Array.isArray(a.children)?s:r;return n?o(t,a,n):o(t,a)}}let d={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:o,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?eL.svg:eL.html,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},c=eX(d,e,void 0);return c&&"string"!=typeof c?c:d.create(e,d.Fragment,{children:c||void 0},void 0)}(y,{Fragment:n.Fragment,components:o,ignoreInvalidStyle:!0,jsx:n.jsx,jsxs:n.jsxs,passKeys:!0,passNode:!0})}function to(e){let t=e.indexOf(":"),a=e.indexOf("?"),n=e.indexOf("#"),r=e.indexOf("/");return t<0||r>-1&&t>r||a>-1&&t>a||n>-1&&t>n||tn.test(e.slice(0,t))?e:""}var ti=e.i(72645),td=e.i(631206);let tc={};function tl(e){let t=e||tc,a=this.data(),n=a.micromarkExtensions||(a.micromarkExtensions=[]),r=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),s=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);n.push((0,td.gfm)(t)),r.push((0,ti.gfmFromMarkdown)()),s.push((0,ti.gfmToMarkdown)(t))}var tu=e.i(837710),tp=e.i(532532),tm=e.i(877555);let th=(0,s.default)("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);var tg=e.i(178527),tf=e.i(206413),ty=e.i(592360);let tx=({className:e})=>(0,n.jsxs)(tg.Alert_Shadcn_,{className:(0,F.cn)("!m-0",e),variant:"warning",children:[(0,n.jsx)(th,{strokeWidth:1.5,size:18,className:"text-foreground-muted"}),(0,n.jsx)(ty.AlertTitle_Shadcn_,{children:"Supabase AI is experimental and may produce incorrect answers."}),(0,n.jsx)(tf.AlertDescription_Shadcn_,{children:(0,n.jsx)("p",{children:"Always verify the output before executing."})})]});var tj=((t=tj||{}).User="user",t.Assistant="assistant",t),tb=((a=tb||{}).Pending="pending",a.InProgress="in-progress",a.Complete="complete",a),tv=function(e,t){if(!(this instanceof tv))return new tv(e,t);this.INITIALIZING=-1,this.CONNECTING=0,this.OPEN=1,this.CLOSED=2,this.url=e,t=t||{},this.headers=t.headers||{},this.payload=void 0!==t.payload?t.payload:"",this.method=t.method||this.payload&&"POST"||"GET",this.withCredentials=!!t.withCredentials,this.debug=!!t.debug,this.FIELD_SEPARATOR=":",this.listeners={},this.xhr=null,this.readyState=this.INITIALIZING,this.progress=0,this.chunk="",this.addEventListener=function(e,t){void 0===this.listeners[e]&&(this.listeners[e]=[]),-1===this.listeners[e].indexOf(t)&&this.listeners[e].push(t)},this.removeEventListener=function(e,t){if(void 0!==this.listeners[e]){var a=[];this.listeners[e].forEach(function(e){e!==t&&a.push(e)}),0===a.length?delete this.listeners[e]:this.listeners[e]=a}},this.dispatchEvent=function(e){if(!e)return!0;this.debug&&console.debug(e),e.source=this;var t="on"+e.type;return(!this.hasOwnProperty(t)||(this[t].call(this,e),!e.defaultPrevented))&&(!this.listeners[e.type]||this.listeners[e.type].every(function(t){return t(e),!e.defaultPrevented}))},this._setReadyState=function(e){var t=new CustomEvent("readystatechange");t.readyState=e,this.readyState=e,this.dispatchEvent(t)},this._onStreamFailure=function(e){var t=new CustomEvent("error");t.data=e.currentTarget.response,this.dispatchEvent(t),this.close()},this._onStreamAbort=function(e){this.dispatchEvent(new CustomEvent("abort")),this.close()},this._onStreamProgress=function(e){if(this.xhr){if(200!==this.xhr.status)return void this._onStreamFailure(e);this.readyState==this.CONNECTING&&(this.dispatchEvent(new CustomEvent("open")),this._setReadyState(this.OPEN));var t=this.xhr.responseText.substring(this.progress);this.progress+=t.length;var a=(this.chunk+t).split(/(\r\n\r\n|\r\r|\n\n)/g),n=a.pop();a.forEach((function(e){e.trim().length>0&&this.dispatchEvent(this._parseEventChunk(e))}).bind(this)),this.chunk=n}},this._onStreamLoaded=function(e){this._onStreamProgress(e),this.dispatchEvent(this._parseEventChunk(this.chunk)),this.chunk=""},this._parseEventChunk=function(e){if(!e||0===e.length)return null;this.debug&&console.debug(e);var t={id:null,retry:null,data:null,event:null};e.split(/\n|\r\n|\r/).forEach((function(e){var a,n,r=e.indexOf(this.FIELD_SEPARATOR);if(r>0){var s=" "===e[r+1]?2:1;a=e.substring(0,r),n=e.substring(r+s)}else{if(!(r<0))return;a=e,n=""}a in t&&("data"===a&&null!==t[a]?t.data+="\n"+n:t[a]=n)}).bind(this));var a=new CustomEvent(t.event||"message");return a.data=t.data||"",a.id=t.id,a},this._checkStreamClosed=function(){this.xhr&&this.xhr.readyState===XMLHttpRequest.DONE&&this._setReadyState(this.CLOSED)},this.stream=function(){if(!this.xhr){for(var e in this._setReadyState(this.CONNECTING),this.xhr=new XMLHttpRequest,this.xhr.addEventListener("progress",this._onStreamProgress.bind(this)),this.xhr.addEventListener("load",this._onStreamLoaded.bind(this)),this.xhr.addEventListener("readystatechange",this._checkStreamClosed.bind(this)),this.xhr.addEventListener("error",this._onStreamFailure.bind(this)),this.xhr.addEventListener("abort",this._onStreamAbort.bind(this)),this.xhr.open(this.method,this.url),this.headers)this.xhr.setRequestHeader(e,this.headers[e]);this.xhr.withCredentials=this.withCredentials,this.xhr.send(this.payload)}},this.close=function(){this.readyState!==this.CLOSED&&(this.xhr.abort(),this.xhr=null,this._setReadyState(this.CLOSED))},(void 0===t.start||t.start)&&this.stream()};let tw=(e,t)=>{let a=[...e],{type:n}=t;switch(n){case"new":{let{message:e}=t;a.push(e);break}case"update":{let{index:e,message:n}=t;a[e]&&(a[e]=Object.assign({},a[e],n));break}case"append-content":{let{index:e,content:n,idempotencyKey:r}=t,s=a[e];if(!s||s.idempotencyKey===r)break;s.idempotencyKey=r,a[e]=Object.assign({},s,{content:s.content+=n});break}case"finalize-with-sources":{let{index:e}=t,n=a[e];if(n&&n.content){let{cleanedContent:t,sources:r}=function(e){let t=e.match(/### Sources\s*(?:\n((?:- [^\n]+\n?)*))?\s*$/),a=e,n=[];if(t){for(let e of(t[1]||"").split("\n").filter(e=>e.trim().startsWith("- "))){let t=e.replace(/^- /,"").trim();t&&t.startsWith("/")&&n.push({path:t,url:`https://supabase.com/docs${t}`})}let r=e.lastIndexOf("### Sources");-1!==r&&(a=e.substring(0,r).trim())}return{cleanedContent:a,sources:n}}(n.content);a[e]=Object.assign({},n,{status:tb.Complete,content:t,sources:r.length>0?r:void 0})}else a[e]=Object.assign({},n,{status:tb.Complete});break}case"reset":a=[];break;default:throw Error(`Unknown message action '${n}'`)}return a},tS=["How do I get started with Supabase?","How do I run Supabase locally?","How do I connect to my database?","How do I run migrations? ","How do I listen to changes in a table?","How do I set up authentication?"],tk=()=>{let e=(0,X.useSetQuery)(),t=(0,K.useBreakpoint)("sm");(0,$.useSetCommandMenuSize)("xlarge");let[a,r]=(0,p.useState)(!1),{submit:s,reset:o,messages:i,isResponding:d,hasError:c}=(({messageTemplate:e=e=>e,setIsLoading:t})=>{let a=(0,p.useRef)(),n=(0,p.useRef)(0),[r,s]=(0,p.useState)(!1),[o,i]=(0,p.useState)(!1),[d,c]=(0,p.useState)(1),[l,u]=(0,p.useReducer)(tw,[]);return{submit:(0,p.useCallback)(async r=>{u({type:"new",message:{status:tb.Complete,role:tj.User,content:r}}),u({type:"new",message:{status:tb.Pending,role:tj.Assistant,content:""}}),s(!1),i(!1),t?.(!0);let o=new tv(`${eE}/api/ai/docs`,{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhndWloeHV6cWlid3hqbmlteGV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTgzNzc1MTgsImV4cCI6MjAzMzk1MzUxOH0.aIqjQ9V7djMxYit-DT1fYNV_VWMHSqldh_18XfX2_BE",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhndWloeHV6cWlid3hqbmlteGV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTgzNzc1MTgsImV4cCI6MjAzMzk1MzUxOH0.aIqjQ9V7djMxYit-DT1fYNV_VWMHSqldh_18XfX2_BE","Content-Type":"application/json"},payload:JSON.stringify({messages:l.filter(({status:e})=>e===tb.Complete).map(({role:e,content:t})=>({role:e,content:t})).concat({role:tj.User,content:e(r)})})});function p(e){t?.(!1),s(!1),i(!0),console.error(e)}o.addEventListener("error",p),o.addEventListener("message",function(e){try{if(t?.(!1),"[DONE]"===e.data){s(!1),u({type:"finalize-with-sources",index:d}),c(e=>e+2);return}u({type:"update",index:d,message:{status:tb.InProgress}}),s(!0);let[{delta:{content:a}}]=JSON.parse(e.data).choices;a&&u({type:"append-content",index:d,idempotencyKey:n.current++,content:a})}catch(e){p(e)}}),o.stream(),a.current=o,t?.(!0)},[d,l,e]),reset:function(){a.current?.close(),a.current=void 0,s(!1),i(!1),c(1),u({type:"reset"})},messages:l,isResponding:r,hasError:o}})({setIsLoading:r}),l=(0,p.useCallback)(t=>{e(""),s(t)},[s]),u=(0,p.useCallback)(()=>{e(""),o()},[o]);return(0,n.jsxs)(Q.CommandWrapper,{className:(0,F.cn)("flex flex-col",!t&&"[&_[cmdk-input-wrapper]]:border-b-0 [&_[cmdk-input-wrapper]]:border-t [&_[cmdk-input-wrapper]]:border-solid [&_[cmdk-input-wrapper]]:border-bg-control"),children:[(0,n.jsxs)(G,{children:[(0,n.jsx)(Q.Breadcrumb,{}),t&&(0,n.jsx)(tC,{submit:l,reset:u,messages:i,isLoading:a,isResponding:d})]}),(0,n.jsxs)("div",{className:(0,F.cn)("flex-grow min-h-0 overflow-auto"),children:[!c&&i.length>0&&(0,n.jsx)(t_,{messages:i}),!c&&0===i.length&&(0,n.jsx)(t$,{handleSubmit:l}),c&&(0,n.jsx)(tI,{handleReset:u})]}),!t&&(0,n.jsx)(tC,{submit:l,reset:u,messages:i,isLoading:a,isResponding:d}),i.length>0&&!c&&(0,n.jsx)(tx,{className:t?"rounded-b-none":"rounded-t-none"})]})};function tC({submit:e,reset:t,messages:a,isLoading:r,isResponding:s,className:o}){let i=(0,X.useQuery)(),d=(0,p.useRef)(i),c=(0,X.useSetQuery)();(0,p.useEffect)(()=>(i&&e(i),t),[]);let[l,u]=(0,p.useState)(""),[m,h]=(0,p.useState)(!1);return(0,p.useEffect)(()=>{i!==d.current?(u(i),d.current=i):m||(c(l),d.current=l)},[l,i,m]),!function({stack:e,enable:t=!0}){let[a,n]=(0,p.useState)(0),r=(0,X.useSetQuery)(),s=(0,p.useCallback)(a=>{t&&(r(e[a]??""),n(a))},[]);(0,p.useEffect)(()=>{function t(t){switch(t.key){case"ArrowUp":return s(Math.max(a-1,0));case"ArrowDown":return s(Math.min(a+1,e.length-1));default:return}}return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[s,e])}({enable:!s,stack:a.filter(({role:e})=>e===tj.User).map(({content:e})=>e)}),(0,n.jsx)(Y,{className:(0,F.cn)("w-full h-11","border-none outline-none bg-transparent rounded-none rounded-t-md px-4 py-7","flex","text-base text-foreground-light","focus:ring-0 focus:shadow-none focus:ring-transparent","focus-visible:ring-0 focus-visible:shadow-none focus-visible:ring-transparent","placeholder:text-foreground-muted","disabled:cursor-not-allowed disabled:opacity-50",o),placeholder:r||s?"Waiting on an answer...":"Ask Supabase AI a question...",value:l,onValueChange:u,onCompositionStart:()=>h(!0),onCompositionEnd:()=>h(!1),onKeyDown:t=>{if("Enter"===t.key&&i&&!r&&!s&&!m)return e(i)}})}function t_({messages:e}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(U.CommandList_Shadcn_,{}),(0,n.jsx)("div",{className:(0,F.cn)("flex-grow min-h-0 overflow-auto p-4","grid gap-6 md:grid-cols-[max-content,1fr] grid-rows-[max-content]"),children:e.map((e,t)=>{switch(e.role){case tj.User:return(0,n.jsxs)(p.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:(0,F.cn)("w-7 h-7","border border-muted bg-background shadow-sm rounded-full","flex items-center justify-center","text-foreground-lighter"),children:(0,n.jsx)(eA.User,{strokeWidth:1.5,size:16})}),(0,n.jsx)("span",{className:"font-mono text-sm text-foreground-muted uppercase tracking-widest md:hidden",children:"You"})]}),(0,n.jsx)("div",{className:"prose text-foreground-lighter",children:e.content})]},t);case tj.Assistant:return(0,n.jsxs)(p.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center md:items-start gap-4",children:[(0,n.jsx)(eN.AiIconAnimation,{className:"ml-0.5",loading:e.status===tb.Pending||e.status===tb.InProgress,allowHoverEffect:!0}),(0,n.jsx)("span",{className:"font-mono text-sm text-foreground-muted uppercase tracking-widest md:hidden",children:"Supabase AI"})]}),(0,n.jsxs)("div",{children:[e.status===tb.Pending&&(0,n.jsx)("span",{className:"inline-block h-[1lh] w-[0.8lh] mt-1 bg-border-strong animate-bounce"}),(0,n.jsx)(ts,{remarkPlugins:[tl],components:{...tp.markdownComponents,a:e=>(0,n.jsx)("a",{...e,target:"_blank",rel:"noopener noreferrer"})},className:"prose dark:prose-dark break-words",children:e.content}),e.sources&&e.sources.length>0&&(0,n.jsxs)("div",{className:"mt-4 pt-4 border-t border-border-muted",children:[(0,n.jsx)("p",{className:"text-sm text-foreground-muted mb-2",children:"Sources:"}),(0,n.jsx)("ul",{className:"space-y-1",children:e.sources.map((e,t)=>(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-brand hover:underline",children:e.url})},t))})]})]})]},t)}})})]})}function t$({handleSubmit:e}){let t=(0,X.useQuery)();return(0,n.jsx)(U.CommandList_Shadcn_,{className:"max-h-[unset]",children:(0,n.jsx)(V.CommandGroup_Shadcn_,{heading:"Examples",className:(0,F.cn)("text-border-strong","[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:pb-1.5","[&_[cmdk-group-heading]]:text-sm [&_[cmdk-group-heading]]:font-normal [&_[cmdk-group-heading]]:text-foreground-muted"),children:tS.map(a=>{let r=a.replace(/\s+/g,"_");return(0,n.jsxs)(q.CommandItem_Shadcn_,{className:et(!1),onSelect:()=>{t||e(a)},children:[(0,n.jsx)(eN.AiIconAnimation,{}),a]},r)})})})}function tI({handleReset:e}){return(0,n.jsxs)("div",{className:"p-6 flex flex-col items-center gap-2 mt-4",children:[(0,n.jsx)(tm.StatusIcon,{variant:"warning"}),(0,n.jsx)("p",{className:"text-sm text-foreground text-center",children:"Sorry, looks like Supabase AI is having a hard time!"}),(0,n.jsx)("p",{className:"text-sm text-foreground-lighter text-center",children:"Please try again in a bit."}),(0,n.jsx)(tu.Button,{size:"tiny",type:"default",onClick:e,children:"Try again?"})]})}let tE="Ask Supabase AI",tN=e=>e;var tA=e.i(636900),tP=e.i(416050),tM=e.i(398696),tR=e.i(116746),tT=e.i(543064),tH=e.i(727095);let tO=["How do I get started with Supabase?","How do I run Supabase locally?","How do I connect to my database?","How do I run migrations? ","How do I listen to changes in a table?","How do I set up authentication?"],tL=()=>(0,n.jsx)(tP.ChevronRight,{strokeWidth:1.5,className:(0,F.cn)("-left-4","opacity-0","text-foreground-muted","group-aria-selected:scale-[101%] group-aria-selected:opacity-100 group-aria-selected:left-0","transition")}),tD=e=>(0,n.jsx)("div",{className:(0,F.cn)("w-6 h-6","bg-surface-100 border rounded","flex items-center justify-center","text-foreground-muted","group-aria-selected:bg-surface-200 group-aria-selected:text-foreground-lighter group-aria-selected:[&_svg]:scale-[103%]","transition"),...e}),tF=()=>{let{searchState:e,handleDocsSearch:t,handleDocsSearchDebounced:a,resetSearch:r}=(0,tH.useDocsSearch)(),s=(0,$.useSetCommandMenuOpen)(),o=(0,X.useSetQuery)(),i=(0,X.useQuery)(),d=(0,p.useRef)(!0),c=(0,p.useRef)(null),l=(0,ee.useCrossCompatRouter)();async function u(e,t){switch(e){case tH.DocsSearchResultType.Markdown:case tH.DocsSearchResultType.Reference:eE?window.open(`https://supabase.com/docs${t}`,"_blank","noreferrer,noopener"):l.push(`/docs${t}`),s(!1);break;case tH.DocsSearchResultType.Integration:eE?window.open(`https://supabase.com${t}`,"_blank","noreferrer,noopener"):l.push(t),s(!1);break;case tH.DocsSearchResultType.GithubDiscussion:window.open(t,"_blank","noreferrer,noopener"),s(!1);break;default:throw Error(`Unknown page type '${e}'`)}}let m="fullResults"===e.status||"partialResults"===e.status||"loading"===e.status&&e.staleResults.length>0;function h(){o(""),r()}return(0,p.useEffect)(()=>{d.current?(i&&t(i),d.current=!1):i?a(i):r()},[i,t,a]),(0,p.useEffect)(()=>{let e=e=>{"Enter"===e.key&&document.activeElement===c.current&&i&&!m&&(e.preventDefault(),a.cancel(),t(i))};return c.current?.addEventListener("keydown",e),()=>c.current?.removeEventListener("keydown",e)},[i,m]),(0,n.jsxs)(Q.CommandWrapper,{children:[(0,n.jsxs)(G,{children:[(0,n.jsx)(Q.Breadcrumb,{}),(0,n.jsx)(Y,{placeholder:"Search...",ref:c})]}),(0,n.jsxs)(U.CommandList_Shadcn_,{className:"max-h-[initial]",children:[m&&("results"in e?e.results:e.staleResults).map((e,t)=>(0,n.jsxs)(V.CommandGroup_Shadcn_,{heading:"",value:`${encodeURIComponent(e.title)}-group-index-${t}`,forceMount:!0,className:"overflow-hidden py-3 px-2 text-border-strong [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:pb-1.5 [&_[cmdk-group-heading]]:text-sm [&_[cmdk-group-heading]]:font-normal [&_[cmdk-group-heading]]:text-foreground-muted",children:[(0,n.jsxs)(q.CommandItem_Shadcn_,{value:`${encodeURIComponent(e.title)}-item-index-${t}`,onSelect:()=>{u(e.type,e.path)},forceMount:!0,className:(0,F.cn)(et(!0),"border border-overlay/90"),children:[(0,n.jsxs)("div",{className:"grow flex gap-3 items-center",children:[(0,n.jsx)(tD,{children:function(e){switch(e.type){case tH.DocsSearchResultType.Markdown:case tH.DocsSearchResultType.Reference:case tH.DocsSearchResultType.Integration:return(0,n.jsx)(tA.Book,{strokeWidth:1.5,className:"!mr-0 !w-4 !h-4"});case tH.DocsSearchResultType.GithubDiscussion:return(0,n.jsx)(tM.Github,{strokeWidth:1.5,className:"!mr-0 !w-4 !h-4"});default:throw Error(`Unknown page type '${e.type}'`)}}(e)}),(0,n.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,n.jsx)(e_,{children:e.title}),(e.description||e.subtitle)&&(0,n.jsx)("div",{className:"text-xs text-foreground-muted",children:e.description||e.subtitle})]})]}),(0,n.jsx)(tL,{})]},`${e.path}-item`),e.sections.length>0&&(0,n.jsx)("div",{className:"border-l border-muted ml-3 pt-3",children:e.sections.map((t,a)=>(0,n.jsxs)(q.CommandItem_Shadcn_,{className:(0,F.cn)(et(!0),"border border-overlay/90","ml-3 mb-3"),onSelect:()=>{u(e.type,function(e,t){switch(e.type){case tH.DocsSearchResultType.Markdown:case tH.DocsSearchResultType.GithubDiscussion:return`${e.path}#${t.slug??""}`;case tH.DocsSearchResultType.Reference:return`${e.path}/${t.slug??""}`;case tH.DocsSearchResultType.Integration:return e.path;default:throw Error(`Unknown page type '${e.type}'`)}}(e,t))},value:`${encodeURIComponent(e.title)}__${encodeURIComponent(t.heading)}-item-index-${a}`,forceMount:!0,children:[(0,n.jsxs)("div",{className:"grow flex gap-3 items-center",children:[(0,n.jsx)(tD,{children:function(e){switch(e.type){case tH.DocsSearchResultType.Markdown:case tH.DocsSearchResultType.Reference:case tH.DocsSearchResultType.Integration:return(0,n.jsx)(tR.Hash,{strokeWidth:1.5,className:"!mr-0 !w-4 !h-4"});case tH.DocsSearchResultType.GithubDiscussion:return(0,n.jsx)(tT.MessageSquare,{strokeWidth:1.5,className:"!mr-0 !w-4 !h-4"});default:throw Error(`Unknown page type '${e.type}'`)}}(e)}),(0,n.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,n.jsx)("cite",{children:(0,n.jsx)(e_,{className:"not-italic text-[10px] rounded-full px-2 py-1 bg-surface-300 text-foreground-muted",children:e.title})}),t.heading&&(0,n.jsx)(e_,{children:t.heading})]})]}),(0,n.jsx)(tL,{})]},`${e.path}__${t.heading}-item`))})]},`${e.path}-group`)),"initial"===e.status&&(0,n.jsx)(V.CommandGroup_Shadcn_,{className:"overflow-hidden py-3 px-2 text-border-strong [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:pb-1.5 [&_[cmdk-group-heading]]:text-sm [&_[cmdk-group-heading]]:font-normal [&_[cmdk-group-heading]]:text-foreground-muted",children:tO.map(e=>{let a=e.replace(/\s+/g,"_");return(0,n.jsxs)(q.CommandItem_Shadcn_,{className:et(!1),disabled:m,onSelect:()=>{i||(t(e),o(e))},children:[(0,n.jsx)(ej.Search,{}),e]},a)})}),"loading"===e.status&&0===e.staleResults.length&&(0,n.jsxs)("div",{className:"flex items-center gap-3 my-4 justify-center",children:[(0,n.jsx)(N.Loader2,{className:"animate animate-spin text-foreground-muted",size:14}),(0,n.jsx)("p",{className:"text-sm text-foreground-muted text-center",children:"Searching for results"})]}),"noResults"===e.status&&(0,n.jsxs)("div",{className:"p-6 flex flex-col items-center gap-6 mt-4 text-foreground-light",children:[(0,n.jsx)(tm.StatusIcon,{variant:"default"}),(0,n.jsx)("p",{className:"text-sm text-foreground-light text-center",children:"No results found."}),(0,n.jsx)(tu.Button,{size:"tiny",type:"default",onClick:h,children:"Try again?"})]}),"error"===e.status&&(0,n.jsxs)("div",{className:"p-6 flex flex-col items-center gap-6 mt-4",children:[(0,n.jsx)(tm.StatusIcon,{variant:"warning"}),(0,n.jsx)("p",{className:"text-lg text-foreground-light",children:"Sorry, looks like we're having some issues with search!"}),(0,n.jsx)("p",{className:"text-sm text-foreground-lighter",children:"Please try again in a bit."}),(0,n.jsx)(tu.Button,{size:"tiny",type:"default",onClick:h,children:"Try again?"})]})]})]})},tz="Docs search",tB=e=>e;var tV=e.i(382710);let tq=(0,s.default)("MonitorDot",[["circle",{cx:"19",cy:"6",r:"3",key:"108a5v"}],["path",{d:"M22 12v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h9",key:"1fet9y"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]),tU=(0,s.default)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),tQ=(0,s.default)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var tG=e.i(896975),tK=e.i(460898);let tW="Switch theme";var tJ=e.i(546024),tX=e.i(108892),tZ=e.i(587433),tY=e.i(375761),t0=e.i(355901);let t1="API Keys";var t2=e.i(819993),t4=e.i(377451);let t6=(0,s.default)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);var t8=e.i(953197),t3=e.i(811025),t5=e.i(467461);let t9="Switch project",t7="Configure organization";var ae=e.i(787845),at=e.i(690679),aa=e.i(914417),an=e.i(657588);let ar=(0,s.default)("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]),as=(0,s.default)("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]),ao=(0,s.default)("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),ai=(0,s.default)("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]);var ad=e.i(479232),ac=e.i(505909),ac=ac,al=e.i(829298);let au=(0,s.default)("ShieldPlus",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9 12h6",key:"1c52cq"}],["path",{d:"M12 9v6",key:"199k2o"}]]),ap=(0,s.default)("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);var am=e.i(432639),ah=e.i(880791),ag=e.i(661739),af=e.i(469157),ay=e.i(906346),ax=e.i(250503),aj=e.i(376510),ab=e.i(722310),av=e.i(796238),aw=e.i(215618),aS=e.i(14703),ak=e.i(280590),aC=e.i(868118),a_=e.i(556684),a$=e.i(25862),aI=e.i(400104),aE=e.i(441081),aN=e.i(317040),aA=e.i(265735);let aP=(0,aa.default)(()=>e.A(429186).then(e=>e.AiIconAnimation),{loadableGenerated:{modules:[818996]}}),aM=(0,aa.default)(()=>e.A(429186).then(e=>e.Badge),{loadableGenerated:{modules:[818996]}}),aR=(0,aa.default)(()=>e.A(488584).then(e=>e.EdgeFunctions),{loadableGenerated:{modules:[851420]}}),aT=(0,aa.default)(()=>e.A(488584).then(e=>e.AnalyticsBucket),{loadableGenerated:{modules:[851420]}}),aH=(0,aa.default)(()=>e.A(488584).then(e=>e.FilesBucket),{loadableGenerated:{modules:[851420]}}),aO=(0,aa.default)(()=>e.A(488584).then(e=>e.VectorBucket),{loadableGenerated:{modules:[851420]}}),aL=(0,aa.default)(()=>e.A(488584).then(e=>e.Graphql),{loadableGenerated:{modules:[851420]}}),aD="Create Studio Entity";function aF(){let e;return!function(){let e=(0,$.useSetCommandMenuOpen)(),t=(0,g.useSetPage)(),{data:a}=(0,c.useSelectedProjectQuery)(),r=a?.ref||"_",{can:s,isLoading:o}=(0,O.useAsyncCheckPermissions)(M.PermissionAction.SECRETS_READ,"*"),{data:i}=(0,tX.useAPIKeysQuery)({projectRef:a?.ref,reveal:!0},{enabled:s}),d=(0,p.useMemo)(()=>{let{anonKey:t,serviceKey:o,publishableKey:d,allSecretKeys:c}=s?(0,tX.getKeys)(i):{};return[a&&d&&{id:"publishable-key",name:"Copy publishable key",action:()=>{(0,tY.copyToClipboard)(d.api_key??"",()=>{t0.toast.success("Publishable key copied to clipboard")}),e(!1)},badge:()=>(0,n.jsxs)("span",{className:"flex items-center gap-x-1",children:[(0,n.jsxs)(tZ.Badge,{children:["Project: ",a?.name]}),(0,n.jsx)(tZ.Badge,{children:d.type})]}),icon:()=>(0,n.jsx)(tJ.Key,{})},...a&&c?c.map(t=>({id:t.id,name:`Copy secret key (${t.name})`,action:()=>{(0,tY.copyToClipboard)(t.api_key??"",()=>{t0.toast.success("Secret key copied to clipboard")}),e(!1)},badge:()=>(0,n.jsxs)("span",{className:"flex items-center gap-x-1",children:[(0,n.jsxs)(tZ.Badge,{children:["Project: ",a?.name]}),(0,n.jsx)(tZ.Badge,{children:t.type})]}),icon:()=>(0,n.jsx)(tJ.Key,{})})):[],a&&t&&{id:"anon-key",name:"Copy anonymous API key",action:()=>{(0,tY.copyToClipboard)(t.api_key??"",()=>{t0.toast.success("Anonymous API key copied to clipboard")}),e(!1)},badge:()=>(0,n.jsxs)("span",{className:"flex items-center gap-x-1",children:[(0,n.jsxs)(tZ.Badge,{children:["Project: ",a?.name]}),(0,n.jsx)(tZ.Badge,{children:"Public"}),(0,n.jsx)(tZ.Badge,{children:t.type})]}),icon:()=>(0,n.jsx)(tJ.Key,{})},a&&o&&{id:"service-key",name:"Copy service API key",action:()=>{(0,tY.copyToClipboard)(o.api_key??"",()=>{t0.toast.success("Service key copied to clipboard")}),e(!1)},badge:()=>(0,n.jsxs)("span",{className:"flex items-center gap-x-1",children:[(0,n.jsxs)(tZ.Badge,{children:["Project: ",a?.name]}),(0,n.jsx)(tZ.Badge,{variant:"destructive",children:"Secret"}),(0,n.jsx)(tZ.Badge,{children:o.type})]}),icon:()=>(0,n.jsx)(tJ.Key,{})},!(t||o)&&{id:"api-keys-project-settings",name:"See API keys in Project Settings",route:`/project/${r}/settings/api-keys`,icon:()=>(0,n.jsx)(tJ.Key,{})}].filter(Boolean)},[i,s,a,r,e]);(0,g.useRegisterPage)(t1,{type:l.PageType.Commands,sections:[{id:"api-keys",name:"API keys",commands:d}]},{deps:[d],enabled:!!a&&d.length>0}),f(y,[{id:"api-keys",name:"Get API keys...",action:()=>t(t1),icon:()=>(0,n.jsx)(tJ.Key,{})}],{enabled:!!a&&d.length>0,orderSection:v,sectionMeta:{priority:3}})}(),function(){let e=(0,$.useSetCommandMenuOpen)(),{data:t}=(0,c.useSelectedProjectQuery)(),{data:a}=(0,t4.useProjectSettingsV2Query)({projectRef:t?.ref},{enabled:!!t}),r=a?.app_config?.protocol??"https",s=a?.app_config?.endpoint,o=s?`${r}://${s}`:void 0;f(y,[{id:"api-url",name:"Copy API URL",action:()=>{(0,tY.copyToClipboard)(o??"",()=>{t0.toast.success("API URL copied to clipboard")}),e(!1)},icon:()=>(0,n.jsx)(t2.Link,{}),badge:()=>(0,n.jsxs)(tZ.Badge,{children:["Project: ",t?.name]})}],{enabled:!!t,deps:[o,t],orderSection:v,sectionMeta:{priority:3}})}(),function(){let e=(0,C.useRouter)(),t=(0,$.useSetCommandMenuOpen)(),{data:a}=(0,c.useSelectedProjectQuery)(),r=a?.status===_.PROJECT_STATUS.ACTIVE_HEALTHY;f(y,[{id:"connect-to-project",name:"Connect to your project",action:()=>{e.push({pathname:e.pathname,query:{...e.query,showConnect:"true"}},void 0,{shallow:!0}),t(!1)},icon:()=>(0,n.jsx)(k.Plug,{className:"rotate-90"})},{id:"connect-mcp",name:"Connect via MCP",action:()=>{e.push({pathname:e.pathname,query:{...e.query,showConnect:"true",connectTab:"mcp"}},void 0,{shallow:!0}),t(!1)},icon:()=>(0,n.jsx)(k.Plug,{className:"rotate-90"})}],{enabled:!!a&&r,orderSection:v,sectionMeta:{priority:2}})}(),function(){let{data:e}=(0,c.useSelectedProjectQuery)(),t=e?.ref||"_";f(j,[{id:"create-table",name:"Create new table",route:`/project/${t}/editor?create=table`,icon:()=>(0,n.jsx)(A.Table2,{})}],{...void 0,deps:[t],enabled:((void 0)??!0)&&!!e,orderSection:v,sectionMeta:{priority:3}})}(),function(){let e=(0,g.useSetPage)(),{data:t}=(0,t5.useProjectsInfiniteQuery)({},{enabled:r.IS_PLATFORM}),a=(0,p.useMemo)(()=>t?.pages.flatMap(e=>e.projects),[t?.pages])||[];(0,g.useRegisterPage)(t9,{type:l.PageType.Commands,sections:[{id:"switch-project",name:"Switch project",commands:a.map(({name:e,ref:t})=>({id:`project-${t}`,name:e,value:`${e} (${t})`,route:`/project/${t}`,icon:()=>(0,n.jsx)(o,{})}))}]},{deps:[a],enabled:!!a&&a.length>0}),f(y,[{id:"switch-project",name:"Switch project...",value:"Switch project, Change project, Select project",action:()=>e(t9),icon:()=>(0,n.jsx)(t8.Wrench,{})}],{enabled:!!a&&a.length>0})}(),function(){let e=(0,g.useSetPage)(),{data:t}=(0,t3.useOrganizationsQuery)({enabled:r.IS_PLATFORM});(0,g.useRegisterPage)(t7,{type:l.PageType.Commands,sections:[{id:"configure-organization",name:"Configure organization",commands:t?.map(({name:e,slug:t})=>({id:`organization-${t}`,name:e,value:`${e} (${t})`,route:`/org/${t}/general`,icon:()=>(0,n.jsx)(t6,{})}))??[]}]},{deps:[t],enabled:!!t&&t.length>0}),f(y,[{id:"configure-organization",name:"Configure organization...",value:"Configure organization, Change organization, Select organization",action:()=>e(t7),icon:()=>(0,n.jsx)(t6,{})}],{enabled:!!t&&t.length>0})}(),function(){let{data:e}=(0,c.useSelectedProjectQuery)(),t=(0,g.useSetPage)(),a=(0,$.useCommandMenuOpen)(),r=(0,p.useRef)(a),s=a&&!r.current;r.current=a;let o=(0,H.usePrefetchTables)({projectRef:e?.ref,connectionString:e?.connectionString});(0,p.useEffect)(()=>{e&&s&&o(void 0,!0)},[e,o,s]),(0,g.useRegisterPage)(eu,{type:l.PageType.Component,component:ep},{enabled:!!e}),f(b,[{id:"query-table",name:"Query a table...",icon:()=>(0,n.jsx)(A.Table2,{}),action:()=>t(eu)}],{...void 0,enabled:((void 0)??!0)&&!!e})}(),function(){let e=(0,g.useSetPage)(),{data:t}=(0,c.useSelectedProjectQuery)(),a=t?.is_branch_enabled===!0,{data:r}=(0,d.useBranchesQuery)({projectRef:t?.parent_project_ref||t?.ref},{enabled:a});r??=S,(0,g.useRegisterPage)(w,{type:l.PageType.Commands,sections:[{id:"switch-branch",name:"Switch branch",commands:r.map(e=>({id:`branch-${e.id}`,name:e.name,route:`/project/${e.project_ref}`,icon:()=>(0,n.jsx)(o,{})}))}]},{enabled:a&&r.length>0,deps:[r]}),f(y,[{id:"switch-branch",name:"Switch branch",value:"Switch branch, Change branch, Select branch",action:()=>e(w),icon:()=>(0,n.jsx)(i.GitBranch,{})}],{enabled:a&&r.length>0,orderSection:v,sectionMeta:{priority:3}})}(),function(){let{data:e}=(0,c.useSelectedProjectQuery)(),t=(0,g.useSetPage)();(0,g.useRegisterPage)(er,{type:l.PageType.Component,component:()=>(0,n.jsx)(es,{})},{enabled:!!e}),f(b,[{id:"run-snippet",name:"Run snippet...",icon:()=>(0,n.jsx)(E.Code,{}),action:()=>t(er)}],{enabled:!!e,orderSection:v,sectionMeta:{priority:3}})}(),!function(e){let{ref:t}=(0,R.useParams)();t||="_",f(j,[{id:"view-tables",name:"View your tables",route:`/project/${t}/editor`,icon:()=>(0,n.jsx)(A.Table2,{})}],{...e,deps:[t],orderSection:v,sectionMeta:{priority:3}}),f(x,[{id:"nav-table-editor",name:"Table Editor",route:`/project/${t}/editor`,defaultHidden:!0}],{...e,deps:[t]})}({enabled:e=(0,eh.useIsLoggedIn)()}),function(e){let{ref:t}=(0,R.useParams)();t||="_",f(x,[{id:"nav-sql-editor",name:"SQL Editor",route:`/project/${t}/sql`,defaultHidden:!0}],{...e,deps:[t]})}({enabled:e}),function(e){let{ref:t}=(0,R.useParams)();t||="_";let{databaseReplication:a,databaseRoles:r,integrationsWrappers:s}=(0,eg.useIsFeatureEnabled)(["database:replication","database:roles","integrations:wrappers"]);f("Queries",[{id:"run-sql",name:"Run SQL",route:`/project/${t}/sql/new`,icon:()=>(0,n.jsx)(E.Code,{})}],{...e,deps:[t],orderSection:v,sectionMeta:{priority:2}}),f(x,[{id:"nav-database-tables",name:"Tables",value:"Database: Tables",route:`/project/${t}/database/tables`,defaultHidden:!0},{id:"nav-database-triggers",name:"Triggers",value:"Database: Triggers",route:`/project/${t}/database/triggers`,defaultHidden:!0},{id:"nav-database-functions",name:"Functions",value:"Database: Functions",route:`/project/${t}/database/functions`,defaultHidden:!0},{id:"nav-database-extensions",name:"Extensions",value:"Database: Extensions",route:`/project/${t}/database/extensions`,defaultHidden:!0},...r?[{id:"nav-database-roles",name:"Roles",value:"Database: Roles",route:`/project/${t}/database/roles`,defaultHidden:!0}]:[],...a?[{id:"nav-database-replication",name:"Replication",value:"Database: Replication",route:`/project/${t}/database/replication`,defaultHidden:!0}]:[],{id:"nav-database-hooks",name:"Webhooks",value:"Database: Webhooks",route:`/project/${t}/integrations/webhooks`,defaultHidden:!0},{id:"nav-database-backups",name:"Backups",value:"Database: Backups",route:`/project/${t}/database/backups/scheduled`,defaultHidden:!0},...s?[{id:"nav-database-wrappers",name:"Wrappers",value:"Database: Wrappers",route:`/project/${t}/integrations?category=wrappers`,defaultHidden:!0}]:[],{id:"nav-database-migrations",name:"Migrations",value:"Database: Migrations",route:`/project/${t}/database/migrations`,defaultHidden:!0}],{...e,deps:[t]}),f("Database",[{id:"run-schema-visualizer",name:"View your schemas",route:`/project/${t}/database/schemas`,icon:()=>(0,n.jsx)(ej.Search,{})},{id:"run-view-database-functions",name:"View and create functions",route:`/project/${t}/database/functions`,icon:()=>(0,n.jsx)(ey.Database,{})},{id:"run-view-database-triggers",name:"View and create triggers",route:`/project/${t}/database/triggers`,icon:()=>(0,n.jsx)(ey.Database,{})},{id:"run-view-database-enumerated-types",name:"View and create enumerated types",route:`/project/${t}/database/types`,icon:()=>(0,n.jsx)(ey.Database,{})},{id:"run-view-database-extensions",name:"View your extensions",route:`/project/${t}/database/extensions`,icon:()=>(0,n.jsx)(ef.Blocks,{})},{id:"run-view-database-indexes",name:"View and create indexes",route:`/project/${t}/database/indexes`,icon:()=>(0,n.jsx)(ey.Database,{})},...r?[{id:"run-view-database-roles",name:"View your roles",route:`/project/${t}/database/roles`,icon:()=>(0,n.jsx)(ey.Database,{})}]:[],{id:"run-view-database-backups",name:"View your backups",route:`/project/${t}/database/backups/scheduled`,icon:()=>(0,n.jsx)(ey.Database,{})},{id:"run-view-database-migrations",name:"View your migrations",route:`/project/${t}/database/migrations`,icon:()=>(0,n.jsx)(ex.default,{})}],{...e,deps:[t],orderSection:v,sectionMeta:{priority:3}})}({enabled:e}),function(e){let{ref:t}=(0,R.useParams)();t||="_";let{authenticationSignInProviders:a,authenticationThirdPartyAuth:n,authenticationRateLimits:r,authenticationEmails:s,authenticationMultiFactor:o,authenticationAttackProtection:i,authenticationPerformance:d}=(0,eg.useIsFeatureEnabled)(["authentication:sign_in_providers","authentication:third_party_auth","authentication:rate_limits","authentication:emails","authentication:multi_factor","authentication:attack_protection","authentication:performance"]);f(x,[{id:"nav-auth-users",name:"Users",value:"Auth: Users",route:`/project/${t}/auth/users`,defaultHidden:!0},{id:"nav-auth-policies",name:"Policies",value:"Auth: Policies (RLS)",route:`/project/${t}/auth/policies`,defaultHidden:!0},...a?[{id:"nav-auth-providers",name:"Providers",value:"Auth: Providers (Social Login, SSO)",route:`/project/${t}/auth/providers`,defaultHidden:!0}]:[],...n?[{id:"nav-auth-providers",name:"Providers (Third Party)",value:"Auth: Providers (Third Party)",route:`/project/${t}/auth/third-party`,defaultHidden:!0}]:[],{id:"nav-auth-sessions",name:"Sessions",value:"Auth: Sessions (User Sessions)",route:`/project/${t}/auth/sessions`,defaultHidden:!0},...r?[{id:"nav-auth-rate-limits",name:"Rate Limits",value:"Auth: Rate Limits",route:`/project/${t}/auth/rate-limits`,defaultHidden:!0}]:[],...s?[{id:"nav-auth-templates",name:"Email Templates",value:"Auth: Email Templates",route:`/project/${t}/auth/templates`,defaultHidden:!0},{id:"nav-auth-smtp",name:"SMTP Settings",value:"Auth: SMTP Settings (Email Configuration)",route:`/project/${t}/auth/smtp`,defaultHidden:!0}]:[],...o?[{id:"nav-auth-mfa",name:"Multi Factor Authentication (MFA)",value:"Auth: Multi Factor Authenticaiton (MFA)",route:`/project/${t}/auth/mfa`,defaultHidden:!0}]:[],{id:"nav-auth-url-configuration",name:"URL Configuration",value:"Auth: URL Configuration (Site URL, Redirect URLs)",route:`/project/${t}/auth/url-configuration`,defaultHidden:!0},...i?[{id:"nav-auth-attack-protection",name:"Attack Protection",value:"Auth: Attack Protection",route:`/project/${t}/auth/protection`,defaultHidden:!0}]:[],{id:"nav-auth-auth-hooks",name:"Auth Hooks",value:"Auth: Auth Hooks",route:`/project/${t}/auth/hooks`,defaultHidden:!0},...d?[{id:"nav-auth-performance-settings",name:"Auth Performance Settings",value:"Auth: Performance Settings",route:`/project/${t}/auth/performance`,defaultHidden:!0}]:[]],{...e,deps:[t]})}({enabled:e}),function(e){let{ref:t}=(0,R.useParams)();t||="_",f(x,[{id:"nav-advisors-security",name:"Security Advisor",route:`/project/${t}/advisors/security`,defaultHidden:!0},{id:"nav-advisors-performance",name:"Performance Advisor",route:`/project/${t}/advisors/performance`,defaultHidden:!0}],{...e,deps:[t]})}({enabled:e}),function(e){let{ref:t}=(0,R.useParams)();t||="_",f(x,[{id:"nav-storage",name:"Storage",route:`/project/${t}/storage`,defaultHidden:!0}],{...e,deps:[t]})}({enabled:e}),function(e){let{ref:t}=(0,R.useParams)();t||="_",f(x,[{id:"nav-functions",name:"Edge Functions",route:`/project/${t}/functions`,defaultHidden:!0}],{...e,deps:[t]})}({enabled:e}),function(e){let{ref:t}=(0,R.useParams)();t||="_";let{logsCollections:a}=(0,eg.useIsFeatureEnabled)(["logs:collections"]);f(x,[{id:"nav-logs-explorer",name:"Logs Explorer",route:`/project/${t}/logs/explorer`,defaultHidden:!0},...a?[{id:"nav-logs-postgres",name:"Postgres Logs",route:`/project/${t}/logs/postgres-logs`,defaultHidden:!0},{id:"nav-logs-postgrest",name:"PostgREST Logs",route:`/project/${t}/logs/postgrest-logs`,defaultHidden:!0},{id:"nav-logs-pooler",name:"Pooler Logs",route:`/project/${t}/logs/pooler-logs`,defaultHidden:!0},{id:"nav-logs-auth",name:"Auth Logs",route:`/project/${t}/logs/auth-logs`,defaultHidden:!0},{id:"nav-logs-storage",name:"Storage Logs",route:`/project/${t}/logs/storage-logs`,defaultHidden:!0},{id:"nav-logs-realtime",name:"Realtime Logs",route:`/project/${t}/logs/realtime-logs`,defaultHidden:!0}]:[]],{...e,deps:[t]})}({enabled:e}),function(e){let{ref:t}=(0,R.useParams)();t||="_";let{reportsAll:a}=(0,eg.useIsFeatureEnabled)(["reports:all"]),n=((0,X.useQuery)()?.toLowerCase()??"").includes("query"),r=(0,p.useMemo)(()=>{if(n)return(e,t)=>[...t,...e.filter(e=>e.id!==ew)]},[n]),s=(0,p.useMemo)(()=>n?ev.orderSectionFirst:e?.orderSection,[e?.orderSection,n]);f(x,a?[{id:"nav-reports",name:"Reports",route:`/project/${t}/reports`,defaultHidden:!0},{id:"nav-reports-api",name:"API Reports",route:`/project/${t}/reports/api-overview`,defaultHidden:!0},{id:"nav-reports-storage",name:"Storage Reports",route:`/project/${t}/reports/storage`,defaultHidden:!0},{id:"nav-reports-database",name:"Database Reports",route:`/project/${t}/reports/database`,defaultHidden:!0}]:[],{...e,orderSection:s,deps:[t,s,...e?.deps??[]]}),f(x,a?[{id:ew,name:"Query Performance Reports",route:`/project/${t}/reports/query-performance`,defaultHidden:!0}]:[],{...e,orderCommands:r??e?.orderCommands,orderSection:s,deps:[t,r,s,...e?.deps??[]]})}({enabled:e}),function(e){let{ref:t}=(0,R.useParams)();t||="_",f(x,[{id:"nav-api",name:"Project API Docs",route:`/project/${t}/api`,defaultHidden:!0},{id:"nav-api-auth",name:"Auth Docs",route:`/project/${t}/api?page=auth`,defaultHidden:!0},{id:"nav-api-user-management",name:"User Management Docs",route:`/project/${t}/api?page=users-management`,defaultHidden:!0},{id:"nav-api-graphql",name:"GraphQL Docs",route:`/project/${t}/api/graphiql`,defaultHidden:!0}],{...e,deps:[t]})}({enabled:e}),function(e){let t=(0,C.useRouter)(),a=(0,$.useSetCommandMenuOpen)(),{ref:n}=(0,R.useParams)();n||="_";let{projectSettingsLogDrains:r,projectSettingsCustomDomains:s,authenticationSignInProviders:o}=(0,eg.useIsFeatureEnabled)(["project_settings:log_drains","project_settings:custom_domains","authentication:sign_in_providers"]);f(x,[{id:"nav-project-settings-general",name:"General Settings",route:`/project/${n}/settings/general`,defaultHidden:!0},{id:"nav-project-settings-database",name:"Database Settings",route:`/project/${n}/database/settings`,defaultHidden:!0},{id:"nav-project-settings-auth",name:"Auth Settings",route:o?`/project/${n}/auth/providers`:`/project/${n}/auth/policies`,defaultHidden:!0},{id:"nav-project-settings-api",name:"API Settings",route:`/project/${n}/settings/api`,defaultHidden:!0},{id:"nav-project-settings-storage",name:"Storage Settings",route:`/project/${n}/storage/settings`,defaultHidden:!0},...s?[{id:"nav-project-settings-custom-domains",name:"Custom Domains",route:`/project/${n}/settings/general#custom-domains`,defaultHidden:!0}]:[],{id:"nav-project-settings-restart-project",name:"Restart project",route:`/project/${n}/settings/general#restart-project`,defaultHidden:!0},{id:"nav-project-settings-pause-project",name:"Pause project",route:`/project/${n}/settings/general#pause-project`,defaultHidden:!0},{id:"nav-project-settings-transfer-project",name:"Transfer project",route:`/project/${n}/settings/general#transfer-project`,defaultHidden:!0},{id:"nav-project-settings-delete-project",name:"Delete project",route:`/project/${n}/settings/general#delete-project`,defaultHidden:!0},{id:"nav-project-settings-database-password",name:"Database password",route:`/project/${n}/database/settings#database-password`,defaultHidden:!0},{id:"nav-project-settings-connection-string",name:"Connection string",action:()=>{t.push({pathname:t.pathname,query:{...t.query,showConnect:"true"}},void 0,{shallow:!0}),a(!1)},defaultHidden:!0},{id:"nav-project-settings-connection-pooling",name:"Connection pooling",route:`/project/${n}/database/settings#connection-pooler`,defaultHidden:!0},{id:"nav-project-settings-ssl-configuration",name:"SSL configuration",route:`/project/${n}/database/settings#ssl-configuration`,defaultHidden:!0},{id:"nav-project-settings-network-restrictions",name:"Network restrictions",route:`/project/${n}/database/settings#network-restrictions`,defaultHidden:!0},{id:"nav-project-settings-banned-ips",name:"Banned IPs",route:`/project/${n}/database/settings#banned-ips`,defaultHidden:!0},...r?[{id:"nav-project-settings-log-drains",name:"Log drains",route:`/project/${n}/settings/log-drains`,defaultHidden:!0}]:[]],{...e,deps:[n]})}({enabled:e}),function(e){let{ref:t}=(0,R.useParams)();t||="_";let{integrationsWrappers:a}=(0,eg.useIsFeatureEnabled)(["integrations:wrappers"]),r=a?eb.INTEGRATIONS:eb.INTEGRATIONS.filter(e=>!e.id.endsWith("_wrapper"));f(x,r.map(e=>({id:`nav-integrations-${e.id}`,name:e.name,value:`Integrations: ${e.name}`,route:`/project/${t}/integrations/${e.id}/overview`,defaultHidden:!0})),{...e,deps:[t]}),f("Integrations",r.map(e=>({id:`manage-${e.id}`,name:(e=>{switch(e.id){case"cron":return"View and manage your Cron Jobs";case"graphiql":return"Query database using GraphQL";case"vault":return"View and manage your keys and secrets via Vault";default:return`View and manage your ${e.name}${"wrapper"===e.type?"s":""}`}})(e),route:`/project/${t}/integrations/${e.id}/overview`,icon:()=>(0,n.jsx)("div",{className:"w-6 h-6 relative bg-white border rounded-md flex items-center justify-center [&>img]:!p-1 [&>svg]:!p-1",children:e.icon()})})),{...e,deps:[t],orderSection:v,sectionMeta:{priority:3}})}({enabled:e}),(({modify:e=tB,options:t}={})=>{let a=(0,g.useSetPage)();(0,g.useRegisterPage)(tz,{type:l.PageType.Component,component:tF}),f("Docs",[{id:"search-docs",name:"Search the docs",action:()=>{a(tz,!0)},icon:()=>(0,n.jsx)(tA.Book,{})}].map(e),t)})({options:{orderSection:v,sectionMeta:{priority:3}}}),(({modify:e=tN,options:t}={})=>{let a=(0,g.useSetPage)();(0,g.useRegisterPage)(tE,{type:l.PageType.Component,component:tk}),f("Docs",[{id:"ai-docs",name:"Ask Supabase AI",action:()=>{a(tE,!0)},icon:()=>(0,n.jsx)(eN.AiIconAnimation,{})}].map(e),t)})({options:{orderSection:v,sectionMeta:{priority:3}}}),f("Support",(0,p.useMemo)(()=>[{id:"system-status",name:"View system status",value:"Support: View system status",route:"https://status.supabase.com",icon:()=>(0,n.jsx)(ae.Activity,{})},{id:"discord-community",name:"Ask Discord community",value:"Support: Ask Discord community",route:"https://discord.supabase.com",icon:()=>(0,n.jsx)(at.LifeBuoy,{})},{id:"support-team",name:"Contact support",value:"Support: Contact support",route:"https://www.supabase.com/support",icon:()=>(0,n.jsx)(at.LifeBuoy,{})}],[]),{enabled:r.IS_PLATFORM}),(({enabled:e=!0}={})=>{f("Updates",[{id:"changelog",name:"View changelog",route:eE?"https://supabase.com/changelog":"/changelog",icon:()=>(0,n.jsx)(eI.Inbox,{})}],{enabled:e})})({enabled:r.IS_PLATFORM}),(({options:e}={})=>{let t=(0,$.useSetCommandMenuOpen)(),a=(0,g.useSetPage)(),{setTheme:r}=(0,tG.useTheme)();(0,g.useRegisterPage)(tW,{type:l.PageType.Commands,sections:[{id:"switch-theme",name:"Switch theme",commands:tK.themes.filter(({name:e})=>"System"===e||"Light"===e||"Dark"===e).map(e=>({id:`switch-theme-${e.value}`,name:e.name,action:()=>{r(e.value),t(!1)},icon:()=>"System"===e.name?(0,n.jsx)(tV.Monitor,{}):"Light"===e.name?(0,n.jsx)(tQ,{}):(0,n.jsx)(tU,{})}))}]}),f("Theme",[{id:"switch-theme",name:"Switch theme...",action:()=>a(tW),defaultHidden:!0,icon:()=>(0,n.jsx)(tq,{})}],e)})(),!function(e){let t=(0,an.useFlag)("enablecreatecommands"),a=(0,$.useSetCommandMenuOpen)(),{ref:s,setPage:o,openSidebar:i,snap:d,authenticationOauth21:c,authEnabled:u,edgeFunctionsEnabled:m,storageEnabled:h,sendSmsHook:x,sendEmailHook:j,customAccessTokenHook:b,mfaVerificationHook:v,mfaVerificationHookEnabled:w,passwordVerificationHook:S,passwordVerificationHookEnabled:k,beforeUserCreatedHook:C,isFreePlan:_,isVectorBucketsEnabled:I,isAnalyticsBucketsEnabled:E,installedIntegrationIds:N,allIntegrations:P,reportsEnabled:M}=function(){let{ref:e}=(0,R.useParams)();e||="_";let t=(0,g.useSetPage)(),{openSidebar:a}=(0,aE.useSidebarManagerSnapshot)(),n=(0,aN.useAiAssistantStateSnapshot)(),r=(0,an.useFlag)("EnableOAuth21"),{projectAuthAll:s,projectEdgeFunctionAll:o,projectStorageAll:i,reportsAll:d}=(0,eg.useIsFeatureEnabled)(["project_auth:all","project_edge_function:all","project_storage:all","reports:all"]),{data:c,isError:l,isPending:u}=(0,aS.useAuthConfigQuery)({projectRef:e}),{getEntitlementSetValues:m}=(0,ak.useCheckEntitlements)("auth.hooks"),h=m(),{nonAvailableHooks:f}=(0,p.useMemo)(()=>({nonAvailableHooks:a_.HOOKS_DEFINITIONS.map(e=>({...e,enabled:c?.[e.enabledKey]||!1,method:(0,aC.extractMethod)(c?.[e.uriKey]||"",c?.[e.secretsKey]||"")})).filter(e=>!(0,aC.isValidHook)(e)&&!h.includes(e.entitlementKey)).map(e=>e.entitlementKey)}),[h,c]),y=!l&&!u,x=a_.HOOKS_DEFINITIONS.find(e=>"send-sms"===e.id),j=a_.HOOKS_DEFINITIONS.find(e=>"send-email"===e.id),b=a_.HOOKS_DEFINITIONS.find(e=>"custom-access-token-claims"===e.id),v=a_.HOOKS_DEFINITIONS.find(e=>"mfa-verification-attempt"===e.id),w=y&&v&&f.includes(v.entitlementKey),S=a_.HOOKS_DEFINITIONS.find(e=>"password-verification-attempt"===e.id),k=y&&S&&f.includes(S.entitlementKey),C=a_.HOOKS_DEFINITIONS.find(e=>"before-user-created"===e.id),{data:_}=(0,aA.useSelectedOrganizationQuery)(),$=_?.plan.id==="free",I=(0,a$.useIsVectorBucketsEnabled)({projectRef:e}),E=(0,a$.useIsAnalyticsBucketsEnabled)({projectRef:e}),{installedIntegrations:N}=(0,aI.useInstalledIntegrations)(),A=(0,p.useMemo)(()=>new Set(N.map(e=>e.id)),[N]),{integrationsWrappers:P}=(0,eg.useIsFeatureEnabled)(["integrations:wrappers"]),M=P?eb.INTEGRATIONS:eb.INTEGRATIONS.filter(e=>!e.id.endsWith("_wrapper"));return{ref:e,setPage:t,openSidebar:a,snap:n,authenticationOauth21:r,authEnabled:s,edgeFunctionsEnabled:o,storageEnabled:i,sendSmsHook:x,sendEmailHook:j,customAccessTokenHook:b,mfaVerificationHook:v,mfaVerificationHookEnabled:w,passwordVerificationHook:S,passwordVerificationHookEnabled:k,beforeUserCreatedHook:C,isFreePlan:$,isVectorBucketsEnabled:I,isAnalyticsBucketsEnabled:E,installedIntegrationIds:A,integrationsWrappers:P,allIntegrations:M,reportsEnabled:d}}(),T=(0,p.useMemo)(()=>[{id:"create-db-table",name:"Create Table",route:`/project/${s}/editor?create=table`,icon:()=>(0,n.jsx)(A.Table2,{})},{id:"create-db-index",name:"Create Index",route:`/project/${s}/database/indexes?new=true`,icon:()=>(0,n.jsx)(ac.default,{})},{id:"create-db-function",name:"Create Database Function",route:`/project/${s}/database/functions?new=true`,icon:()=>(0,n.jsx)(ar,{})},{id:"create-db-enum",name:"Create Enumerated Type",route:`/project/${s}/database/types?new=true`,icon:()=>(0,n.jsx)(ao,{})},{id:"create-db-trigger",name:"Create Database Trigger",route:`/project/${s}/database/triggers?new=true`,icon:()=>(0,n.jsx)(ag.Zap,{})},{id:"create-db-role",name:"Create Database Role",route:`/project/${s}/database/roles?new=true`,icon:()=>(0,n.jsx)(ap,{})}].filter(Boolean),[s]),H=(0,p.useMemo)(()=>u?[{id:"create-auth-user",name:"Create Auth User",route:`/project/${s}/auth/users?new=true`,icon:()=>(0,n.jsx)(am.UserPlus,{})},{id:"create-rls-policy",name:"Create RLS Policy",route:`/project/${s}/auth/policies?new=true`,icon:()=>(0,n.jsx)(au,{})},...r.IS_PLATFORM?[{id:"create-auth-hook-sms",name:"Create Auth Hook (SMS)",route:`/project/${s}/auth/hooks?hook=${x?.id}`,icon:()=>(0,n.jsx)(af.MessageCircle,{})},{id:"create-auth-hook-email",name:"Create Auth Hook (Email)",route:`/project/${s}/auth/hooks?hook=${j?.id}`,icon:()=>(0,n.jsx)(ay.Mail,{})},{id:"create-auth-hook-custom-access-token",name:"Create Auth Hook (Custom Access Token)",route:`/project/${s}/auth/hooks?hook=${b?.id}`,icon:()=>(0,n.jsx)(as,{})},{id:"create-auth-hook-mfa-verification",name:"Create Auth Hook (MFA Verification Attempt)",route:`/project/${s}/auth/hooks?hook=${v?.id}`,icon:()=>(0,n.jsx)(au,{}),badge:()=>w?(0,n.jsx)(aM,{children:"Team"}):null,className:w?"opacity-50 cursor-not-allowed pointer-events-none":""},{id:"create-auth-hook-password-verification",name:"Create Auth Hook (Password Verification Attempt)",route:`/project/${s}/auth/hooks?hook=${S?.id}`,icon:()=>(0,n.jsx)(ax.Lock,{}),badge:()=>k?(0,n.jsx)(aM,{children:"Team"}):null,className:k?"opacity-50 cursor-not-allowed pointer-events-none":""},{id:"create-auth-hook-before-user-created",name:"Create Auth Hook (Before User Created)",route:`/project/${s}/auth/hooks?hook=${C?.id}`,icon:()=>(0,n.jsx)(as,{})}]:[],...r.IS_PLATFORM&&c?[{id:"create-oauth-app",name:"Create OAuth App",route:`/project/${s}/auth/oauth-apps?new=true`,icon:()=>(0,n.jsx)(as,{})}]:[]].filter(Boolean):[],[s,u,x,j,b,v,w,S,k,C,c]),O=(0,p.useMemo)(()=>m?[{id:"create-edge-function-editor",name:"Create Edge Function via Editor",route:`/project/${s}/functions/new`,icon:()=>(0,n.jsx)(aR,{})},{id:"create-edge-function-cli",name:"Create Edge Function via CLI",route:`/project/${s}/functions?create=cli`,icon:()=>(0,n.jsx)(aR,{})},{id:"create-edge-function-ai",name:"Create Edge Function via AI",action:()=>{i(aw.SIDEBAR_KEYS.AI_ASSISTANT),d.newChat({name:"Create new edge function",initialInput:"Create a new edge function that ...",suggestions:{title:"I can help you create a new edge function. Here are a few example prompts to get you started:",prompts:[{label:"Stripe Payments",description:"Create a new edge function that processes payments with Stripe"},{label:"Email with Resend",description:"Create a new edge function that sends emails with Resend"},{label:"PDF Generator",description:"Create a new edge function that generates PDFs from HTML templates"}]}}),a(!1)},icon:()=>(0,n.jsx)(aP,{allowHoverEffect:!1,size:20,className:"text-foreground-light"})},{id:"create-edge-function-secret",name:"Create Edge Function Secret",route:`/project/${s}/functions/secrets`,icon:()=>(0,n.jsx)(ai,{})}].filter(Boolean):[],[s,m,i,d,a]),L=(0,p.useMemo)(()=>h?[{id:"create-storage-bucket-files",name:"Create Storage Bucket (Files)",route:`/project/${s}/storage/files?new=true`,icon:()=>(0,n.jsx)(aH,{})},{id:"create-storage-bucket-analytics",name:"Create Storage Bucket (Analytics)",route:`/project/${s}/storage/analytics?new=true`,icon:()=>(0,n.jsx)(aT,{}),badge:()=>_?(0,n.jsx)(aM,{children:"Pro"}):null,className:E?"":"opacity-50 cursor-not-allowed pointer-events-none"},{id:"create-storage-bucket-vectors",name:"Create Storage Bucket (Vectors)",route:`/project/${s}/storage/vectors?new=true`,icon:()=>(0,n.jsx)(aO,{}),badge:()=>_?(0,n.jsx)(aM,{children:"Pro"}):null,className:I?"":"opacity-50 cursor-not-allowed pointer-events-none"}].filter(Boolean):[],[s,h,_,E,I]),D=(0,p.useMemo)(()=>[...P].sort((e,t)=>("wrapper"===e.type)-("wrapper"===t.type)).map(e=>{let t=function(e,t,a){if("wrapper"===e.type)return`/project/${t}/integrations/${e.id}/overview?new=true`;if(!a.has(e.id))return null;switch(e.id){case"vault":return`/project/${t}/integrations/vault/secrets?new=true`;case"cron":return`/project/${t}/integrations/cron/jobs?new=true`;case"webhooks":return`/project/${t}/integrations/webhooks/webhooks?new=true`;case"queues":return`/project/${t}/integrations/queues/queues?new=true`;default:{let a=e.navigation?.find(e=>"overview"!==e.route);if(a)return`/project/${t}/integrations/${e.id}/${a.route}?new=true`;return null}}}(e,s,N);if(!t)return null;let a="wrapper"===e.type;return{id:`create-integration-${e.id}`,name:function(e){if("wrapper"===e.type){let t=e.name.replace(" Wrapper","");return`Add ${t} wrapper`}switch(e.id){case"vault":return"Create Vault Secret";case"cron":return"Create Cron Job";case"webhooks":return"Create Webhook";case"queues":return"Create Queue";default:return`Create ${e.name}`}}(e),route:t,icon:()=>{if(a)return(0,n.jsx)("div",{className:"w-6 h-6 relative bg-white border rounded-md flex items-center justify-center [&>img]:!p-1 [&>svg]:!p-1",children:e.icon()});switch(e.id){case"vault":return(0,n.jsx)(al.Vault,{});case"cron":return(0,n.jsx)(ab.Clock5,{});case"webhooks":return(0,n.jsx)(ah.Webhook,{});case"queues":return(0,n.jsx)(av.Layers,{});case"graphiql":return(0,n.jsx)(aL,{});default:return e.icon()}}}}).filter(Boolean),[s,P,N]),F=(0,p.useMemo)(()=>[...r.IS_PLATFORM&&M?[{id:"create-observability-report",name:"Create Custom Report",route:`/project/${s}/observability/api-overview?newReport=true`,icon:()=>(0,n.jsx)(aj.Telescope,{})}].filter(Boolean):[]],[s,M]),z=(0,p.useMemo)(()=>[{id:"create-database",name:"Database",commands:T},...H.length>0?[{id:"create-auth",name:"Auth",commands:H}]:[],...O.length>0?[{id:"create-edge-functions",name:"Edge Functions",commands:O}]:[],...L.length>0?[{id:"create-storage",name:"Storage",commands:L}]:[],...F.length>0?[{id:"create-observability",name:"Observability",commands:F}]:[],...D.length>0?[{id:"create-integrations",name:"Integrations",commands:D}]:[]],[T,H,O,L,D,F]);(0,g.useRegisterPage)(aD,{type:l.PageType.Commands,sections:z},{deps:[z],enabled:t}),f(y,[{id:"create-studio-entity",name:"Create...",action:()=>o(aD),icon:()=>(0,n.jsx)(ad.Plus,{})}],{...void 0,orderSection:e=>e,sectionMeta:{priority:3},enabled:t})}(),(0,n.jsxs)(Q.CommandMenu,{children:[(0,n.jsx)(G,{children:(0,n.jsx)(Y,{})}),(0,n.jsx)(e$,{})]})}e.s(["default",()=>aF],236823)},15922,e=>{e.n(e.i(236823))}]);

//# debugId=c8e7ce6b-99a0-39c6-d5df-eefb6c9c8459
//# sourceMappingURL=f00b1fe563a0fcf3.js.map